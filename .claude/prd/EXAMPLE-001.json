{
  "$schema": "https://lightwave-os.local/schemas/prd-v1.json",
  "feature_id": "EXAMPLE-001",
  "title": "Example Feature - Dual Encoder Support",
  "overview": "Add support for dual M5ROTATE8 encoder units to enable 16 simultaneous rotary encoder inputs for advanced parameter control. This feature expands the Tab5 controller's input capabilities from 8 to 16 encoders through I2C multiplexing.",
  "functional_requirements": [
    "FR-1: System shall detect and initialize two M5ROTATE8 units at I2C addresses 0x41 and 0x42",
    "FR-2: System shall read encoder values from all 16 encoders (8 per unit) at minimum 50Hz polling rate",
    "FR-3: System shall map encoders 0-7 to Unit A and encoders 8-15 to Unit B",
    "FR-4: System shall provide encoder change callbacks for parameter updates",
    "FR-5: Encoder button presses shall trigger preset bank selection (encoders 8-15)"
  ],
  "nonfunctional_requirements": [
    "NFR-1: I2C communication shall complete within 10ms per encoder unit read cycle",
    "NFR-2: Encoder polling shall not block main UI render loop (target 60 FPS maintained)",
    "NFR-3: Memory overhead for dual encoder support shall not exceed 4KB additional RAM",
    "NFR-4: System shall gracefully degrade if only one encoder unit is detected"
  ],
  "acceptance_criteria": [
    "AC-1: Build compiles for Tab5 environment without errors or warnings",
    "AC-2: Both M5ROTATE8 units are detected and initialized at boot",
    "AC-3: All 16 encoder values update correctly when rotated",
    "AC-4: Encoder button presses correctly trigger preset bank switching",
    "AC-5: UI maintains 60 FPS when rapidly changing multiple encoders",
    "AC-6: System boots and operates normally with only one encoder unit connected",
    "AC-7: Serial monitor shows successful initialization of both units with I2C addresses"
  ],
  "constraints": [
    "HARDWARE_SPECIFIC",
    "I2C_BUS_SHARED",
    "RISCV_TOOLCHAIN_REQUIRED"
  ],
  "version": "1.0.0",
  "last_updated": "2026-01-07T00:00:00Z"
}
