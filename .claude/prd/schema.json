{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://lightwave-os.local/schemas/prd-v1.json",
  "title": "LightwaveOS PRD Schema",
  "version": "1.0.0",
  "type": "object",
  "required": ["feature_id", "title", "overview", "functional_requirements", "acceptance_criteria"],
  "properties": {
    "feature_id": {
      "type": "string",
      "pattern": "^[A-Z]+-[0-9]+$",
      "description": "Must match feature_list.json item ID"
    },
    "title": {
      "type": "string",
      "minLength": 5,
      "description": "Human-readable feature title"
    },
    "overview": {
      "type": "string",
      "minLength": 20,
      "description": "High-level summary (2-4 sentences)"
    },
    "functional_requirements": {
      "type": "array",
      "minItems": 1,
      "items": {"type": "string", "minLength": 10}
    },
    "nonfunctional_requirements": {
      "type": "array",
      "items": {"type": "string"}
    },
    "acceptance_criteria": {
      "type": "array",
      "minItems": 1,
      "items": {"type": "string", "minLength": 10}
    },
    "constraints": {
      "type": "array",
      "items": {"type": "string"}
    },
    "version": {
      "type": "string",
      "pattern": "^[0-9]+\\.[0-9]+\\.[0-9]+$"
    },
    "last_updated": {
      "type": "string",
      "format": "date-time"
    }
  }
}
