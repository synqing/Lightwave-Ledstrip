{
  "metadata": {
    "audit_commit": "bf1b0043a6f18f75af8937f1736be642416e64b0",
    "branch": "feat/Development-Progress-Continues",
    "audit_date": "2026-01-21",
    "total_effects": 32
  },
  "effects": [
    {
      "name": "BPM",
      "id": 6,
      "source_file": "firmware/v2/src/effects/ieffect/BPMEffect.cpp",
      "line_range": "57-193",
      "motion_primitive": "traveling_wave",
      "spatial_mapping": "centre_origin",
      "timebase": "free_run",
      "audio_inputs": [
        "beatPhase",
        "bands"
      ],
      "smoothing": "none",
      "persistence": "fadeToBlackBy",
      "risk_flags": [
        "unsmoothed_feature"
      ]
    },
    {
      "name": "Wave Ambient",
      "id": 7,
      "source_file": "firmware/v2/src/effects/ieffect/WaveAmbientEffect.cpp",
      "line_range": "42-106",
      "motion_primitive": "traveling_wave",
      "spatial_mapping": "centre_origin",
      "timebase": "time_based",
      "audio_inputs": [
        "rms",
        "flux"
      ],
      "smoothing": "none",
      "persistence": "fadeToBlackBy",
      "risk_flags": []
    },
    {
      "name": "Ripple",
      "id": 8,
      "source_file": "firmware/v2/src/effects/ieffect/RippleEffect.cpp",
      "line_range": "52-293",
      "motion_primitive": "radial_pulse",
      "spatial_mapping": "centre_origin_radial_buffer",
      "timebase": "free_run",
      "audio_inputs": [
        "chroma",
        "bins64_0_5",
        "bins64_48_63",
        "snare"
      ],
      "smoothing": "history_buffer_4_frames",
      "persistence": "fadeToBlackBy_additive",
      "risk_flags": [
        "random_spawn"
      ]
    },
    {
      "name": "Breathing",
      "id": 11,
      "source_file": "firmware/v2/src/effects/ieffect/BreathingEffect.cpp",
      "line_range": "156-515",
      "motion_primitive": "breathing",
      "spatial_mapping": "centre_origin",
      "timebase": "time_based",
      "audio_inputs": [
        "rms",
        "chroma",
        "flux",
        "beat"
      ],
      "smoothing": "history_buffer_4_frames_alpha_0.99",
      "persistence": "fadeToBlackBy_15",
      "risk_flags": []
    },
    {
      "name": "Interference Scanner",
      "id": 16,
      "source_file": "firmware/v2/src/effects/ieffect/LGPInterferenceScannerEffect.cpp",
      "line_range": "47-222",
      "motion_primitive": "interference",
      "spatial_mapping": "centre_origin_dual_strip",
      "timebase": "spring_smoothed",
      "audio_inputs": [
        "heavyMid",
        "bins64_0_5",
        "bins64_48_63",
        "snare"
      ],
      "smoothing": "spring_asymmetric_follower",
      "persistence": "full_overwrite",
      "risk_flags": [
        "intentional_full_overwrite",
        "phase_wrap"
      ]
    },
    {
      "name": "Wave Collision",
      "id": 17,
      "source_file": "firmware/v2/src/effects/ieffect/LGPWaveCollisionEffect.cpp",
      "line_range": "42-233",
      "motion_primitive": "interference",
      "spatial_mapping": "centre_origin_dual_strip",
      "timebase": "free_run",
      "audio_inputs": [
        "heavyBass",
        "snare",
        "hihat"
      ],
      "smoothing": "ema",
      "persistence": "none",
      "risk_flags": [
        "fade_negated_by_overwrite",
        "unsmoothed_feature",
        "unsmoothed_triggers"
      ]
    },
    {
      "name": "Chevron Waves",
      "id": 22,
      "source_file": "firmware/v2/src/effects/ieffect/ChevronWavesEffect.cpp",
      "line_range": "48-163",
      "motion_primitive": "traveling_wave",
      "spatial_mapping": "centre_origin_dual_strip",
      "timebase": "spring_smoothed",
      "audio_inputs": [
        "heavy_bands",
        "chroma",
        "snare"
      ],
      "smoothing": "spring_asymmetric_follower",
      "persistence": "fadeToBlackBy",
      "risk_flags": []
    },
    {
      "name": "Star Burst",
      "id": 24,
      "source_file": "firmware/v2/src/effects/ieffect/LGPStarBurstEffect.cpp",
      "line_range": "46-181",
      "motion_primitive": "starburst",
      "spatial_mapping": "centre_origin",
      "timebase": "free_run",
      "audio_inputs": [
        "chroma",
        "snare"
      ],
      "smoothing": "ema",
      "persistence": "fadeToBlackBy",
      "risk_flags": [
        "unsmoothed_chroma",
        "unsmoothed_feature"
      ]
    },
    {
      "name": "Photonic Crystal",
      "id": 33,
      "source_file": "firmware/v2/src/effects/ieffect/LGPPhotonicCrystalEffect.cpp",
      "line_range": "75-257",
      "motion_primitive": "lattice",
      "spatial_mapping": "centre_origin",
      "timebase": "free_run",
      "audio_inputs": [
        "saliency",
        "tempo"
      ],
      "smoothing": "ema",
      "persistence": "none",
      "risk_flags": [
        "saliency_not_frame_rate_safe"
      ]
    },
    {
      "name": "Audio Test",
      "id": 68,
      "source_file": "firmware/v2/src/effects/ieffect/LGPAudioTestEffect.cpp",
      "line_range": "32-172",
      "motion_primitive": "spectrum_bars",
      "spatial_mapping": "centre_origin",
      "timebase": "none",
      "audio_inputs": [
        "bands_8"
      ],
      "smoothing": "instant_attack_decay",
      "persistence": "memset",
      "risk_flags": []
    },
    {
      "name": "Beat Pulse",
      "id": 69,
      "source_file": "firmware/v2/src/effects/ieffect/LGPBeatPulseEffect.cpp",
      "line_range": "39-218",
      "motion_primitive": "radial_pulse",
      "spatial_mapping": "centre_origin_set_center_pair",
      "timebase": "free_run",
      "audio_inputs": [
        "beatPhase",
        "bass",
        "mid",
        "treble",
        "beat",
        "snare",
        "hihat"
      ],
      "smoothing": "decay_0.95_0.92_0.88",
      "persistence": "memset",
      "risk_flags": []
    },
    {
      "name": "Spectrum Bars",
      "id": 70,
      "source_file": "firmware/v2/src/effects/ieffect/LGPSpectrumBarsEffect.cpp",
      "line_range": "26-71",
      "motion_primitive": "spectrum_bars",
      "spatial_mapping": "centre_origin_set_center_pair",
      "timebase": "none",
      "audio_inputs": [
        "bands_8"
      ],
      "smoothing": "instant_attack_0.92_decay",
      "persistence": "memset",
      "risk_flags": []
    },
    {
      "name": "Bass Breath",
      "id": 71,
      "source_file": "firmware/v2/src/effects/ieffect/LGPBassBreathEffect.cpp",
      "line_range": "27-99",
      "motion_primitive": "breathing",
      "spatial_mapping": "centre_origin",
      "timebase": "time_based",
      "audio_inputs": [
        "bass"
      ],
      "smoothing": "ema",
      "persistence": "fadeToBlackBy",
      "risk_flags": []
    },
    {
      "name": "Audio Waveform",
      "id": 72,
      "source_file": "firmware/v2/src/effects/ieffect/AudioWaveformEffect.cpp",
      "line_range": "40-216",
      "motion_primitive": "waveform",
      "spatial_mapping": "centre_origin_set_center_pair",
      "timebase": "hop_gated",
      "audio_inputs": [
        "waveform",
        "chroma"
      ],
      "smoothing": "history_buffer_4_frames_alpha_0.03_0.96",
      "persistence": "memset",
      "risk_flags": []
    },
    {
      "name": "Audio Bloom",
      "id": 73,
      "source_file": "firmware/v2/src/effects/ieffect/AudioBloomEffect.cpp",
      "line_range": "111-367",
      "motion_primitive": "bloom",
      "spatial_mapping": "centre_origin",
      "timebase": "free_run",
      "audio_inputs": [
        "flux"
      ],
      "smoothing": "ema",
      "persistence": "fadeToBlackBy",
      "risk_flags": [
        "flux_spike_sensitivity"
      ]
    },
    {
      "name": "Star Burst Narrative",
      "id": 74,
      "source_file": "firmware/v2/src/effects/ieffect/LGPStarBurstNarrativeEffect.cpp",
      "line_range": "169-852",
      "motion_primitive": "starburst",
      "spatial_mapping": "centre_origin_dual_strip",
      "timebase": "spring_slew_limited",
      "audio_inputs": [
        "chroma",
        "heavy_bands",
        "bins64_0_5",
        "bins64_48_63",
        "chord",
        "saliency"
      ],
      "smoothing": "asymmetric_follower_spring",
      "persistence": "fadeToBlackBy_dt_corrected",
      "risk_flags": []
    },
    {
      "name": "Chord Glow",
      "id": 75,
      "source_file": "firmware/v2/src/effects/ieffect/LGPChordGlowEffect.cpp",
      "line_range": "81-337",
      "motion_primitive": "breathing",
      "spatial_mapping": "centre_origin",
      "timebase": "time_based",
      "audio_inputs": [
        "chordState",
        "rootNote"
      ],
      "smoothing": "ema",
      "persistence": "fadeToBlackBy",
      "risk_flags": []
    },
    {
      "name": "Wave Reactive",
      "id": 76,
      "source_file": "firmware/v2/src/effects/ieffect/WaveReactiveEffect.cpp",
      "line_range": "54-117",
      "motion_primitive": "traveling_wave",
      "spatial_mapping": "centre_origin_dual_strip",
      "timebase": "energy_accumulation",
      "audio_inputs": [
        "rms",
        "flux"
      ],
      "smoothing": "decay_0.98",
      "persistence": "fadeToBlackBy",
      "risk_flags": []
    },
    {
      "name": "Perlin Veil",
      "id": 77,
      "source_file": "firmware/v2/src/effects/ieffect/LGPPerlinVeilEffect.cpp",
      "line_range": "63-209",
      "motion_primitive": "noise_field",
      "spatial_mapping": "centre_origin_dual_strip",
      "timebase": "momentum_driven",
      "audio_inputs": [
        "rms",
        "flux",
        "beatStrength",
        "bass"
      ],
      "smoothing": "ema_alpha_0.15_momentum_decay",
      "persistence": "fadeToBlackBy",
      "risk_flags": []
    },
    {
      "name": "Perlin Shocklines",
      "id": 78,
      "source_file": "firmware/v2/src/effects/ieffect/LGPPerlinShocklinesEffect.cpp",
      "line_range": "45-186",
      "motion_primitive": "noise_field",
      "spatial_mapping": "centre_origin",
      "timebase": "beat_driven",
      "audio_inputs": [
        "beatStrength",
        "treble"
      ],
      "smoothing": "ema",
      "persistence": "fadeToBlackBy",
      "risk_flags": []
    },
    {
      "name": "Perlin Caustics",
      "id": 79,
      "source_file": "firmware/v2/src/effects/ieffect/LGPPerlinCausticsEffect.cpp",
      "line_range": "57-194",
      "motion_primitive": "noise_field",
      "spatial_mapping": "centre_origin",
      "timebase": "momentum_driven",
      "audio_inputs": [
        "treble",
        "bass"
      ],
      "smoothing": "ema",
      "persistence": "fadeToBlackBy",
      "risk_flags": []
    },
    {
      "name": "Perlin Interference Weave",
      "id": 80,
      "source_file": "firmware/v2/src/effects/ieffect/LGPPerlinInterferenceWeaveEffect.cpp",
      "line_range": "43-180",
      "motion_primitive": "noise_field",
      "spatial_mapping": "centre_origin_dual_strip",
      "timebase": "beat_phase_driven",
      "audio_inputs": [
        "beatPhase",
        "chroma"
      ],
      "smoothing": "ema",
      "persistence": "fadeToBlackBy",
      "risk_flags": []
    },
    {
      "name": "BPM Enhanced",
      "id": 88,
      "source_file": "firmware/v2/src/effects/ieffect/BPMEnhancedEffect.cpp",
      "line_range": "64-307",
      "motion_primitive": "traveling_wave_rings",
      "spatial_mapping": "centre_origin_dual_strip",
      "timebase": "hybrid_beat_phase_lock",
      "audio_inputs": [
        "heavy_bands",
        "beatPhase",
        "tempoConf",
        "bins64_0_5",
        "chroma",
        "snare"
      ],
      "smoothing": "spring_asymmetric_follower",
      "persistence": "fadeToBlackBy",
      "risk_flags": [
        "phase_teleport",
        "confidence_threshold_switching"
      ]
    },
    {
      "name": "Breathing Enhanced",
      "id": 89,
      "source_file": "firmware/v2/src/effects/ieffect/BreathingEnhancedEffect.cpp",
      "line_range": "101-310",
      "motion_primitive": "breathing",
      "spatial_mapping": "centre_origin",
      "timebase": "time_based",
      "audio_inputs": [
        "rms",
        "saliency"
      ],
      "smoothing": "ema",
      "persistence": "fadeToBlackBy",
      "risk_flags": [
        "phase_teleport",
        "confidence_threshold_switching"
      ]
    },
    {
      "name": "Chevron Waves Enhanced",
      "id": 90,
      "source_file": "firmware/v2/src/effects/ieffect/ChevronWavesEffectEnhanced.cpp",
      "line_range": "59-219",
      "motion_primitive": "traveling_wave",
      "spatial_mapping": "centre_origin_dual_strip",
      "timebase": "spring_smoothed",
      "audio_inputs": [
        "heavy_bands",
        "chroma",
        "beatPhase"
      ],
      "smoothing": "spring_asymmetric_follower",
      "persistence": "fadeToBlackBy",
      "risk_flags": [
        "phase_teleport",
        "confidence_threshold_switching"
      ]
    },
    {
      "name": "Interference Scanner Enhanced",
      "id": 91,
      "source_file": "firmware/v2/src/effects/ieffect/LGPInterferenceScannerEffectEnhanced.cpp",
      "line_range": "60-277",
      "motion_primitive": "interference",
      "spatial_mapping": "centre_origin_dual_strip",
      "timebase": "spring_smoothed",
      "audio_inputs": [
        "heavyMid",
        "bins64_0_5",
        "bins64_48_63",
        "snare"
      ],
      "smoothing": "spring_asymmetric_follower",
      "persistence": "full_overwrite",
      "risk_flags": [
        "intentional_full_overwrite",
        "phase_wrap"
      ]
    },
    {
      "name": "Photonic Crystal Enhanced",
      "id": 92,
      "source_file": "firmware/v2/src/effects/ieffect/LGPPhotonicCrystalEffectEnhanced.cpp",
      "line_range": "87-295",
      "motion_primitive": "lattice",
      "spatial_mapping": "centre_origin",
      "timebase": "free_run",
      "audio_inputs": [
        "harmonicSaliency",
        "tempo"
      ],
      "smoothing": "ema",
      "persistence": "none",
      "risk_flags": [
        "phase_teleport",
        "confidence_threshold_switching",
        "saliency_smoothing"
      ]
    },
    {
      "name": "Spectrum Detail",
      "id": 93,
      "source_file": "firmware/v2/src/effects/ieffect/LGPSpectrumDetailEffect.cpp",
      "line_range": "37-189",
      "motion_primitive": "spectrum_bars",
      "spatial_mapping": "centre_origin_logarithmic",
      "timebase": "hop_gated",
      "audio_inputs": [
        "bins64"
      ],
      "smoothing": "asymmetric_follower_per_bin",
      "persistence": "memset",
      "risk_flags": []
    },
    {
      "name": "Spectrum Detail Enhanced",
      "id": 94,
      "source_file": "firmware/v2/src/effects/ieffect/LGPSpectrumDetailEnhancedEffect.cpp",
      "line_range": "89-583",
      "motion_primitive": "spectrum_bars",
      "spatial_mapping": "centre_origin",
      "timebase": "hop_gated",
      "audio_inputs": [
        "bins64",
        "saliency"
      ],
      "smoothing": "asymmetric_follower_saliency_weighting",
      "persistence": "memset",
      "risk_flags": []
    },
    {
      "name": "Star Burst Enhanced",
      "id": 95,
      "source_file": "firmware/v2/src/effects/ieffect/LGPStarBurstEffectEnhanced.cpp",
      "line_range": "57-242",
      "motion_primitive": "starburst",
      "spatial_mapping": "centre_origin_dual_strip",
      "timebase": "free_run_beat_triggers",
      "audio_inputs": [
        "beatPhase",
        "bins64_0_5",
        "chroma"
      ],
      "smoothing": "ema",
      "persistence": "fadeToBlackBy",
      "risk_flags": [
        "phase_teleport",
        "confidence_threshold_switching",
        "beat_trigger_instant"
      ]
    },
    {
      "name": "Wave Collision Enhanced",
      "id": 96,
      "source_file": "firmware/v2/src/effects/ieffect/LGPWaveCollisionEffectEnhanced.cpp",
      "line_range": "49-273",
      "motion_primitive": "interference",
      "spatial_mapping": "centre_origin_dual_strip",
      "timebase": "free_run",
      "audio_inputs": [
        "heavyBass",
        "snare",
        "beatPhase",
        "chroma"
      ],
      "smoothing": "ema",
      "persistence": "none",
      "risk_flags": [
        "confidence_threshold_switching",
        "fade_negated_by_overwrite",
        "phase_teleport",
        "snare_instant_trigger"
      ]
    },
    {
      "name": "Ripple Enhanced",
      "id": 97,
      "source_file": "firmware/v2/src/effects/ieffect/RippleEnhancedEffect.cpp",
      "line_range": "43-219",
      "motion_primitive": "radial_pulse",
      "spatial_mapping": "centre_origin_radial_buffer",
      "timebase": "free_run",
      "audio_inputs": [
        "bins64_0_5",
        "snare",
        "chroma",
        "beatPhase",
        "saliency"
      ],
      "smoothing": "history_buffer",
      "persistence": "fadeToBlackBy_additive",
      "risk_flags": [
        "random_spawn"
      ]
    }
  ],
  "motion_primitives": [
    "traveling_wave",
    "radial_pulse",
    "starburst",
    "spectrum_bars",
    "noise_field",
    "interference",
    "breathing",
    "waveform",
    "bloom",
    "lattice"
  ],
  "audio_coupling_patterns": [
    {
      "name": "AMBIENT",
      "description": "Time drives motion, audio drives amplitude/colour only",
      "risk_level": "low"
    },
    {
      "name": "REACTIVE",
      "description": "Audio energy accumulates over time \u2192 motion",
      "risk_level": "low"
    },
    {
      "name": "BEAT_PHASE",
      "description": "Phase locked to beatPhase (0-1)",
      "risk_level": "medium"
    },
    {
      "name": "THRESHOLD_SWITCH",
      "description": "Two clocks based on tempoConfidence",
      "risk_level": "high"
    },
    {
      "name": "DIRECT_SPEED",
      "description": "Audio metric directly modulates speed",
      "risk_level": "high"
    }
  ],
  "risk_flags": [
    {
      "name": "phase_teleport",
      "description": "Hard phase assignment from beatPhase",
      "affected_effects": [
        88,
        96,
        95,
        92,
        90,
        89
      ]
    },
    {
      "name": "confidence_threshold_switching",
      "description": "Two different clocks with abrupt switching",
      "affected_effects": [
        88,
        90,
        92,
        96,
        95,
        89
      ]
    },
    {
      "name": "random_spawn",
      "description": "Non-deterministic spawn from random8()",
      "affected_effects": [
        8,
        97
      ]
    },
    {
      "name": "fade_negated_by_overwrite",
      "description": "fadeToBlackBy called but then fully overwritten (wasteful)",
      "affected_effects": [
        17,
        96
      ]
    },
    {
      "name": "intentional_full_overwrite",
      "description": "Full per-pixel write with no fade (intentional no-trails)",
      "affected_effects": [
        16,
        91
      ]
    },
    {
      "name": "unsmoothed_feature",
      "description": "Raw audio metric driving visible parameter",
      "affected_effects": [
        6,
        17,
        24
      ]
    }
  ],
  "golden_reference_effects": [
    {
      "id": 11,
      "name": "Breathing",
      "reason": "Sensory Bridge pattern: time\u2192motion, audio\u2192amplitude. Frame persistence \u03b1=0.99."
    },
    {
      "id": 7,
      "name": "Wave Ambient",
      "reason": "Clean time-based motion with audio amplitude modulation only."
    },
    {
      "id": 76,
      "name": "Wave Reactive",
      "reason": "Energy accumulation pattern provides natural smoothing."
    },
    {
      "id": 74,
      "name": "Star Burst Narrative",
      "reason": "Slew-limited speed, Spring physics, story conductor state machine."
    }
  ]
}