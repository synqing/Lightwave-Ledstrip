{"#meta":{"format":"ITF","format-description":"https://apalache-mc.org/docs/adr/015adr-trace.html","source":"lightwave_step.qnt","status":"ok","description":"Created by Quint on Mon Jan 19 2026 05:25:20 GMT+0800 (Australian Western Standard Time)","timestamp":1768771520242},"vars":["state","pendingMessages","pendingEvents","mbt::actionTaken","mbt::nondetPicks"],"states":[{"#meta":{"index":0},"mbt::actionTaken":"init","mbt::nondetPicks":{"brightness":{"tag":"None","value":{"#tup":[]}},"speed":{"tag":"None","value":{"#tup":[]}}},"pendingEvents":{"#set":[{"tag":"WsConnect","value":{"#bigint":"1"}}]},"pendingMessages":{"#set":[]},"state":{"hub":{"activeEffectId":{"#bigint":"0"},"activeParams":{"#map":[]},"connEpoch":{"#map":[]},"connState":{"#map":[]},"lastBroadcastTs":{"#bigint":"0"}},"node":{"connEpoch":{"#bigint":"0"},"connState":"DISCONNECTED","handshakeComplete":false,"lastAppliedParams":{"#map":[]},"lastStatusTs":{"#bigint":"0"}}}},{"#meta":{"index":1},"mbt::actionTaken":"node_connect","mbt::nondetPicks":{"brightness":{"tag":"None","value":{"#tup":[]}},"speed":{"tag":"None","value":{"#tup":[]}}},"pendingEvents":{"#set":[]},"pendingMessages":{"#set":[]},"state":{"hub":{"activeEffectId":{"#bigint":"0"},"activeParams":{"#map":[]},"connEpoch":{"#map":[[{"#bigint":"1"},{"#bigint":"1"}]]},"connState":{"#map":[[{"#bigint":"1"},"CONNECTING"]]},"lastBroadcastTs":{"#bigint":"0"}},"node":{"connEpoch":{"#bigint":"1"},"connState":"CONNECTING","handshakeComplete":false,"lastAppliedParams":{"#map":[]},"lastStatusTs":{"#bigint":"0"}}}},{"#meta":{"index":2},"mbt::actionTaken":"env_deliver_connected","mbt::nondetPicks":{"brightness":{"tag":"None","value":{"#tup":[]}},"speed":{"tag":"None","value":{"#tup":[]}}},"pendingEvents":{"#set":[{"tag":"WsConnected","value":{"#bigint":"1"}}]},"pendingMessages":{"#set":[]},"state":{"hub":{"activeEffectId":{"#bigint":"0"},"activeParams":{"#map":[]},"connEpoch":{"#map":[[{"#bigint":"1"},{"#bigint":"1"}]]},"connState":{"#map":[[{"#bigint":"1"},"CONNECTING"]]},"lastBroadcastTs":{"#bigint":"0"}},"node":{"connEpoch":{"#bigint":"1"},"connState":"CONNECTING","handshakeComplete":false,"lastAppliedParams":{"#map":[]},"lastStatusTs":{"#bigint":"0"}}}},{"#meta":{"index":3},"mbt::actionTaken":"node_connected","mbt::nondetPicks":{"brightness":{"tag":"None","value":{"#tup":[]}},"speed":{"tag":"None","value":{"#tup":[]}}},"pendingEvents":{"#set":[]},"pendingMessages":{"#set":[{"tag":"GetStatus","value":{"#tup":[]}}]},"state":{"hub":{"activeEffectId":{"#bigint":"0"},"activeParams":{"#map":[]},"connEpoch":{"#map":[[{"#bigint":"1"},{"#bigint":"1"}]]},"connState":{"#map":[[{"#bigint":"1"},"CONNECTED"]]},"lastBroadcastTs":{"#bigint":"0"}},"node":{"connEpoch":{"#bigint":"1"},"connState":"CONNECTED","handshakeComplete":false,"lastAppliedParams":{"#map":[]},"lastStatusTs":{"#bigint":"0"}}}},{"#meta":{"index":4},"mbt::actionTaken":"hub_respond_status","mbt::nondetPicks":{"brightness":{"tag":"None","value":{"#tup":[]}},"speed":{"tag":"None","value":{"#tup":[]}}},"pendingEvents":{"#set":[]},"pendingMessages":{"#set":[{"tag":"Status","value":{"brightness":{"#bigint":"128"},"effectId":{"#bigint":"0"},"paletteId":{"#bigint":"0"},"speed":{"#bigint":"50"}}}]},"state":{"hub":{"activeEffectId":{"#bigint":"0"},"activeParams":{"#map":[]},"connEpoch":{"#map":[[{"#bigint":"1"},{"#bigint":"1"}]]},"connState":{"#map":[[{"#bigint":"1"},"CONNECTED"]]},"lastBroadcastTs":{"#bigint":"0"}},"node":{"connEpoch":{"#bigint":"1"},"connState":"CONNECTED","handshakeComplete":false,"lastAppliedParams":{"#map":[]},"lastStatusTs":{"#bigint":"0"}}}},{"#meta":{"index":5},"mbt::actionTaken":"node_receive_status","mbt::nondetPicks":{"brightness":{"tag":"None","value":{"#tup":[]}},"speed":{"tag":"None","value":{"#tup":[]}}},"pendingEvents":{"#set":[]},"pendingMessages":{"#set":[]},"state":{"hub":{"activeEffectId":{"#bigint":"0"},"activeParams":{"#map":[]},"connEpoch":{"#map":[[{"#bigint":"1"},{"#bigint":"1"}]]},"connState":{"#map":[[{"#bigint":"1"},"CONNECTED"]]},"lastBroadcastTs":{"#bigint":"0"}},"node":{"connEpoch":{"#bigint":"1"},"connState":"CONNECTED","handshakeComplete":true,"lastAppliedParams":{"#map":[]},"lastStatusTs":{"#bigint":"0"}}}},{"#meta":{"index":6},"mbt::actionTaken":"node_send_parameters","mbt::nondetPicks":{"brightness":{"tag":"Some","value":{"#bigint":"217"}},"speed":{"tag":"Some","value":{"#bigint":"72"}}},"pendingEvents":{"#set":[]},"pendingMessages":{"#set":[{"tag":"ParametersSet","value":{"brightness":{"#bigint":"217"},"paletteId":{"#bigint":"0"},"speed":{"#bigint":"72"}}}]},"state":{"hub":{"activeEffectId":{"#bigint":"0"},"activeParams":{"#map":[]},"connEpoch":{"#map":[[{"#bigint":"1"},{"#bigint":"1"}]]},"connState":{"#map":[[{"#bigint":"1"},"CONNECTED"]]},"lastBroadcastTs":{"#bigint":"0"}},"node":{"connEpoch":{"#bigint":"1"},"connState":"CONNECTED","handshakeComplete":true,"lastAppliedParams":{"#map":[]},"lastStatusTs":{"#bigint":"0"}}}},{"#meta":{"index":7},"mbt::actionTaken":"hub_apply_parameters","mbt::nondetPicks":{"brightness":{"tag":"None","value":{"#tup":[]}},"speed":{"tag":"None","value":{"#tup":[]}}},"pendingEvents":{"#set":[]},"pendingMessages":{"#set":[{"tag":"ParametersChanged","value":{"brightness":{"#bigint":"128"},"paletteId":{"#bigint":"0"},"speed":{"#bigint":"50"}}}]},"state":{"hub":{"activeEffectId":{"#bigint":"0"},"activeParams":{"#map":[["brightness",{"#bigint":"128"}],["paletteId",{"#bigint":"0"}],["speed",{"#bigint":"50"}]]},"connEpoch":{"#map":[[{"#bigint":"1"},{"#bigint":"1"}]]},"connState":{"#map":[[{"#bigint":"1"},"CONNECTED"]]},"lastBroadcastTs":{"#bigint":"0"}},"node":{"connEpoch":{"#bigint":"1"},"connState":"CONNECTED","handshakeComplete":true,"lastAppliedParams":{"#map":[]},"lastStatusTs":{"#bigint":"0"}}}},{"#meta":{"index":8},"mbt::actionTaken":"node_receive_params_changed","mbt::nondetPicks":{"brightness":{"tag":"None","value":{"#tup":[]}},"speed":{"tag":"None","value":{"#tup":[]}}},"pendingEvents":{"#set":[]},"pendingMessages":{"#set":[]},"state":{"hub":{"activeEffectId":{"#bigint":"0"},"activeParams":{"#map":[["brightness",{"#bigint":"128"}],["paletteId",{"#bigint":"0"}],["speed",{"#bigint":"50"}]]},"connEpoch":{"#map":[[{"#bigint":"1"},{"#bigint":"1"}]]},"connState":{"#map":[[{"#bigint":"1"},"CONNECTED"]]},"lastBroadcastTs":{"#bigint":"0"}},"node":{"connEpoch":{"#bigint":"1"},"connState":"CONNECTED","handshakeComplete":true,"lastAppliedParams":{"#map":[["brightness",{"#bigint":"128"}],["paletteId",{"#bigint":"0"}],["speed",{"#bigint":"50"}]]},"lastStatusTs":{"#bigint":"0"}}}},{"#meta":{"index":9},"mbt::actionTaken":"node_send_parameters","mbt::nondetPicks":{"brightness":{"tag":"Some","value":{"#bigint":"96"}},"speed":{"tag":"Some","value":{"#bigint":"26"}}},"pendingEvents":{"#set":[]},"pendingMessages":{"#set":[{"tag":"ParametersSet","value":{"brightness":{"#bigint":"96"},"paletteId":{"#bigint":"0"},"speed":{"#bigint":"26"}}}]},"state":{"hub":{"activeEffectId":{"#bigint":"0"},"activeParams":{"#map":[["brightness",{"#bigint":"128"}],["paletteId",{"#bigint":"0"}],["speed",{"#bigint":"50"}]]},"connEpoch":{"#map":[[{"#bigint":"1"},{"#bigint":"1"}]]},"connState":{"#map":[[{"#bigint":"1"},"CONNECTED"]]},"lastBroadcastTs":{"#bigint":"0"}},"node":{"connEpoch":{"#bigint":"1"},"connState":"CONNECTED","handshakeComplete":true,"lastAppliedParams":{"#map":[["brightness",{"#bigint":"128"}],["paletteId",{"#bigint":"0"}],["speed",{"#bigint":"50"}]]},"lastStatusTs":{"#bigint":"0"}}}},{"#meta":{"index":10},"mbt::actionTaken":"node_send_parameters","mbt::nondetPicks":{"brightness":{"tag":"Some","value":{"#bigint":"183"}},"speed":{"tag":"Some","value":{"#bigint":"17"}}},"pendingEvents":{"#set":[]},"pendingMessages":{"#set":[{"tag":"ParametersSet","value":{"brightness":{"#bigint":"183"},"paletteId":{"#bigint":"0"},"speed":{"#bigint":"17"}}},{"tag":"ParametersSet","value":{"brightness":{"#bigint":"96"},"paletteId":{"#bigint":"0"},"speed":{"#bigint":"26"}}}]},"state":{"hub":{"activeEffectId":{"#bigint":"0"},"activeParams":{"#map":[["brightness",{"#bigint":"128"}],["paletteId",{"#bigint":"0"}],["speed",{"#bigint":"50"}]]},"connEpoch":{"#map":[[{"#bigint":"1"},{"#bigint":"1"}]]},"connState":{"#map":[[{"#bigint":"1"},"CONNECTED"]]},"lastBroadcastTs":{"#bigint":"0"}},"node":{"connEpoch":{"#bigint":"1"},"connState":"CONNECTED","handshakeComplete":true,"lastAppliedParams":{"#map":[["brightness",{"#bigint":"128"}],["paletteId",{"#bigint":"0"}],["speed",{"#bigint":"50"}]]},"lastStatusTs":{"#bigint":"0"}}}},{"#meta":{"index":11},"mbt::actionTaken":"node_send_parameters","mbt::nondetPicks":{"brightness":{"tag":"Some","value":{"#bigint":"231"}},"speed":{"tag":"Some","value":{"#bigint":"81"}}},"pendingEvents":{"#set":[]},"pendingMessages":{"#set":[{"tag":"ParametersSet","value":{"brightness":{"#bigint":"183"},"paletteId":{"#bigint":"0"},"speed":{"#bigint":"17"}}},{"tag":"ParametersSet","value":{"brightness":{"#bigint":"231"},"paletteId":{"#bigint":"0"},"speed":{"#bigint":"81"}}},{"tag":"ParametersSet","value":{"brightness":{"#bigint":"96"},"paletteId":{"#bigint":"0"},"speed":{"#bigint":"26"}}}]},"state":{"hub":{"activeEffectId":{"#bigint":"0"},"activeParams":{"#map":[["brightness",{"#bigint":"128"}],["paletteId",{"#bigint":"0"}],["speed",{"#bigint":"50"}]]},"connEpoch":{"#map":[[{"#bigint":"1"},{"#bigint":"1"}]]},"connState":{"#map":[[{"#bigint":"1"},"CONNECTED"]]},"lastBroadcastTs":{"#bigint":"0"}},"node":{"connEpoch":{"#bigint":"1"},"connState":"CONNECTED","handshakeComplete":true,"lastAppliedParams":{"#map":[["brightness",{"#bigint":"128"}],["paletteId",{"#bigint":"0"}],["speed",{"#bigint":"50"}]]},"lastStatusTs":{"#bigint":"0"}}}},{"#meta":{"index":12},"mbt::actionTaken":"hub_apply_parameters","mbt::nondetPicks":{"brightness":{"tag":"None","value":{"#tup":[]}},"speed":{"tag":"None","value":{"#tup":[]}}},"pendingEvents":{"#set":[]},"pendingMessages":{"#set":[{"tag":"ParametersChanged","value":{"brightness":{"#bigint":"128"},"paletteId":{"#bigint":"0"},"speed":{"#bigint":"50"}}}]},"state":{"hub":{"activeEffectId":{"#bigint":"0"},"activeParams":{"#map":[["brightness",{"#bigint":"128"}],["paletteId",{"#bigint":"0"}],["speed",{"#bigint":"50"}]]},"connEpoch":{"#map":[[{"#bigint":"1"},{"#bigint":"1"}]]},"connState":{"#map":[[{"#bigint":"1"},"CONNECTED"]]},"lastBroadcastTs":{"#bigint":"0"}},"node":{"connEpoch":{"#bigint":"1"},"connState":"CONNECTED","handshakeComplete":true,"lastAppliedParams":{"#map":[["brightness",{"#bigint":"128"}],["paletteId",{"#bigint":"0"}],["speed",{"#bigint":"50"}]]},"lastStatusTs":{"#bigint":"0"}}}},{"#meta":{"index":13},"mbt::actionTaken":"node_receive_params_changed","mbt::nondetPicks":{"brightness":{"tag":"None","value":{"#tup":[]}},"speed":{"tag":"None","value":{"#tup":[]}}},"pendingEvents":{"#set":[]},"pendingMessages":{"#set":[]},"state":{"hub":{"activeEffectId":{"#bigint":"0"},"activeParams":{"#map":[["brightness",{"#bigint":"128"}],["paletteId",{"#bigint":"0"}],["speed",{"#bigint":"50"}]]},"connEpoch":{"#map":[[{"#bigint":"1"},{"#bigint":"1"}]]},"connState":{"#map":[[{"#bigint":"1"},"CONNECTED"]]},"lastBroadcastTs":{"#bigint":"0"}},"node":{"connEpoch":{"#bigint":"1"},"connState":"CONNECTED","handshakeComplete":true,"lastAppliedParams":{"#map":[["brightness",{"#bigint":"128"}],["paletteId",{"#bigint":"0"}],["speed",{"#bigint":"50"}]]},"lastStatusTs":{"#bigint":"0"}}}},{"#meta":{"index":14},"mbt::actionTaken":"node_send_parameters","mbt::nondetPicks":{"brightness":{"tag":"Some","value":{"#bigint":"123"}},"speed":{"tag":"Some","value":{"#bigint":"24"}}},"pendingEvents":{"#set":[]},"pendingMessages":{"#set":[{"tag":"ParametersSet","value":{"brightness":{"#bigint":"123"},"paletteId":{"#bigint":"0"},"speed":{"#bigint":"24"}}}]},"state":{"hub":{"activeEffectId":{"#bigint":"0"},"activeParams":{"#map":[["brightness",{"#bigint":"128"}],["paletteId",{"#bigint":"0"}],["speed",{"#bigint":"50"}]]},"connEpoch":{"#map":[[{"#bigint":"1"},{"#bigint":"1"}]]},"connState":{"#map":[[{"#bigint":"1"},"CONNECTED"]]},"lastBroadcastTs":{"#bigint":"0"}},"node":{"connEpoch":{"#bigint":"1"},"connState":"CONNECTED","handshakeComplete":true,"lastAppliedParams":{"#map":[["brightness",{"#bigint":"128"}],["paletteId",{"#bigint":"0"}],["speed",{"#bigint":"50"}]]},"lastStatusTs":{"#bigint":"0"}}}},{"#meta":{"index":15},"mbt::actionTaken":"hub_apply_parameters","mbt::nondetPicks":{"brightness":{"tag":"None","value":{"#tup":[]}},"speed":{"tag":"None","value":{"#tup":[]}}},"pendingEvents":{"#set":[]},"pendingMessages":{"#set":[{"tag":"ParametersChanged","value":{"brightness":{"#bigint":"128"},"paletteId":{"#bigint":"0"},"speed":{"#bigint":"50"}}}]},"state":{"hub":{"activeEffectId":{"#bigint":"0"},"activeParams":{"#map":[["brightness",{"#bigint":"128"}],["paletteId",{"#bigint":"0"}],["speed",{"#bigint":"50"}]]},"connEpoch":{"#map":[[{"#bigint":"1"},{"#bigint":"1"}]]},"connState":{"#map":[[{"#bigint":"1"},"CONNECTED"]]},"lastBroadcastTs":{"#bigint":"0"}},"node":{"connEpoch":{"#bigint":"1"},"connState":"CONNECTED","handshakeComplete":true,"lastAppliedParams":{"#map":[["brightness",{"#bigint":"128"}],["paletteId",{"#bigint":"0"}],["speed",{"#bigint":"50"}]]},"lastStatusTs":{"#bigint":"0"}}}},{"#meta":{"index":16},"mbt::actionTaken":"node_receive_params_changed","mbt::nondetPicks":{"brightness":{"tag":"None","value":{"#tup":[]}},"speed":{"tag":"None","value":{"#tup":[]}}},"pendingEvents":{"#set":[]},"pendingMessages":{"#set":[]},"state":{"hub":{"activeEffectId":{"#bigint":"0"},"activeParams":{"#map":[["brightness",{"#bigint":"128"}],["paletteId",{"#bigint":"0"}],["speed",{"#bigint":"50"}]]},"connEpoch":{"#map":[[{"#bigint":"1"},{"#bigint":"1"}]]},"connState":{"#map":[[{"#bigint":"1"},"CONNECTED"]]},"lastBroadcastTs":{"#bigint":"0"}},"node":{"connEpoch":{"#bigint":"1"},"connState":"CONNECTED","handshakeComplete":true,"lastAppliedParams":{"#map":[["brightness",{"#bigint":"128"}],["paletteId",{"#bigint":"0"}],["speed",{"#bigint":"50"}]]},"lastStatusTs":{"#bigint":"0"}}}},{"#meta":{"index":17},"mbt::actionTaken":"node_send_parameters","mbt::nondetPicks":{"brightness":{"tag":"Some","value":{"#bigint":"251"}},"speed":{"tag":"Some","value":{"#bigint":"38"}}},"pendingEvents":{"#set":[]},"pendingMessages":{"#set":[{"tag":"ParametersSet","value":{"brightness":{"#bigint":"251"},"paletteId":{"#bigint":"0"},"speed":{"#bigint":"38"}}}]},"state":{"hub":{"activeEffectId":{"#bigint":"0"},"activeParams":{"#map":[["brightness",{"#bigint":"128"}],["paletteId",{"#bigint":"0"}],["speed",{"#bigint":"50"}]]},"connEpoch":{"#map":[[{"#bigint":"1"},{"#bigint":"1"}]]},"connState":{"#map":[[{"#bigint":"1"},"CONNECTED"]]},"lastBroadcastTs":{"#bigint":"0"}},"node":{"connEpoch":{"#bigint":"1"},"connState":"CONNECTED","handshakeComplete":true,"lastAppliedParams":{"#map":[["brightness",{"#bigint":"128"}],["paletteId",{"#bigint":"0"}],["speed",{"#bigint":"50"}]]},"lastStatusTs":{"#bigint":"0"}}}},{"#meta":{"index":18},"mbt::actionTaken":"hub_apply_parameters","mbt::nondetPicks":{"brightness":{"tag":"None","value":{"#tup":[]}},"speed":{"tag":"None","value":{"#tup":[]}}},"pendingEvents":{"#set":[]},"pendingMessages":{"#set":[{"tag":"ParametersChanged","value":{"brightness":{"#bigint":"128"},"paletteId":{"#bigint":"0"},"speed":{"#bigint":"50"}}}]},"state":{"hub":{"activeEffectId":{"#bigint":"0"},"activeParams":{"#map":[["brightness",{"#bigint":"128"}],["paletteId",{"#bigint":"0"}],["speed",{"#bigint":"50"}]]},"connEpoch":{"#map":[[{"#bigint":"1"},{"#bigint":"1"}]]},"connState":{"#map":[[{"#bigint":"1"},"CONNECTED"]]},"lastBroadcastTs":{"#bigint":"0"}},"node":{"connEpoch":{"#bigint":"1"},"connState":"CONNECTED","handshakeComplete":true,"lastAppliedParams":{"#map":[["brightness",{"#bigint":"128"}],["paletteId",{"#bigint":"0"}],["speed",{"#bigint":"50"}]]},"lastStatusTs":{"#bigint":"0"}}}},{"#meta":{"index":19},"mbt::actionTaken":"node_send_parameters","mbt::nondetPicks":{"brightness":{"tag":"Some","value":{"#bigint":"247"}},"speed":{"tag":"Some","value":{"#bigint":"97"}}},"pendingEvents":{"#set":[]},"pendingMessages":{"#set":[{"tag":"ParametersChanged","value":{"brightness":{"#bigint":"128"},"paletteId":{"#bigint":"0"},"speed":{"#bigint":"50"}}},{"tag":"ParametersSet","value":{"brightness":{"#bigint":"247"},"paletteId":{"#bigint":"0"},"speed":{"#bigint":"97"}}}]},"state":{"hub":{"activeEffectId":{"#bigint":"0"},"activeParams":{"#map":[["brightness",{"#bigint":"128"}],["paletteId",{"#bigint":"0"}],["speed",{"#bigint":"50"}]]},"connEpoch":{"#map":[[{"#bigint":"1"},{"#bigint":"1"}]]},"connState":{"#map":[[{"#bigint":"1"},"CONNECTED"]]},"lastBroadcastTs":{"#bigint":"0"}},"node":{"connEpoch":{"#bigint":"1"},"connState":"CONNECTED","handshakeComplete":true,"lastAppliedParams":{"#map":[["brightness",{"#bigint":"128"}],["paletteId",{"#bigint":"0"}],["speed",{"#bigint":"50"}]]},"lastStatusTs":{"#bigint":"0"}}}},{"#meta":{"index":20},"mbt::actionTaken":"node_send_parameters","mbt::nondetPicks":{"brightness":{"tag":"Some","value":{"#bigint":"11"}},"speed":{"tag":"Some","value":{"#bigint":"97"}}},"pendingEvents":{"#set":[]},"pendingMessages":{"#set":[{"tag":"ParametersChanged","value":{"brightness":{"#bigint":"128"},"paletteId":{"#bigint":"0"},"speed":{"#bigint":"50"}}},{"tag":"ParametersSet","value":{"brightness":{"#bigint":"11"},"paletteId":{"#bigint":"0"},"speed":{"#bigint":"97"}}},{"tag":"ParametersSet","value":{"brightness":{"#bigint":"247"},"paletteId":{"#bigint":"0"},"speed":{"#bigint":"97"}}}]},"state":{"hub":{"activeEffectId":{"#bigint":"0"},"activeParams":{"#map":[["brightness",{"#bigint":"128"}],["paletteId",{"#bigint":"0"}],["speed",{"#bigint":"50"}]]},"connEpoch":{"#map":[[{"#bigint":"1"},{"#bigint":"1"}]]},"connState":{"#map":[[{"#bigint":"1"},"CONNECTED"]]},"lastBroadcastTs":{"#bigint":"0"}},"node":{"connEpoch":{"#bigint":"1"},"connState":"CONNECTED","handshakeComplete":true,"lastAppliedParams":{"#map":[["brightness",{"#bigint":"128"}],["paletteId",{"#bigint":"0"}],["speed",{"#bigint":"50"}]]},"lastStatusTs":{"#bigint":"0"}}}}]}