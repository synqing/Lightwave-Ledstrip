{"#meta":{"format":"ITF","format-description":"https://apalache-mc.org/docs/adr/015adr-trace.html","source":"lightwave_step.qnt","status":"ok","description":"Created by Quint on Mon Jan 19 2026 05:25:20 GMT+0800 (Australian Western Standard Time)","timestamp":1768771520243},"vars":["state","pendingMessages","pendingEvents","mbt::actionTaken","mbt::nondetPicks"],"states":[{"#meta":{"index":0},"mbt::actionTaken":"init","mbt::nondetPicks":{"brightness":{"tag":"None","value":{"#tup":[]}},"speed":{"tag":"None","value":{"#tup":[]}}},"pendingEvents":{"#set":[{"tag":"WsConnect","value":{"#bigint":"1"}}]},"pendingMessages":{"#set":[]},"state":{"hub":{"activeEffectId":{"#bigint":"0"},"activeParams":{"#map":[]},"connEpoch":{"#map":[]},"connState":{"#map":[]},"lastBroadcastTs":{"#bigint":"0"}},"node":{"connEpoch":{"#bigint":"0"},"connState":"DISCONNECTED","handshakeComplete":false,"lastAppliedParams":{"#map":[]},"lastStatusTs":{"#bigint":"0"}}}},{"#meta":{"index":1},"mbt::actionTaken":"node_connect","mbt::nondetPicks":{"brightness":{"tag":"None","value":{"#tup":[]}},"speed":{"tag":"None","value":{"#tup":[]}}},"pendingEvents":{"#set":[]},"pendingMessages":{"#set":[]},"state":{"hub":{"activeEffectId":{"#bigint":"0"},"activeParams":{"#map":[]},"connEpoch":{"#map":[[{"#bigint":"1"},{"#bigint":"1"}]]},"connState":{"#map":[[{"#bigint":"1"},"CONNECTING"]]},"lastBroadcastTs":{"#bigint":"0"}},"node":{"connEpoch":{"#bigint":"1"},"connState":"CONNECTING","handshakeComplete":false,"lastAppliedParams":{"#map":[]},"lastStatusTs":{"#bigint":"0"}}}},{"#meta":{"index":2},"mbt::actionTaken":"env_deliver_connected","mbt::nondetPicks":{"brightness":{"tag":"None","value":{"#tup":[]}},"speed":{"tag":"None","value":{"#tup":[]}}},"pendingEvents":{"#set":[{"tag":"WsConnected","value":{"#bigint":"1"}}]},"pendingMessages":{"#set":[]},"state":{"hub":{"activeEffectId":{"#bigint":"0"},"activeParams":{"#map":[]},"connEpoch":{"#map":[[{"#bigint":"1"},{"#bigint":"1"}]]},"connState":{"#map":[[{"#bigint":"1"},"CONNECTING"]]},"lastBroadcastTs":{"#bigint":"0"}},"node":{"connEpoch":{"#bigint":"1"},"connState":"CONNECTING","handshakeComplete":false,"lastAppliedParams":{"#map":[]},"lastStatusTs":{"#bigint":"0"}}}},{"#meta":{"index":3},"mbt::actionTaken":"node_connected","mbt::nondetPicks":{"brightness":{"tag":"None","value":{"#tup":[]}},"speed":{"tag":"None","value":{"#tup":[]}}},"pendingEvents":{"#set":[]},"pendingMessages":{"#set":[{"tag":"GetStatus","value":{"#tup":[]}}]},"state":{"hub":{"activeEffectId":{"#bigint":"0"},"activeParams":{"#map":[]},"connEpoch":{"#map":[[{"#bigint":"1"},{"#bigint":"1"}]]},"connState":{"#map":[[{"#bigint":"1"},"CONNECTED"]]},"lastBroadcastTs":{"#bigint":"0"}},"node":{"connEpoch":{"#bigint":"1"},"connState":"CONNECTED","handshakeComplete":false,"lastAppliedParams":{"#map":[]},"lastStatusTs":{"#bigint":"0"}}}},{"#meta":{"index":4},"mbt::actionTaken":"hub_respond_status","mbt::nondetPicks":{"brightness":{"tag":"None","value":{"#tup":[]}},"speed":{"tag":"None","value":{"#tup":[]}}},"pendingEvents":{"#set":[]},"pendingMessages":{"#set":[{"tag":"Status","value":{"brightness":{"#bigint":"128"},"effectId":{"#bigint":"0"},"paletteId":{"#bigint":"0"},"speed":{"#bigint":"50"}}}]},"state":{"hub":{"activeEffectId":{"#bigint":"0"},"activeParams":{"#map":[]},"connEpoch":{"#map":[[{"#bigint":"1"},{"#bigint":"1"}]]},"connState":{"#map":[[{"#bigint":"1"},"CONNECTED"]]},"lastBroadcastTs":{"#bigint":"0"}},"node":{"connEpoch":{"#bigint":"1"},"connState":"CONNECTED","handshakeComplete":false,"lastAppliedParams":{"#map":[]},"lastStatusTs":{"#bigint":"0"}}}},{"#meta":{"index":5},"mbt::actionTaken":"node_receive_status","mbt::nondetPicks":{"brightness":{"tag":"None","value":{"#tup":[]}},"speed":{"tag":"None","value":{"#tup":[]}}},"pendingEvents":{"#set":[]},"pendingMessages":{"#set":[]},"state":{"hub":{"activeEffectId":{"#bigint":"0"},"activeParams":{"#map":[]},"connEpoch":{"#map":[[{"#bigint":"1"},{"#bigint":"1"}]]},"connState":{"#map":[[{"#bigint":"1"},"CONNECTED"]]},"lastBroadcastTs":{"#bigint":"0"}},"node":{"connEpoch":{"#bigint":"1"},"connState":"CONNECTED","handshakeComplete":true,"lastAppliedParams":{"#map":[]},"lastStatusTs":{"#bigint":"0"}}}},{"#meta":{"index":6},"mbt::actionTaken":"node_send_parameters","mbt::nondetPicks":{"brightness":{"tag":"Some","value":{"#bigint":"176"}},"speed":{"tag":"Some","value":{"#bigint":"99"}}},"pendingEvents":{"#set":[]},"pendingMessages":{"#set":[{"tag":"ParametersSet","value":{"brightness":{"#bigint":"176"},"paletteId":{"#bigint":"0"},"speed":{"#bigint":"99"}}}]},"state":{"hub":{"activeEffectId":{"#bigint":"0"},"activeParams":{"#map":[]},"connEpoch":{"#map":[[{"#bigint":"1"},{"#bigint":"1"}]]},"connState":{"#map":[[{"#bigint":"1"},"CONNECTED"]]},"lastBroadcastTs":{"#bigint":"0"}},"node":{"connEpoch":{"#bigint":"1"},"connState":"CONNECTED","handshakeComplete":true,"lastAppliedParams":{"#map":[]},"lastStatusTs":{"#bigint":"0"}}}},{"#meta":{"index":7},"mbt::actionTaken":"node_send_parameters","mbt::nondetPicks":{"brightness":{"tag":"Some","value":{"#bigint":"152"}},"speed":{"tag":"Some","value":{"#bigint":"33"}}},"pendingEvents":{"#set":[]},"pendingMessages":{"#set":[{"tag":"ParametersSet","value":{"brightness":{"#bigint":"152"},"paletteId":{"#bigint":"0"},"speed":{"#bigint":"33"}}},{"tag":"ParametersSet","value":{"brightness":{"#bigint":"176"},"paletteId":{"#bigint":"0"},"speed":{"#bigint":"99"}}}]},"state":{"hub":{"activeEffectId":{"#bigint":"0"},"activeParams":{"#map":[]},"connEpoch":{"#map":[[{"#bigint":"1"},{"#bigint":"1"}]]},"connState":{"#map":[[{"#bigint":"1"},"CONNECTED"]]},"lastBroadcastTs":{"#bigint":"0"}},"node":{"connEpoch":{"#bigint":"1"},"connState":"CONNECTED","handshakeComplete":true,"lastAppliedParams":{"#map":[]},"lastStatusTs":{"#bigint":"0"}}}},{"#meta":{"index":8},"mbt::actionTaken":"hub_apply_parameters","mbt::nondetPicks":{"brightness":{"tag":"None","value":{"#tup":[]}},"speed":{"tag":"None","value":{"#tup":[]}}},"pendingEvents":{"#set":[]},"pendingMessages":{"#set":[{"tag":"ParametersChanged","value":{"brightness":{"#bigint":"128"},"paletteId":{"#bigint":"0"},"speed":{"#bigint":"50"}}}]},"state":{"hub":{"activeEffectId":{"#bigint":"0"},"activeParams":{"#map":[["brightness",{"#bigint":"128"}],["paletteId",{"#bigint":"0"}],["speed",{"#bigint":"50"}]]},"connEpoch":{"#map":[[{"#bigint":"1"},{"#bigint":"1"}]]},"connState":{"#map":[[{"#bigint":"1"},"CONNECTED"]]},"lastBroadcastTs":{"#bigint":"0"}},"node":{"connEpoch":{"#bigint":"1"},"connState":"CONNECTED","handshakeComplete":true,"lastAppliedParams":{"#map":[]},"lastStatusTs":{"#bigint":"0"}}}},{"#meta":{"index":9},"mbt::actionTaken":"node_send_parameters","mbt::nondetPicks":{"brightness":{"tag":"Some","value":{"#bigint":"197"}},"speed":{"tag":"Some","value":{"#bigint":"43"}}},"pendingEvents":{"#set":[]},"pendingMessages":{"#set":[{"tag":"ParametersChanged","value":{"brightness":{"#bigint":"128"},"paletteId":{"#bigint":"0"},"speed":{"#bigint":"50"}}},{"tag":"ParametersSet","value":{"brightness":{"#bigint":"197"},"paletteId":{"#bigint":"0"},"speed":{"#bigint":"43"}}}]},"state":{"hub":{"activeEffectId":{"#bigint":"0"},"activeParams":{"#map":[["brightness",{"#bigint":"128"}],["paletteId",{"#bigint":"0"}],["speed",{"#bigint":"50"}]]},"connEpoch":{"#map":[[{"#bigint":"1"},{"#bigint":"1"}]]},"connState":{"#map":[[{"#bigint":"1"},"CONNECTED"]]},"lastBroadcastTs":{"#bigint":"0"}},"node":{"connEpoch":{"#bigint":"1"},"connState":"CONNECTED","handshakeComplete":true,"lastAppliedParams":{"#map":[]},"lastStatusTs":{"#bigint":"0"}}}},{"#meta":{"index":10},"mbt::actionTaken":"hub_apply_parameters","mbt::nondetPicks":{"brightness":{"tag":"None","value":{"#tup":[]}},"speed":{"tag":"None","value":{"#tup":[]}}},"pendingEvents":{"#set":[]},"pendingMessages":{"#set":[{"tag":"ParametersChanged","value":{"brightness":{"#bigint":"128"},"paletteId":{"#bigint":"0"},"speed":{"#bigint":"50"}}}]},"state":{"hub":{"activeEffectId":{"#bigint":"0"},"activeParams":{"#map":[["brightness",{"#bigint":"128"}],["paletteId",{"#bigint":"0"}],["speed",{"#bigint":"50"}]]},"connEpoch":{"#map":[[{"#bigint":"1"},{"#bigint":"1"}]]},"connState":{"#map":[[{"#bigint":"1"},"CONNECTED"]]},"lastBroadcastTs":{"#bigint":"0"}},"node":{"connEpoch":{"#bigint":"1"},"connState":"CONNECTED","handshakeComplete":true,"lastAppliedParams":{"#map":[]},"lastStatusTs":{"#bigint":"0"}}}},{"#meta":{"index":11},"mbt::actionTaken":"node_receive_params_changed","mbt::nondetPicks":{"brightness":{"tag":"None","value":{"#tup":[]}},"speed":{"tag":"None","value":{"#tup":[]}}},"pendingEvents":{"#set":[]},"pendingMessages":{"#set":[]},"state":{"hub":{"activeEffectId":{"#bigint":"0"},"activeParams":{"#map":[["brightness",{"#bigint":"128"}],["paletteId",{"#bigint":"0"}],["speed",{"#bigint":"50"}]]},"connEpoch":{"#map":[[{"#bigint":"1"},{"#bigint":"1"}]]},"connState":{"#map":[[{"#bigint":"1"},"CONNECTED"]]},"lastBroadcastTs":{"#bigint":"0"}},"node":{"connEpoch":{"#bigint":"1"},"connState":"CONNECTED","handshakeComplete":true,"lastAppliedParams":{"#map":[["brightness",{"#bigint":"128"}],["paletteId",{"#bigint":"0"}],["speed",{"#bigint":"50"}]]},"lastStatusTs":{"#bigint":"0"}}}},{"#meta":{"index":12},"mbt::actionTaken":"node_send_parameters","mbt::nondetPicks":{"brightness":{"tag":"Some","value":{"#bigint":"254"}},"speed":{"tag":"Some","value":{"#bigint":"2"}}},"pendingEvents":{"#set":[]},"pendingMessages":{"#set":[{"tag":"ParametersSet","value":{"brightness":{"#bigint":"254"},"paletteId":{"#bigint":"0"},"speed":{"#bigint":"2"}}}]},"state":{"hub":{"activeEffectId":{"#bigint":"0"},"activeParams":{"#map":[["brightness",{"#bigint":"128"}],["paletteId",{"#bigint":"0"}],["speed",{"#bigint":"50"}]]},"connEpoch":{"#map":[[{"#bigint":"1"},{"#bigint":"1"}]]},"connState":{"#map":[[{"#bigint":"1"},"CONNECTED"]]},"lastBroadcastTs":{"#bigint":"0"}},"node":{"connEpoch":{"#bigint":"1"},"connState":"CONNECTED","handshakeComplete":true,"lastAppliedParams":{"#map":[["brightness",{"#bigint":"128"}],["paletteId",{"#bigint":"0"}],["speed",{"#bigint":"50"}]]},"lastStatusTs":{"#bigint":"0"}}}},{"#meta":{"index":13},"mbt::actionTaken":"node_send_parameters","mbt::nondetPicks":{"brightness":{"tag":"Some","value":{"#bigint":"246"}},"speed":{"tag":"Some","value":{"#bigint":"13"}}},"pendingEvents":{"#set":[]},"pendingMessages":{"#set":[{"tag":"ParametersSet","value":{"brightness":{"#bigint":"246"},"paletteId":{"#bigint":"0"},"speed":{"#bigint":"13"}}},{"tag":"ParametersSet","value":{"brightness":{"#bigint":"254"},"paletteId":{"#bigint":"0"},"speed":{"#bigint":"2"}}}]},"state":{"hub":{"activeEffectId":{"#bigint":"0"},"activeParams":{"#map":[["brightness",{"#bigint":"128"}],["paletteId",{"#bigint":"0"}],["speed",{"#bigint":"50"}]]},"connEpoch":{"#map":[[{"#bigint":"1"},{"#bigint":"1"}]]},"connState":{"#map":[[{"#bigint":"1"},"CONNECTED"]]},"lastBroadcastTs":{"#bigint":"0"}},"node":{"connEpoch":{"#bigint":"1"},"connState":"CONNECTED","handshakeComplete":true,"lastAppliedParams":{"#map":[["brightness",{"#bigint":"128"}],["paletteId",{"#bigint":"0"}],["speed",{"#bigint":"50"}]]},"lastStatusTs":{"#bigint":"0"}}}},{"#meta":{"index":14},"mbt::actionTaken":"hub_apply_parameters","mbt::nondetPicks":{"brightness":{"tag":"None","value":{"#tup":[]}},"speed":{"tag":"None","value":{"#tup":[]}}},"pendingEvents":{"#set":[]},"pendingMessages":{"#set":[{"tag":"ParametersChanged","value":{"brightness":{"#bigint":"128"},"paletteId":{"#bigint":"0"},"speed":{"#bigint":"50"}}}]},"state":{"hub":{"activeEffectId":{"#bigint":"0"},"activeParams":{"#map":[["brightness",{"#bigint":"128"}],["paletteId",{"#bigint":"0"}],["speed",{"#bigint":"50"}]]},"connEpoch":{"#map":[[{"#bigint":"1"},{"#bigint":"1"}]]},"connState":{"#map":[[{"#bigint":"1"},"CONNECTED"]]},"lastBroadcastTs":{"#bigint":"0"}},"node":{"connEpoch":{"#bigint":"1"},"connState":"CONNECTED","handshakeComplete":true,"lastAppliedParams":{"#map":[["brightness",{"#bigint":"128"}],["paletteId",{"#bigint":"0"}],["speed",{"#bigint":"50"}]]},"lastStatusTs":{"#bigint":"0"}}}},{"#meta":{"index":15},"mbt::actionTaken":"node_receive_params_changed","mbt::nondetPicks":{"brightness":{"tag":"None","value":{"#tup":[]}},"speed":{"tag":"None","value":{"#tup":[]}}},"pendingEvents":{"#set":[]},"pendingMessages":{"#set":[]},"state":{"hub":{"activeEffectId":{"#bigint":"0"},"activeParams":{"#map":[["brightness",{"#bigint":"128"}],["paletteId",{"#bigint":"0"}],["speed",{"#bigint":"50"}]]},"connEpoch":{"#map":[[{"#bigint":"1"},{"#bigint":"1"}]]},"connState":{"#map":[[{"#bigint":"1"},"CONNECTED"]]},"lastBroadcastTs":{"#bigint":"0"}},"node":{"connEpoch":{"#bigint":"1"},"connState":"CONNECTED","handshakeComplete":true,"lastAppliedParams":{"#map":[["brightness",{"#bigint":"128"}],["paletteId",{"#bigint":"0"}],["speed",{"#bigint":"50"}]]},"lastStatusTs":{"#bigint":"0"}}}},{"#meta":{"index":16},"mbt::actionTaken":"node_send_parameters","mbt::nondetPicks":{"brightness":{"tag":"Some","value":{"#bigint":"51"}},"speed":{"tag":"Some","value":{"#bigint":"14"}}},"pendingEvents":{"#set":[]},"pendingMessages":{"#set":[{"tag":"ParametersSet","value":{"brightness":{"#bigint":"51"},"paletteId":{"#bigint":"0"},"speed":{"#bigint":"14"}}}]},"state":{"hub":{"activeEffectId":{"#bigint":"0"},"activeParams":{"#map":[["brightness",{"#bigint":"128"}],["paletteId",{"#bigint":"0"}],["speed",{"#bigint":"50"}]]},"connEpoch":{"#map":[[{"#bigint":"1"},{"#bigint":"1"}]]},"connState":{"#map":[[{"#bigint":"1"},"CONNECTED"]]},"lastBroadcastTs":{"#bigint":"0"}},"node":{"connEpoch":{"#bigint":"1"},"connState":"CONNECTED","handshakeComplete":true,"lastAppliedParams":{"#map":[["brightness",{"#bigint":"128"}],["paletteId",{"#bigint":"0"}],["speed",{"#bigint":"50"}]]},"lastStatusTs":{"#bigint":"0"}}}},{"#meta":{"index":17},"mbt::actionTaken":"node_send_parameters","mbt::nondetPicks":{"brightness":{"tag":"Some","value":{"#bigint":"83"}},"speed":{"tag":"Some","value":{"#bigint":"30"}}},"pendingEvents":{"#set":[]},"pendingMessages":{"#set":[{"tag":"ParametersSet","value":{"brightness":{"#bigint":"51"},"paletteId":{"#bigint":"0"},"speed":{"#bigint":"14"}}},{"tag":"ParametersSet","value":{"brightness":{"#bigint":"83"},"paletteId":{"#bigint":"0"},"speed":{"#bigint":"30"}}}]},"state":{"hub":{"activeEffectId":{"#bigint":"0"},"activeParams":{"#map":[["brightness",{"#bigint":"128"}],["paletteId",{"#bigint":"0"}],["speed",{"#bigint":"50"}]]},"connEpoch":{"#map":[[{"#bigint":"1"},{"#bigint":"1"}]]},"connState":{"#map":[[{"#bigint":"1"},"CONNECTED"]]},"lastBroadcastTs":{"#bigint":"0"}},"node":{"connEpoch":{"#bigint":"1"},"connState":"CONNECTED","handshakeComplete":true,"lastAppliedParams":{"#map":[["brightness",{"#bigint":"128"}],["paletteId",{"#bigint":"0"}],["speed",{"#bigint":"50"}]]},"lastStatusTs":{"#bigint":"0"}}}},{"#meta":{"index":18},"mbt::actionTaken":"node_send_parameters","mbt::nondetPicks":{"brightness":{"tag":"Some","value":{"#bigint":"225"}},"speed":{"tag":"Some","value":{"#bigint":"49"}}},"pendingEvents":{"#set":[]},"pendingMessages":{"#set":[{"tag":"ParametersSet","value":{"brightness":{"#bigint":"225"},"paletteId":{"#bigint":"0"},"speed":{"#bigint":"49"}}},{"tag":"ParametersSet","value":{"brightness":{"#bigint":"51"},"paletteId":{"#bigint":"0"},"speed":{"#bigint":"14"}}},{"tag":"ParametersSet","value":{"brightness":{"#bigint":"83"},"paletteId":{"#bigint":"0"},"speed":{"#bigint":"30"}}}]},"state":{"hub":{"activeEffectId":{"#bigint":"0"},"activeParams":{"#map":[["brightness",{"#bigint":"128"}],["paletteId",{"#bigint":"0"}],["speed",{"#bigint":"50"}]]},"connEpoch":{"#map":[[{"#bigint":"1"},{"#bigint":"1"}]]},"connState":{"#map":[[{"#bigint":"1"},"CONNECTED"]]},"lastBroadcastTs":{"#bigint":"0"}},"node":{"connEpoch":{"#bigint":"1"},"connState":"CONNECTED","handshakeComplete":true,"lastAppliedParams":{"#map":[["brightness",{"#bigint":"128"}],["paletteId",{"#bigint":"0"}],["speed",{"#bigint":"50"}]]},"lastStatusTs":{"#bigint":"0"}}}},{"#meta":{"index":19},"mbt::actionTaken":"hub_apply_parameters","mbt::nondetPicks":{"brightness":{"tag":"None","value":{"#tup":[]}},"speed":{"tag":"None","value":{"#tup":[]}}},"pendingEvents":{"#set":[]},"pendingMessages":{"#set":[{"tag":"ParametersChanged","value":{"brightness":{"#bigint":"128"},"paletteId":{"#bigint":"0"},"speed":{"#bigint":"50"}}}]},"state":{"hub":{"activeEffectId":{"#bigint":"0"},"activeParams":{"#map":[["brightness",{"#bigint":"128"}],["paletteId",{"#bigint":"0"}],["speed",{"#bigint":"50"}]]},"connEpoch":{"#map":[[{"#bigint":"1"},{"#bigint":"1"}]]},"connState":{"#map":[[{"#bigint":"1"},"CONNECTED"]]},"lastBroadcastTs":{"#bigint":"0"}},"node":{"connEpoch":{"#bigint":"1"},"connState":"CONNECTED","handshakeComplete":true,"lastAppliedParams":{"#map":[["brightness",{"#bigint":"128"}],["paletteId",{"#bigint":"0"}],["speed",{"#bigint":"50"}]]},"lastStatusTs":{"#bigint":"0"}}}},{"#meta":{"index":20},"mbt::actionTaken":"node_send_parameters","mbt::nondetPicks":{"brightness":{"tag":"Some","value":{"#bigint":"118"}},"speed":{"tag":"Some","value":{"#bigint":"71"}}},"pendingEvents":{"#set":[]},"pendingMessages":{"#set":[{"tag":"ParametersChanged","value":{"brightness":{"#bigint":"128"},"paletteId":{"#bigint":"0"},"speed":{"#bigint":"50"}}},{"tag":"ParametersSet","value":{"brightness":{"#bigint":"118"},"paletteId":{"#bigint":"0"},"speed":{"#bigint":"71"}}}]},"state":{"hub":{"activeEffectId":{"#bigint":"0"},"activeParams":{"#map":[["brightness",{"#bigint":"128"}],["paletteId",{"#bigint":"0"}],["speed",{"#bigint":"50"}]]},"connEpoch":{"#map":[[{"#bigint":"1"},{"#bigint":"1"}]]},"connState":{"#map":[[{"#bigint":"1"},"CONNECTED"]]},"lastBroadcastTs":{"#bigint":"0"}},"node":{"connEpoch":{"#bigint":"1"},"connState":"CONNECTED","handshakeComplete":true,"lastAppliedParams":{"#map":[["brightness",{"#bigint":"128"}],["paletteId",{"#bigint":"0"}],["speed",{"#bigint":"50"}]]},"lastStatusTs":{"#bigint":"0"}}}}]}