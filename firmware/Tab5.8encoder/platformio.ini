[platformio]
; Tab5.8encoder - M5Stack Tab5 Encoder Firmware
; Best-effort PlatformIO configuration for ESP32-P4
; If this fails, fall back to Arduino IDE (see README.md)

; Include WiFi credentials from gitignored file (if it exists)
; Copy wifi_credentials.ini.template to wifi_credentials.ini and edit
; extra_configs = wifi_credentials.ini  ; Commented out - not needed for basic encoder functionality

[env:tab5]
; ESP32-P4 / Tab5 configuration (best-effort)
; If board ID is unknown, try:
;   pio boards | grep -i tab5
;   pio boards | grep -i esp32-p4
; Then update 'board' field below
platform = espressif32
board = m5stack-tab5-p4
; Alternative board IDs to try if above fails:
; board = esp32-p4-evboard
; board = esp32-p4
framework = arduino
monitor_speed = 115200
upload_speed = 921600
upload_port = /dev/tty.usbmodem21401
board_build.partitions = default_8MB.csv

; Dependencies (mirroring AtomS3 baseline, minus M5AtomS3, plus Tab5 specifics)
lib_deps =
    m5stack/M5Unified@^0.2.2
    robtillaart/M5ROTATE8@^0.4.1
    bblanchon/ArduinoJson@^7.0.0
    links2004/WebSockets@^2.4.0

build_flags =
    -D CORE_DEBUG_LEVEL=3
    -D ARDUINO_USB_CDC_ON_BOOT=1

; Note: If PlatformIO fails with "board not found" or compilation errors,
; use Arduino IDE instead. See README.md for Arduino IDE build instructions.

