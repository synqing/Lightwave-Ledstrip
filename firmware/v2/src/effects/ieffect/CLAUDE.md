<claude-mem-context>
# Recent Activity

<!-- This section is auto-generated by claude-mem. Edit content outside the tags. -->

*No recent activity*
</claude-mem-context>

## PSRAM ALLOCATION POLICY

**ALL effect buffers >64 bytes MUST be allocated from PSRAM.**

DO NOT use member arrays for large data:
```cpp
// WRONG -- this goes into DRAM and starves WiFi/system heap
float m_buffer[160];

// CORRECT -- PSRAM allocation
struct PsramData { float buffer[160]; };
PsramData* m_ps = nullptr;  // Allocate in init() with heap_caps_malloc(..., MALLOC_CAP_SPIRAM)
```

See: `docs/MEMORY_ALLOCATION.md` section 3.5 for full pattern.
Internal DRAM is reserved for WiFi, FreeRTOS, DMA. Effects have NO claim to it.