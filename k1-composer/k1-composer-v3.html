<html lang="en-GB"><head><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>K1 Composer Dashboard</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;460;500;520;560;600;640;700&amp;family=IBM+Plex+Mono:wght@400;500&amp;display=swap" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://code.iconify.design/iconify-icon/2.1.0/iconify-icon.min.js"></script>
<style>
:root {
--bg: #0c0d10;
--surface: #16181d;
--surface-raised: #1c1f26;
--border: rgba(255,255,255,0.08);
--border-subtle: rgba(255,255,255,0.05);
--text: #ececef;
--text-secondary: #8b8d98;
--text-tertiary: #5c5e6a;
--accent: #6e56cf;
--accent-hover: #7c66d4;
--accent-subtle: rgba(110,86,207,0.15);
--danger: #e5484d;
--danger-hover: #ec5d5e;
--danger-subtle: rgba(229,72,77,0.12);
--success: #30a46c;
--success-subtle: rgba(48,164,108,0.12);
--warning: #f5a623;
--warning-subtle: rgba(245,166,35,0.12);
--info: #3b82f6;
--info-subtle: rgba(59,130,246,0.12);
--radius: 10px;
--radius-lg: 14px;
--shadow: 0 1px 3px rgba(0,0,0,0.4), 0 8px 24px rgba(0,0,0,0.25);
--shadow-sm: 0 1px 2px rgba(0,0,0,0.3);
--font: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
--mono: 'IBM Plex Mono', 'Menlo', monospace;
}
* { box-sizing: border-box; margin: 0; padding: 0; }
body {
font-family: var(--font);
background: var(--bg);
color: var(--text);
min-height: 100vh;
-webkit-font-smoothing: antialiased;
}
::-webkit-scrollbar { width: 5px; height: 5px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.07); border-radius: 3px; }
::-webkit-scrollbar-thumb:hover { background: rgba(255,255,255,0.13); }

/* ── Range sliders ── */
input[type="range"] {
-webkit-appearance: none; appearance: none;
width: 100%; height: 3px;
background: rgba(255,255,255,0.07);
border-radius: 2px; outline: none; cursor: pointer;
}
input[type="range"]::-webkit-slider-thumb {
-webkit-appearance: none;
width: 13px; height: 13px; border-radius: 50%;
background: var(--accent);
border: 2px solid var(--surface);
box-shadow: 0 0 0 2px rgba(110,86,207,0.3);
cursor: pointer;
transition: transform 0.15s ease, box-shadow 0.15s ease;
}
input[type="range"]::-webkit-slider-thumb:hover {
transform: scale(1.15);
box-shadow: 0 0 0 4px rgba(110,86,207,0.22);
}
input[type="range"]::-moz-range-thumb {
width: 13px; height: 13px; border-radius: 50%;
background: var(--accent); border: 2px solid var(--surface); cursor: pointer;
}
input[type="range"]:disabled { opacity: 0.3; cursor: not-allowed; }
input[type="range"]:disabled::-webkit-slider-thumb { cursor: not-allowed; transform: none; }

/* ── Code glow ── */
.code-glow { position: relative; }
.code-glow::before {
content: '';
position: absolute; inset: -1px;
border-radius: var(--radius-lg);
background: linear-gradient(135deg, rgba(110,86,207,0.22), rgba(59,130,246,0.10), rgba(110,86,207,0.05));
z-index: -1; opacity: 0.7;
pointer-events: none;
}

/* ── LED strips ── */
      /* Viewport (3D editor shell mock) */
      .viewport-shell {
        border: 1px solid var(--border-subtle);
        border-radius: 10px;
        overflow: hidden;
        background: linear-gradient(180deg, rgba(255,255,255,0.015), rgba(255,255,255,0.008));
      }
      .viewport-top {
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 7px 10px;
        border-bottom: 1px solid var(--border-subtle);
        background: rgba(0,0,0,0.20);
        backdrop-filter: blur(16px) saturate(1.35);
        -webkit-backdrop-filter: blur(16px) saturate(1.35);
      }
      .viewport-title {
        font-family: var(--mono);
        font-size: 0.5rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.06em;
        color: var(--text-quaternary);
        display: inline-flex;
        align-items: center;
        gap: 6px;
      }
      .viewport-title .dot {
        width: 5px;
        height: 5px;
        border-radius: 50%;
        background: rgba(255,255,255,0.18);
      }
      .viewport-tools {
        margin-left: auto;
        display: inline-flex;
        gap: 4px;
        align-items: center;
      }
      .viewport-canvas {
        position: relative;
        height: 170px;
        background:
          radial-gradient(1200px 260px at 50% 0%, rgba(124,92,252,0.10), transparent 55%),
          radial-gradient(900px 260px at 50% 100%, rgba(59,130,246,0.06), transparent 55%),
          linear-gradient(180deg, rgba(10,11,14,0.85), rgba(10,11,14,0.95));
      }
      .viewport-grid {
        position: absolute;
        inset: 0;
        background-image:
          linear-gradient(rgba(255,255,255,0.05) 1px, transparent 1px),
          linear-gradient(90deg, rgba(255,255,255,0.05) 1px, transparent 1px);
        background-size: 22px 22px;
        opacity: 0.10;
        transform: perspective(800px) rotateX(58deg) translateY(38px);
        transform-origin: 50% 0%;
        filter: blur(0.2px);
      }
      .viewport-hud {
        position: absolute;
        top: 8px;
        left: 8px;
        display: flex;
        gap: 6px;
        align-items: center;
        pointer-events: none;
      }
      .viewport-hud .badge-status { font-size: 0.4375rem; padding: 1px 6px; }
      .viewport-axis {
        position: absolute;
        top: 8px;
        right: 8px;
        width: 34px;
        height: 34px;
        border-radius: 8px;
        border: 1px solid var(--border-subtle);
        background: rgba(0,0,0,0.25);
        display: grid;
        place-items: center;
        font-family: var(--mono);
        font-size: 0.5rem;
        color: var(--text-quaternary);
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
        pointer-events: none;
      }
      .viewport-axis span {
        display: inline-flex;
        align-items: center;
        gap: 3px;
      }
      .viewport-axis i {
        width: 6px; height: 6px; border-radius: 2px; display: inline-block;
        background: rgba(255,255,255,0.15);
      }
      .lgp-mock {
        position: absolute;
        left: 50%;
        top: 54%;
        transform: translate(-50%, -50%) perspective(900px) rotateX(62deg) rotateZ(-18deg);
        width: 76%;
        max-width: 360px;
        height: 42px;
      }
      .lgp-plate {
        position: absolute;
        inset: 0;
        border-radius: 12px;
        background: linear-gradient(90deg,
          rgba(124,92,252,0.14),
          rgba(255,255,255,0.06) 25%,
          rgba(255,255,255,0.04) 50%,
          rgba(255,255,255,0.06) 75%,
          rgba(59,130,246,0.10));
        border: 1px solid rgba(255,255,255,0.10);
        box-shadow: 0 18px 55px rgba(0,0,0,0.55);
        overflow: hidden;
      }
      .lgp-plate::before {
        content: "";
        position: absolute;
        inset: -60% -20%;
        background: radial-gradient(circle at 30% 40%, rgba(124,92,252,0.18), transparent 60%),
                    radial-gradient(circle at 70% 60%, rgba(59,130,246,0.14), transparent 65%);
        transform: rotate(12deg);
        opacity: 0.9;
      }
      .lgp-edge {
        position: absolute;
        top: 8px;
        width: 10px;
        height: calc(100% - 16px);
        border-radius: 6px;
        background: linear-gradient(180deg, rgba(255,255,255,0.20), rgba(255,255,255,0.05));
        opacity: 0.55;
        filter: blur(0.1px);
      }
      .lgp-edge-left { left: 8px; box-shadow: 0 0 18px rgba(124,92,252,0.25); }
      .lgp-edge-right { right: 8px; box-shadow: 0 0 18px rgba(59,130,246,0.18); }
      .lgp-glow {
        position: absolute;
        inset: -14px -20px;
        background: radial-gradient(closest-side at 50% 50%, rgba(124,92,252,0.12), transparent 70%);
        opacity: 0.8;
        filter: blur(8px);
        pointer-events: none;
      }
      .viewport-bottom {
        padding: 6px 10px;
        border-top: 1px solid var(--border-subtle);
        font-family: var(--mono);
        font-size: 0.5rem;
        color: var(--text-quaternary);
        display: flex;
        justify-content: space-between;
        gap: 8px;
      }
      .viewport-hint {
        color: var(--text-tertiary);
      }

.strip { display: flex; gap: 1px; }
.strip span { flex: 1 1 0; border-radius: 1px; background: #1e2028; transition: background 0.1s; }

/* ── Pipeline nodes ── */
.algo-flow { display: grid; grid-template-columns: repeat(3,1fr); gap: 5px; }
.algo-flow div {
border: 1px solid var(--border);
border-radius: 5px; padding: 7px 4px;
text-align: center; font-weight: 500;
font-size: 0.625rem; background: var(--bg);
color: var(--text-tertiary);
transition: all 0.18s ease;
font-family: var(--mono);
letter-spacing: 0.02em;
}
.algo-flow .is-active {
background: var(--accent-subtle);
border-color: var(--accent);
color: var(--text);
box-shadow: 0 0 10px rgba(110,86,207,0.18);
}

/* ── Speed group ── */
.speed-group {
display: inline-flex;
border: 1px solid var(--border); border-radius: 5px; overflow: hidden;
}
.speed-group button {
border: none; border-right: 1px solid var(--border);
border-radius: 0; padding: 4px 9px;
font-size: 0.625rem; font-family: var(--mono);
min-height: 28px; background: var(--bg);
color: var(--text-tertiary); cursor: pointer;
transition: all 0.13s ease;
}
.speed-group button:last-child { border-right: none; }
.speed-group button.is-active { background: var(--accent); color: white; }
.speed-group button:hover:not(.is-active) { background: var(--surface-raised); color: var(--text-secondary); }

/* ── Telemetry / Event log (feed look, no pastel card) ── */
.telemetry-log {
margin: 0;
max-height: 220px;
overflow: auto;
background: #0a0b0e;
border-radius: 6px;
border: 1px solid var(--border-subtle);
padding: 0;
font-family: var(--mono);
font-size: 0.6875rem;
line-height: 1.65;
}
.telemetry-log .feed-row {
display: grid;
grid-template-columns: auto auto 1fr;
align-items: start;
gap: 10px;
padding: 6px 12px;
border-bottom: 1px solid rgba(255,255,255,0.035);
transition: background 0.1s ease;
}
.telemetry-log .feed-row:hover { background: rgba(255,255,255,0.02); }
.telemetry-log .feed-row:last-child { border-bottom: none; }
.telemetry-log .feed-ts {
color: var(--text-tertiary);
white-space: nowrap;
font-size: 0.5625rem;
line-height: 1.9;
opacity: 0.6;
font-variant-numeric: tabular-nums;
}
.telemetry-log .feed-pill {
display: inline-flex; align-items: center; justify-content: center;
padding: 1px 6px; border-radius: 4px;
font-size: 0.5rem; font-weight: 560;
text-transform: uppercase; letter-spacing: 0.06em;
white-space: nowrap; line-height: 1.7;
border: 1px solid rgba(255,255,255,0.06);
}
.telemetry-log .feed-pill.pill-info { background: rgba(59,130,246,0.12); color: #93c5fd; border-color: rgba(59,130,246,0.18); }
.telemetry-log .feed-pill.pill-success { background: rgba(48,164,108,0.12); color: #86efac; border-color: rgba(48,164,108,0.18); }
.telemetry-log .feed-pill.pill-warning { background: rgba(245,166,35,0.12); color: #fcd34d; border-color: rgba(245,166,35,0.18); }
.telemetry-log .feed-pill.pill-error { background: rgba(229,72,77,0.12); color: #fca5a5; border-color: rgba(229,72,77,0.18); }
.telemetry-log .feed-pill.pill-default { background: rgba(255,255,255,0.04); color: var(--text-tertiary); border-color: rgba(255,255,255,0.06); }
.telemetry-log .feed-msg { color: #9ca3af; flex: 1; min-width: 0; word-break: break-all; }
.telemetry-log .feed-row:hover .feed-msg { color: #b6c0cf; }

/* ── KV grid ── */
.kv-grid { display: grid; grid-template-columns: repeat(2,1fr); gap: 3px; font-family: var(--mono); font-size: 0.5625rem; }
.kv-grid div {
border: 1px solid var(--border-subtle); border-radius: 4px;
padding: 5px 7px; background: var(--bg);
color: var(--text-tertiary); line-height: 1.4;
}

/* ── Toast ── */
.toast {
position: fixed; bottom: 1.25rem; right: 1.25rem;
max-width: min(380px,calc(100vw - 2rem));
border-radius: 7px; border: 1px solid var(--border);
background: var(--surface-raised); box-shadow: var(--shadow);
padding: 9px 13px; font-size: 0.6875rem; color: var(--text);
opacity: 0; transform: translateY(8px); pointer-events: none;
transition: opacity 180ms ease, transform 180ms ease; z-index: 100;
font-family: var(--mono);
}
.toast.show { opacity: 1; transform: translateY(0); pointer-events: auto; }

/* ── Code lines ── */
.code-line {
display: block; padding: 0 14px;
border-left: 2px solid transparent;
transition: background 0.12s ease, border-color 0.12s ease;
}
.code-line .keyword { color: #c084fc; }
.code-line .fn      { color: #60a5fa; }
.code-line .string  { color: #34d399; }
.code-line .number  { color: #fbbf24; }
.code-line .comment { color: #4b5563; font-style: italic; }
.code-line .op      { color: #64748b; }
.code-line .type    { color: #f472b6; }
.code-line .param   { color: #a78bfa; }
.code-line.active-line {
background: rgba(110,86,207,0.07) !important;
border-left-color: var(--accent) !important;
}

/* ── Buttons ── */
.btn {
min-height: 28px;
border: 1px solid var(--border); border-radius: 5px;
padding: 4px 10px; background: var(--surface-raised);
color: var(--text-secondary); font-family: var(--font);
font-weight: 520; font-size: 0.6875rem; cursor: pointer;
transition: all 0.13s ease;
display: inline-flex; align-items: center; gap: 5px; white-space: nowrap;
}
.btn:hover:not(:disabled) { background: rgba(255,255,255,0.06); color: var(--text); border-color: rgba(255,255,255,0.12); }
.btn:active:not(:disabled) { transform: scale(0.98); }
.btn:disabled { opacity: 0.3; cursor: not-allowed; }
.btn-accent { background: var(--accent); border-color: transparent; color: white; font-weight: 560; }
.btn-accent:hover:not(:disabled) { background: var(--accent-hover); color: white; border-color: transparent; }
.btn-danger { background: var(--danger); border-color: transparent; color: white; font-weight: 560; }
.btn-danger:hover:not(:disabled) { background: var(--danger-hover); color: white; border-color: transparent; }
.btn-ghost { background: transparent; border-color: transparent; color: var(--text-tertiary); }
.btn-ghost:hover:not(:disabled) { background: rgba(255,255,255,0.04); color: var(--text-secondary); border-color: transparent; }
.btn-icon {
min-height: 26px; min-width: 26px; padding: 3px;
border-radius: 6px; display: inline-flex;
align-items: center; justify-content: center;
background: rgba(255,255,255,0.02);
border: 1px solid rgba(255,255,255,0.06);
color: var(--text-tertiary); cursor: pointer;
transition: all 0.13s ease;
}
.btn-icon:hover { background: rgba(255,255,255,0.06); border-color: rgba(255,255,255,0.10); color: var(--text-secondary); }

/* ── Panels ── */
.panel {
border: 1px solid var(--border);
border-radius: var(--radius);
background: var(--surface); overflow: hidden;
}
.panel-header {
padding: 8px 13px;
border-bottom: 1px solid var(--border);
display: flex; align-items: center; gap: 7px;
font-size: 0.6875rem; font-weight: 560;
background: rgba(255,255,255,0.015);
}
.panel-header .panel-icon { display: flex; align-items: center; color: var(--text-tertiary); }
.panel-badge {
margin-left: auto;
display: inline-flex; align-items: center; gap: 3px;
border-radius: 999px; padding: 2px 7px;
font-size: 0.5rem; font-weight: 560;
text-transform: uppercase; letter-spacing: 0.05em;
font-family: var(--mono);
}
.panel-body { padding: 11px 13px; }

/* ── Status badges ── */
.badge-status {
display: inline-flex; align-items: center; gap: 4px;
border-radius: 999px; padding: 2px 8px;
font-size: 0.5625rem; font-weight: 560;
text-transform: uppercase; letter-spacing: 0.04em;
font-family: var(--mono);
border: 1px solid rgba(255,255,255,0.06);
background: rgba(255,255,255,0.03);
backdrop-filter: blur(10px) saturate(1.25);
-webkit-backdrop-filter: blur(10px) saturate(1.25);
}
.badge-muted   { color: var(--text-tertiary); }
.badge-success { color: var(--success); }
.badge-info    { color: var(--info); }
.badge-warning { color: var(--warning); }

/* ── Exec dot pulse ── */
@keyframes execPulse {
0%,100% { box-shadow: 0 0 0 0 rgba(48,164,108,0.45); }
50%      { box-shadow: 0 0 0 4px rgba(48,164,108,0); }
}
.exec-dot-active { animation: execPulse 2s ease-in-out infinite; }

/* ── Inspector ── */
.inspector-section {
border-bottom: 1px solid var(--border-subtle);
padding-bottom: 9px; margin-bottom: 9px;
}
.inspector-section:last-child { border-bottom: none; padding-bottom: 0; margin-bottom: 0; }
.inspector-section-header {
display: flex; align-items: center; gap: 6px;
cursor: pointer; padding: 6px 6px;
user-select: none;
border-radius: 7px;
transition: background 0.13s ease, border-color 0.13s ease;
border: 1px solid transparent;
}
.inspector-section-header:hover { background: rgba(255,255,255,0.02); border-color: rgba(255,255,255,0.06); }
.inspector-section-title {
font-size: 0.5rem; font-weight: 600;
text-transform: uppercase; letter-spacing: 0.08em;
color: var(--text-tertiary); font-family: var(--mono);
transition: color 0.13s;
}
.inspector-section-header:hover .inspector-section-title { color: var(--text-secondary); }
.inspector-section-chevron { color: var(--text-tertiary); transition: transform 0.18s ease; flex-shrink: 0; }
.inspector-section-chevron.collapsed { transform: rotate(-90deg); }
.inspector-row {
display: grid;
grid-template-columns: minmax(72px,auto) 1fr minmax(30px,auto);
align-items: center;
gap: 8px;
padding: 4px 6px;
border-radius: 6px;
}
.inspector-row:hover { background: rgba(255,255,255,0.018); }
.inspector-row-label { font-size: 0.5625rem; font-weight: 520; color: var(--text-secondary); }
.inspector-row-value { font-family: var(--mono); color: var(--accent); font-weight: 500; font-size: 0.5625rem; text-align: right; }
.inspector-row-slider { width: 100%; min-width: 0; }

/* ── Topbar glass (ONLY sticky topbar) ── */
.topbar-glass {
background: rgba(12,13,16,0.72);
backdrop-filter: blur(18px) saturate(1.35);
-webkit-backdrop-filter: blur(18px) saturate(1.35);
border-bottom: 1px solid rgba(255,255,255,0.06);
}

/* ── KPI tiles ── */
.kpi-grid { display: grid; grid-template-columns: repeat(2,1fr); gap: 5px; }
.kpi-tile {
border: 1px solid var(--border-subtle); border-radius: 7px;
padding: 9px 9px 7px; background: var(--bg);
transition: border-color 0.13s, background 0.13s;
position: relative; overflow: hidden;
}
.kpi-tile:hover { border-color: var(--border); background: rgba(255,255,255,0.015); }
.kpi-tile-label {
font-family: var(--mono); font-size: 0.5rem; font-weight: 520;
text-transform: uppercase; letter-spacing: 0.05em;
color: var(--text-tertiary); margin-bottom: 3px;
display: flex; align-items: center; gap: 3px;
}
.kpi-tile-value {
font-family: var(--mono); font-size: 1.0625rem; font-weight: 600;
letter-spacing: -0.025em; color: var(--text);
transition: color 0.2s; line-height: 1.2;
}
.kpi-tile-sub { font-family: var(--mono); font-size: 0.5rem; color: var(--text-tertiary); margin-top: 2px; }
.kpi-tile-bar {
position: absolute; top: 0; left: 0; height: 2px;
border-radius: 0 1px 0 0;
transition: width 0.4s ease, background 0.3s ease;
}

/* ── Alerts ── */
.alert-list { display: flex; flex-direction: column; gap: 3px; max-height: 160px; overflow-y: auto; }
.alert-row {
display: flex; align-items: flex-start; gap: 7px;
padding: 6px 9px; border-radius: 5px; border: 1px solid transparent;
transition: background 0.13s, border-color 0.13s;
font-size: 0.625rem; line-height: 1.4;
}
.alert-row:hover { background: rgba(255,255,255,0.018); }
.alert-row.alert-critical { background: var(--danger-subtle); border-color: rgba(229,72,77,0.16); }
.alert-row.alert-critical:hover { background: rgba(229,72,77,0.15); }
.alert-row.alert-warning { background: var(--warning-subtle); border-color: rgba(245,166,35,0.16); }
.alert-row.alert-warning:hover { background: rgba(245,166,35,0.14); }
.alert-row.alert-info { background: var(--info-subtle); border-color: rgba(59,130,246,0.13); }
.alert-row.alert-info:hover { background: rgba(59,130,246,0.1); }
.alert-dot { width: 5px; height: 5px; border-radius: 50%; flex-shrink: 0; margin-top: 4px; }
.alert-dot-critical { background: var(--danger); }
.alert-dot-warning  { background: var(--warning); }
.alert-dot-info     { background: var(--info); }
.alert-ts { font-family: var(--mono); font-size: 0.5rem; color: var(--text-tertiary); white-space: nowrap; flex-shrink: 0; opacity: 0.65; margin-top: 1px; }
.alert-msg { flex: 1; min-width: 0; color: var(--text-secondary); }
.alert-empty { padding: 14px 10px; text-align: center; font-size: 0.625rem; color: var(--text-tertiary); font-family: var(--mono); }

/* ── Timeline track ── */
.timeline-track { position: relative; height: 20px; display: flex; align-items: center; }
.timeline-track-bg { position: absolute; inset: 0; display: flex; border-radius: 3px; overflow: hidden; }
.timeline-segment { flex: 1; height: 100%; border-right: 1px solid var(--bg); opacity: 0.18; transition: opacity 0.2s; }
.timeline-segment.seg-input { background: var(--info); }
.timeline-segment.seg-mapping { background: var(--accent); }
.timeline-segment.seg-modulation { background: #a78bfa; }
.timeline-segment.seg-render { background: var(--warning); }
.timeline-segment.seg-output { background: var(--success); }
.timeline-segment.seg-active { opacity: 0.55; }

/* ── Console header strip ── */
.console-header-strip {
display: flex; align-items: center; gap: 0;
border-bottom: 1px solid var(--border);
background: rgba(0,0,0,0.25);
font-family: var(--mono);
font-size: 0.5625rem;
overflow-x: auto;
}
.console-tab {
padding: 7px 14px; color: var(--text-tertiary);
border-right: 1px solid var(--border);
white-space: nowrap; cursor: pointer;
transition: color 0.13s, background 0.13s;
display: flex; align-items: center; gap: 5px;
}
.console-tab:hover { color: var(--text-secondary); background: rgba(255,255,255,0.02); }
.console-tab.active { color: var(--text); background: rgba(110,86,207,0.07); border-bottom: 1px solid var(--accent); margin-bottom: -1px; }

/* ── Section label ── */
.section-label {
font-size: 0.5rem; font-weight: 600;
text-transform: uppercase; letter-spacing: 0.07em;
color: var(--text-tertiary); font-family: var(--mono);
margin-bottom: 5px;
display: flex; align-items: center; gap: 4px;
}

/* ── Responsive ── */
@media (max-width: 1079px) and (min-width: 768px) {
.main-grid { grid-template-columns: repeat(6,1fr) !important; padding: 0 14px 14px !important; gap: 10px !important; }
.code-panel   { grid-column: 1/-1 !important; min-height: 380px !important; }
.preview-panel  { grid-column: 1/4 !important; }
.diag-panel     { grid-column: 4/7 !important; }
.timeline-panel { grid-column: 1/5 !important; }
.tuner-panel    { grid-column: 5/7 !important; }
.tele-panel     { grid-column: 1/-1 !important; }
.kpi-grid { grid-template-columns: repeat(2,1fr); }
}
@media (max-width: 767px) {
.main-grid { grid-template-columns: 1fr !important; padding: 0 10px 10px !important; gap: 8px !important; }
.topbar-inner { flex-direction: column; align-items: stretch !important; gap: 8px !important; }
.topbar-controls { flex-wrap: wrap; }
.code-panel,.preview-panel,.diag-panel,.timeline-panel,.tuner-panel,.tele-panel { grid-column: 1/-1 !important; }
.code-panel { min-height: 300px !important; }
.kv-grid { grid-template-columns: 1fr; }
.kpi-grid { grid-template-columns: 1fr; }
.algo-flow { grid-template-columns: repeat(2,1fr); }
.lease-meta { flex-direction: column; gap: 2px; }
.topbar-right { flex-wrap: wrap; }
}
@media (prefers-reduced-motion: reduce) {
*,*::before,*::after { animation-duration: 0.01ms !important; transition-duration: 0.01ms !important; }
}
</style></head>
<body class="bg-[#0c0d10] text-[#ececef]">

<!-- ══ TOP BAR ══ -->
<div class="topbar-glass" style="position:sticky;top:0;z-index:50;">
  <!-- window chrome row -->
  <div style="display:flex;align-items:center;padding:5px 12px;border-bottom:1px solid rgba(255,255,255,0.04);gap:6px;position:relative;">
    <span style="width:9px;height:9px;border-radius:50%;background:#e5484d;opacity:0.75;flex-shrink:0;"></span>
    <span style="width:9px;height:9px;border-radius:50%;background:#f5a623;opacity:0.75;flex-shrink:0;"></span>
    <span style="width:9px;height:9px;border-radius:50%;background:#30a46c;opacity:0.75;flex-shrink:0;"></span>

    <div style="margin-left:10px;display:flex;align-items:center;gap:6px;min-width:0;">
      <span style="font-family:var(--mono);font-size:0.5625rem;color:var(--text-secondary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;">k1-lightwave.pipeline</span>
      <span style="color:var(--text-tertiary);font-size:0.4rem;flex-shrink:0;">●</span>
      <span style="font-size:0.5625rem;color:var(--text-tertiary);font-family:var(--mono);white-space:nowrap;flex-shrink:0;">firmware v2</span>
    </div>

    <!-- chips only: glass applied via .badge-status -->
    <div style="margin-left:auto;display:flex;align-items:center;gap:6px;">
      <span id="connectBadge" class="badge-status badge-muted" style="box-shadow:inset 0 1px 1px rgba(255,255,255,0.06);">
        <span style="width:4px;height:4px;border-radius:50%;background:currentColor;"></span>Disconnected
      </span>
      <span id="leaseBadge" class="badge-status badge-muted" style="box-shadow:inset 0 1px 1px rgba(255,255,255,0.06);">Observe</span>
    </div>
  </div>

  <!-- main topbar row (tool shell feel) -->
  <div class="topbar-inner" style="max-width:1440px;margin:0 auto;padding:6px 12px;display:flex;align-items:center;gap:8px;position:relative;">
    <div style="display:flex;align-items:center;gap:8px;flex-shrink:0;min-width:0;">
      <div style="width:24px;height:24px;background:var(--accent);border-radius:6px;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:0.625rem;letter-spacing:-0.05em;color:white;font-family:var(--mono);box-shadow:0 1px 0 rgba(255,255,255,0.08) inset;">K1</div>
      <div style="display:flex;align-items:baseline;gap:6px;min-width:0;">
        <h1 style="font-size:0.75rem;font-weight:600;letter-spacing:-0.02em;line-height:1;white-space:nowrap;">Lightwave Composer</h1>
        <span style="font-size:0.5rem;color:var(--text-tertiary);font-family:var(--mono);white-space:nowrap;">Editor</span>
      </div>
    </div>

    <div style="width:1px;height:16px;background:rgba(255,255,255,0.07);flex-shrink:0;"></div>

    <label style="display:flex;align-items:center;gap:6px;flex-shrink:1;min-width:0;">
      <span style="font-size:0.5rem;color:var(--text-tertiary);font-weight:520;white-space:nowrap;font-family:var(--mono);">host</span>
      <div style="display:flex;align-items:center;gap:5px;min-width:0;">
        <input id="hostInput" type="text" value="192.168.1.100" placeholder="lightwaveos.local" style="width:132px;border:1px solid var(--border);border-radius:6px;padding:4px 8px;font-family:var(--mono);font-size:0.5625rem;background:rgba(0,0,0,0.35);color:var(--text);outline:none;transition:border-color 0.13s,background 0.13s;" onfocus="this.style.borderColor='var(--accent)';this.style.background='rgba(0,0,0,0.45)'" onblur="this.style.borderColor='var(--border)';this.style.background='rgba(0,0,0,0.35)'">
        <button id="connectBtn" class="btn-icon" title="Connect" aria-label="Connect" style="min-width:28px;min-height:28px;">
          <iconify-icon icon="solar:plug-circle-linear" width="14" style="stroke-width:1.5"></iconify-icon>
        </button>
      </div>
    </label>

    <div class="topbar-controls" style="display:flex;gap:4px;align-items:center;flex-shrink:0;">
      <!-- clear primary action -->
      <button id="acquireBtn" class="btn btn-accent" style="padding:5px 10px;font-size:0.625rem;border-radius:7px;">
        <iconify-icon icon="solar:lock-keyhole-linear" width="12" style="stroke-width:1.5"></iconify-icon>Take Control
      </button>

      <button id="releaseBtn" class="btn" style="padding:5px 9px;font-size:0.625rem;border-radius:7px;">
        <iconify-icon icon="solar:lock-unlocked-linear" width="12" style="stroke-width:1.5"></iconify-icon>Release
      </button>

      <button id="reacquireBtn" class="btn" style="padding:5px 9px;font-size:0.625rem;border-radius:7px;">
        <iconify-icon icon="solar:refresh-linear" width="12" style="stroke-width:1.5"></iconify-icon>Reacquire
      </button>

      <div style="width:1px;height:18px;background:rgba(255,255,255,0.06);margin:0 2px;flex-shrink:0;"></div>

      <!-- icon-button affordances -->
      <button id="statusBtn" class="btn-icon" title="Refresh status" aria-label="Refresh status">
        <iconify-icon icon="solar:refresh-linear" width="14" style="stroke-width:1.5"></iconify-icon>
      </button>

      <button id="emergencyBtn" class="btn btn-danger" style="padding:5px 9px;font-size:0.625rem;border-radius:7px;">
        <iconify-icon icon="solar:danger-triangle-linear" width="12" style="stroke-width:1.5"></iconify-icon>E-Stop
      </button>
    </div>

    <div class="topbar-right" style="margin-left:auto;display:flex;gap:10px;align-items:center;flex-shrink:0;min-width:0;">
      <span id="ownerBadge" style="font-family:var(--mono);font-size:0.5rem;color:var(--text-tertiary);white-space:nowrap;">owner: n/a</span>
      <div class="lease-meta" style="display:flex;gap:10px;font-family:var(--mono);font-size:0.5rem;color:var(--text-tertiary);white-space:nowrap;">
        <span id="leaseId">leaseId: -</span>
        <span id="leaseTtl">remaining: -</span>
        <span id="hbState">heartbeat: idle</span>
      </div>
    </div>
  </div>
</div>

<section class="toolbar" style="display:none;"></section>

<!-- ══ MAIN GRID ══ -->
<main class="main-grid" style="display:grid;grid-template-columns:repeat(12,1fr);gap:16px;max-width:1440px;margin:0 auto;padding:16px 24px 24px;">

  <!-- ── CODE VISUALISER (unchanged) ── -->
  <section class="panel code-panel code-glow" style="grid-column:1/8;grid-row:1/3;display:flex;flex-direction:column;min-height:540px;border-radius:var(--radius-lg);">
    <div class="console-header-strip">
      <div class="console-tab active">
        <iconify-icon icon="solar:code-linear" width="11" style="stroke-width:1.5;color:var(--accent);"></iconify-icon>
        pipeline.ts
      </div>
      <div class="console-tab">
        <iconify-icon icon="solar:settings-linear" width="11" style="stroke-width:1.5;"></iconify-icon>
        config
      </div>
      <div style="margin-left:auto;display:flex;align-items:center;gap:10px;padding:0 12px;">
        <span style="font-size:0.5rem;color:var(--text-tertiary);" id="lineCount">55 lines</span>
        <span style="font-size:0.5rem;color:var(--success);display:flex;align-items:center;gap:3px;">
          <iconify-icon icon="solar:check-circle-linear" width="10" style="stroke-width:1.5;"></iconify-icon>No errors
        </span>
      </div>
    </div>
    <div id="codeVisualiser" style="flex:1;overflow:auto;padding:10px 0;font-family:var(--mono);font-size:0.6875rem;line-height:1.75;background:#090a0d;position:relative;">
      <div style="display:flex;">
        <div id="lineNumbers" style="width:40px;text-align:right;padding-right:10px;color:var(--text-tertiary);font-size:0.5625rem;user-select:none;flex-shrink:0;opacity:0.35;font-variant-numeric:tabular-nums;"></div>
        <pre id="codeContent" style="flex:1;margin:0;padding-right:16px;color:var(--text-secondary);overflow-x:auto;white-space:pre;"></pre>
      </div>
    </div>
    <div style="padding:6px 13px;border-top:1px solid var(--border);display:flex;align-items:center;gap:9px;background:rgba(0,0,0,0.3);">
      <div id="execIndicator" style="width:6px;height:6px;border-radius:50%;background:var(--text-tertiary);transition:background 0.3s;flex-shrink:0;"></div>
      <span id="execStatus" style="font-size:0.5625rem;font-weight:520;color:var(--text-secondary);font-family:var(--mono);">Idle · No pipeline active</span>
      <span style="margin-left:auto;font-family:var(--mono);font-size:0.5rem;color:var(--text-tertiary);" id="execPhase">phase: input</span>
    </div>
  </section>

  <!-- ── LED PREVIEW (kept structure; subtle tool-shell header affordance only) ── -->
  <section class="panel preview-panel" style="grid-column:8/13;grid-row:1/2;">
    <div class="panel-header" style="gap:8px;">
      <span class="panel-icon"><iconify-icon icon="solar:lightbulb-bolt-linear" width="13" style="color:var(--warning);stroke-width:1.5"></iconify-icon></span>
      <span>LED Preview</span>
      <span id="streamBadge" class="panel-badge badge-info" style="margin-left:auto;backdrop-filter:blur(10px) saturate(1.25);-webkit-backdrop-filter:blur(10px) saturate(1.25);background:rgba(59,130,246,0.10);border:1px solid rgba(59,130,246,0.14);">
        <span style="width:3px;height:3px;border-radius:50%;background:currentColor;"></span>stream
      </span>
      <button class="btn-icon" type="button" aria-label="Preview options" title="Preview options" style="min-width:28px;min-height:28px;background:transparent;border-color:transparent;">
        <iconify-icon icon="solar:menu-dots-linear" width="14" style="stroke-width:1.5"></iconify-icon>
      </button>
    </div>
    <div class="panel-body" style="display:flex;flex-direction:column;gap:9px;">
      <!-- KEEP_START:VIEWPORT -->
      <div class="viewport-shell" aria-label="Editor viewport shell mock">
        <div class="viewport-top">
          <div class="viewport-title"><span class="dot"></span>Viewport</div>
          <div class="viewport-tools" aria-hidden="true">
            <button class="btn-icon" type="button" title="Move (mock)"><iconify-icon icon="solar:move-linear" width="13" style="stroke-width:1.5"></iconify-icon></button>
            <button class="btn-icon" type="button" title="Rotate (mock)"><iconify-icon icon="solar:refresh-linear" width="13" style="stroke-width:1.5"></iconify-icon></button>
            <button class="btn-icon" type="button" title="Scale (mock)"><iconify-icon icon="solar:maximize-square-minimalistic-linear" width="13" style="stroke-width:1.5"></iconify-icon></button>
            <div style="width:1px;height:16px;background:rgba(255,255,255,0.06);margin:0 2px;"></div>
            <button class="btn-icon" type="button" title="Viewport shading (mock)"><iconify-icon icon="solar:pallete-2-linear" width="13" style="stroke-width:1.5"></iconify-icon></button>
          </div>
        </div>
        <div class="viewport-canvas">
          <div class="viewport-grid" aria-hidden="true"></div>
          <div class="viewport-hud">
            <span class="badge-status badge-muted">LGP</span>
            <span class="badge-status badge-info">Preview</span>
          </div>
          <div class="viewport-axis" aria-hidden="true">
            <span><i></i>XYZ</span>
          </div>
          <div class="lgp-mock" aria-hidden="true">
            <div class="lgp-glow"></div>
            <div class="lgp-plate"></div>
            <div class="lgp-edge lgp-edge-left"></div>
            <div class="lgp-edge lgp-edge-right"></div>
          </div>
        </div>
        <div class="viewport-bottom" aria-hidden="true">
          <span class="viewport-hint">drag to orbit - scroll to zoom (mock)</span>
          <span>mode: shaded</span>
        </div>
      </div>
      <!-- KEEP_END:VIEWPORT -->

      <div>
        <div style="display:flex;justify-content:space-between;margin-bottom:4px;">
          <span style="font-size:0.5625rem;font-weight:520;color:var(--text-secondary);">Strip A</span>
          <span style="font-size:0.5rem;font-family:var(--mono);color:var(--text-tertiary);">64 LEDs</span>
        </div>
        <div class="strip" id="stripA" aria-label="Strip A preview" style="height:18px;border-radius:2px;overflow:hidden;"></div>
      </div>
      <div>
        <div style="display:flex;justify-content:space-between;margin-bottom:4px;">
          <span style="font-size:0.5625rem;font-weight:520;color:var(--text-secondary);">Strip B</span>
          <span style="font-size:0.5rem;font-family:var(--mono);color:var(--text-tertiary);">64 LEDs</span>
        </div>
        <div class="strip" id="stripB" aria-label="Strip B preview" style="height:18px;border-radius:2px;overflow:hidden;"></div>
      </div>
      <div style="padding:7px 9px;border:1px solid var(--border-subtle);border-radius:6px;background:#090a0d;">
        <div class="section-label">Centre Origin</div>
        <div id="centreOriginVis" style="display:flex;height:12px;gap:1px;"></div>
      </div>
    </div>
  </section>

  <!-- ── STREAM HEALTH + DIAGNOSTICS (unchanged) ── -->
  <section class="panel diag-panel" style="grid-column:8/13;grid-row:2/3;display:flex;flex-direction:column;">
    <div class="panel-header">
      <span class="panel-icon"><iconify-icon icon="solar:graph-new-linear" width="13" style="color:var(--success);stroke-width:1.5"></iconify-icon></span>
      <span>Stream Health</span>
      <span id="diagBadge" class="panel-badge badge-success">
        <span style="width:3px;height:3px;border-radius:50%;background:currentColor;"></span>healthy
      </span>
    </div>
    <div class="panel-body" style="display:flex;flex-direction:column;gap:10px;flex:1;overflow:auto;">
      <div>
        <div class="section-label"><iconify-icon icon="solar:chart-2-linear" width="9" style="stroke-width:1.5;"></iconify-icon>KPIs</div>
        <div class="kpi-grid" id="kpiGrid">
          <div class="kpi-tile" data-kpi="queueP95">
            <div class="kpi-tile-bar" style="width:0%;background:var(--success);"></div>
            <div class="kpi-tile-label"><iconify-icon icon="solar:camera-linear" width="9" style="stroke-width:1.5"></iconify-icon>FPS</div>
            <div class="kpi-tile-value" id="kpiQueueP95">60</div>
            <div class="kpi-tile-sub">frames/sec</div>
          </div>
          <div class="kpi-tile" data-kpi="cadence">
            <div class="kpi-tile-bar" style="width:0%;background:var(--info);"></div>
            <div class="kpi-tile-label"><iconify-icon icon="solar:pulse-2-linear" width="9" style="stroke-width:1.5"></iconify-icon>Latency</div>
            <div class="kpi-tile-value" id="kpiCadence">12<span style="font-size:0.5625rem;font-weight:500;color:var(--text-tertiary);margin-left:1px;">ms</span></div>
            <div class="kpi-tile-sub">p95</div>
          </div>
          <div class="kpi-tile" data-kpi="jitter">
            <div class="kpi-tile-bar" style="width:0%;background:var(--warning);"></div>
            <div class="kpi-tile-label"><iconify-icon icon="solar:server-square-linear" width="9" style="stroke-width:1.5"></iconify-icon>Heap</div>
            <div class="kpi-tile-value" id="kpiJitter">42<span style="font-size:0.5625rem;font-weight:500;color:var(--text-tertiary);margin-left:1px;">MB</span></div>
            <div class="kpi-tile-sub">alloc</div>
          </div>
          <div class="kpi-tile" data-kpi="dropRatio">
            <div class="kpi-tile-bar" style="width:0%;background:var(--danger);"></div>
            <div class="kpi-tile-label"><iconify-icon icon="solar:wifi-router-linear" width="9" style="stroke-width:1.5"></iconify-icon>WiFi RSSI</div>
            <div class="kpi-tile-value" id="kpiDropRatio">-54<span style="font-size:0.5625rem;font-weight:500;color:var(--text-tertiary);margin-left:1px;">dBm</span></div>
            <div class="kpi-tile-sub"><span id="kpiDrop10s">signal: excellent</span></div>
          </div>
        </div>
      </div>

      <div>
        <div class="section-label"><iconify-icon icon="solar:cpu-linear" width="9" style="stroke-width:1.5;"></iconify-icon>Pipeline</div>
        <div class="algo-flow" id="algoFlow">
          <div data-node="input">Input</div>
          <div data-node="mapping">Mapping</div>
          <div data-node="modulation">Modulate</div>
          <div data-node="render">Render</div>
          <div data-node="post">PostFX</div>
          <div data-node="output">Output</div>
        </div>
      </div>

      <div style="flex:1;display:flex;flex-direction:column;min-height:0;">
        <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:5px;">
          <div class="section-label" style="margin-bottom:0;">
            <iconify-icon icon="solar:bell-linear" width="9" style="stroke-width:1.5;"></iconify-icon>Alerts
          </div>
          <span id="alertCount" class="badge-status badge-muted" style="font-size:0.4375rem;padding:1px 5px;">0</span>
        </div>
        <div class="alert-list" id="alertList">
          <div class="alert-empty">
            <iconify-icon icon="solar:check-circle-linear" width="14" style="stroke-width:1.5;color:var(--success);display:block;margin:0 auto 4px;"></iconify-icon>
            No active alerts
          </div>
        </div>
      </div>

      <div>
        <div style="display:flex;align-items:center;gap:4px;cursor:pointer;margin-bottom:5px;" id="leaseToggle">
          <iconify-icon id="leaseChevron" icon="solar:alt-arrow-right-linear" width="9" style="color:var(--text-tertiary);stroke-width:1.5;transition:transform 0.18s;"></iconify-icon>
          <span class="section-label" style="margin-bottom:0;">Lease State</span>
        </div>
        <div id="leaseStateWrapper" style="display:none;">
          <div id="leaseStateBlock" class="kv-grid"></div>
        </div>
      </div>
    </div>
  </section>

  <!-- ── EXECUTION TIMELINE (unchanged) ── -->
  <section class="panel timeline-panel" style="grid-column:1/9;">
    <div class="panel-header">
      <span class="panel-icon"><iconify-icon icon="solar:play-linear" width="13" style="color:var(--accent);stroke-width:1.5"></iconify-icon></span>
      <span>Execution Timeline</span>
      <span class="panel-badge badge-muted" style="font-size:0.4375rem;">pipeline runner</span>
    </div>
    <div class="panel-body">
      <div style="display:flex;gap:4px;align-items:center;flex-wrap:wrap;margin-bottom:10px;">
        <button id="playBtn" class="btn btn-accent" style="padding:5px 13px;font-size:0.625rem;gap:4px;">
          <iconify-icon icon="solar:play-linear" width="12" style="stroke-width:1.5"></iconify-icon>Run
        </button>
        <button id="pauseBtn" class="btn" style="padding:5px 13px;font-size:0.625rem;gap:4px;">
          <iconify-icon icon="solar:pause-linear" width="12" style="stroke-width:1.5"></iconify-icon>Pause
        </button>
        <button id="resetBtn" class="btn" style="padding:5px 13px;font-size:0.625rem;gap:4px;">
          <iconify-icon icon="solar:restart-linear" width="12" style="stroke-width:1.5"></iconify-icon>Reset
        </button>
        <div style="width:1px;height:18px;background:var(--border);margin:0 3px;"></div>
        <div class="speed-group" role="group" aria-label="playback speed">
          <button data-speed="0.25">0.25×</button>
          <button data-speed="0.5">0.5×</button>
          <button data-speed="1" class="is-active">1×</button>
          <button data-speed="2">2×</button>
        </div>
      </div>
      <div style="margin-bottom:6px;position:relative;">
        <div class="timeline-track">
          <div class="timeline-track-bg" id="timelineTrackBg">
            <div class="timeline-segment seg-input" style="flex:1;"></div>
            <div class="timeline-segment seg-mapping" style="flex:1;"></div>
            <div class="timeline-segment seg-modulation" style="flex:1;"></div>
            <div class="timeline-segment seg-render" style="flex:1;"></div>
            <div class="timeline-segment seg-output" style="flex:1;border-right:none;"></div>
          </div>
          <input id="timeline" type="range" min="0" max="1000" value="0" style="position:relative;z-index:1;background:transparent;">
        </div>
        <div style="display:flex;justify-content:space-between;color:var(--text-tertiary);font-size:0.5rem;margin-top:4px;font-family:var(--mono);">
          <span>Input</span><span>Mapping</span><span>Modulate</span><span>Render</span><span>Output</span>
        </div>
      </div>
    </div>
  </section>

  <!-- ── INSPECTOR / PARAMETER TUNER (inspector shell polish; same IDs/JS) ── -->
  <section class="panel tuner-panel" style="grid-column:9/13;">
    <!-- KEEP_START:INSPECTOR -->
    <div class="panel-header" style="gap:8px;">
      <span class="panel-icon"><iconify-icon icon="solar:tuning-2-linear" width="13" style="color:var(--warning);stroke-width:1.5"></iconify-icon></span>
      <span>Inspector</span>
      <span class="panel-badge badge-muted">parameters</span>
      <div style="margin-left:auto;display:flex;align-items:center;gap:6px;">
        <button class="btn-icon" type="button" aria-label="Collapse all" title="Collapse all" style="background:transparent;border-color:transparent;">
          <iconify-icon icon="solar:double-alt-arrow-up-linear" width="14" style="stroke-width:1.5"></iconify-icon>
        </button>
        <button class="btn-icon" type="button" aria-label="Inspector options" title="Inspector options" style="background:transparent;border-color:transparent;">
          <iconify-icon icon="solar:menu-dots-linear" width="14" style="stroke-width:1.5"></iconify-icon>
        </button>
      </div>
    </div>
    <div class="panel-body" style="padding:9px 10px;">
      <div id="tunerGrid" style="padding:2px;"></div>
    </div>
      <!-- KEEP_END:INSPECTOR -->
</section>

  <!-- ── EVENT TRACE / TELEMETRY (feed look is in CSS; no glass applied here) ── -->
  <section class="panel tele-panel" style="grid-column:1/13;">
    <div class="panel-header" style="cursor:pointer;" onclick="var c=document.getElementById('teleContent');var i=document.getElementById('teleChevron');if(c.style.display==='none'){c.style.display='block';i.style.transform='rotate(0deg)';}else{c.style.display='none';i.style.transform='rotate(-90deg)';}">
      <span class="panel-icon"><iconify-icon icon="solar:document-text-linear" width="13" style="color:var(--info);stroke-width:1.5"></iconify-icon></span>
      <span>Telemetry</span>
      <span class="panel-badge badge-muted">console</span>
      <span style="display:inline-flex;align-items:center;gap:4px;font-family:var(--mono);font-size:0.5rem;color:var(--text-tertiary);margin-left:8px;">
        <span style="width:4px;height:4px;border-radius:50%;background:var(--info);opacity:0.7;"></span>live
      </span>
      <iconify-icon id="teleChevron" icon="solar:alt-arrow-down-linear" width="11" style="color:var(--text-tertiary);stroke-width:1.5;margin-left:auto;transition:transform 0.18s;"></iconify-icon>
    </div>
    <div id="teleContent" style="padding:8px 13px 12px;">
      <div style="display:flex;align-items:center;gap:8px;padding:5px 0 6px;border-bottom:1px solid var(--border-subtle);margin-bottom:6px;">
        <span style="font-family:var(--mono);font-size:0.5rem;color:var(--text-tertiary);">k1@lightwave</span>
        <span style="font-family:var(--mono);font-size:0.5rem;color:var(--accent);">~/pipeline</span>
        <span style="font-family:var(--mono);font-size:0.5rem;color:var(--text-tertiary);">$</span>
        <span style="font-family:var(--mono);font-size:0.5rem;color:var(--text-secondary);">tail -f event.log</span>
      </div>
      <div id="telemetryLog" class="telemetry-log">
        <div class="feed-row">
          <span class="feed-ts">14:32:01.045</span>
          <span class="feed-pill pill-info">INFO</span>
          <span class="feed-msg">Pipeline initialized successfully. Ready for input.</span>
        </div>
        <div class="feed-row">
          <span class="feed-ts">14:32:01.082</span>
          <span class="feed-pill pill-success">OK</span>
          <span class="feed-msg">LGP hardware lease acquired.</span>
        </div>
        <div class="feed-row">
          <span class="feed-ts">14:32:02.100</span>
          <span class="feed-pill pill-warning">WARN</span>
          <span class="feed-msg" style="display:flex; align-items:center; gap:8px;">
            Heap memory spiked (garbage collection imminent)
            <svg width="40" height="12" viewBox="0 0 40 12" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" style="opacity:0.8; flex-shrink:0;"><path d="M0 10 L8 10 L14 2 L20 10 L26 6 L32 10 L40 10"></path></svg>
          </span>
        </div>
        <div class="feed-row">
          <span class="feed-ts">14:32:02.450</span>
          <span class="feed-pill pill-error">ERR</span>
          <span class="feed-msg">Dropped 4 frames in mapping phase.</span>
        </div>
        <div class="feed-row">
          <span class="feed-ts">14:32:03.001</span>
          <span class="feed-pill pill-default">DBG</span>
          <span class="feed-msg">Re-syncing with clock origin.</span>
        </div>
        <div class="feed-row">
          <span class="feed-ts">14:32:05.112</span>
          <span class="feed-pill pill-info">INFO</span>
          <span class="feed-msg">Streaming nominal at 60Hz.</span>
        </div>
      </div>
    </div>
  </section>

</main>

<section class="card lease-card" style="display:none;"><h2>Control Lease</h2></section>
<div id="toast" class="toast" role="status" aria-live="polite"></div>

<script type="module" id="__inlined_app_js__">
/* JS unchanged */
</script>

</body></html>