{
  "phase": "decision_register",
  "decision_rows": [
    {
      "decision_id": "decision_017",
      "statement": "Control plane choices keep AP/STA, IP-first discovery, and portable-mode recoveries deterministic.",
      "type": "decision",
      "status": "contested",
      "confidence": "high",
      "date_range": {
        "first_seen": "2025-10-06T09:46:33.868000Z",
        "last_seen": "2026-02-09T15:08:19.742000Z"
      },
      "rationale": "No supporting excerpts found.",
      "alternatives_rejected": "No supporting excerpts found.",
      "primary_citation_count": 842,
      "supplemental_citation_count": 132,
      "session_count": 124,
      "citations": [
        {
          "evidence_id": "O28376",
          "source_obs_ids": [
            28376
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T15:08:19.742Z",
          "session_id": "d4a7bce4-fb66-4f17-86c2-4148009186b8",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "RendererActor logs audio pipeline health check every 2 seconds RendererActor.cpp logs audio frame sequence, RMS, flux, and ES backend metrics at 2-second intervals.",
          "excerpt_chars": 164,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28339",
          "source_obs_ids": [
            28339
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T14:35:25.424Z",
          "session_id": "d4a7bce4-fb66-4f17-86c2-4148009186b8",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Firmware implements clock spine render timing diagnostics with 2-second logging intervals RendererActor.cpp tracks audio frame age, render intervals, and beat clock integration with detailed performance metrics.",
          "excerpt_chars": 211,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28327",
          "source_obs_ids": [
            28327
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T14:31:03.742Z",
          "session_id": "d4a7bce4-fb66-4f17-86c2-4148009186b8",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Firmware stream subscription handling via WebSocket commands Firmware uses WS commands audio.subscribe and ledStream.subscribe with UDP port negotiation or WS fallback.",
          "excerpt_chars": 168,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "CONTROL/NETWORK"
          ]
        },
        {
          "evidence_id": "O28326",
          "source_obs_ids": [
            28326
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T14:30:47.110Z",
          "session_id": "d4a7bce4-fb66-4f17-86c2-4148009186b8",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "ConnectionManager WebSocket event stream has single consumer architecture AppViewModel is sole consumer of WebSocket events; must call notifyWebSocketDisconnected() to trigger reconnection.",
          "excerpt_chars": 189,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "CONTROL/NETWORK"
          ]
        },
        {
          "evidence_id": "O28313",
          "source_obs_ids": [
            28313
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T07:42:20.815Z",
          "session_id": "d4a7bce4-fb66-4f17-86c2-4148009186b8",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Firmware LED stream broadcaster implements aggressive back-pressure limiting WebSocket frames dropped when queue exceeds 1 pending message to prevent heap exhaustion.",
          "excerpt_chars": 166,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "CONTROL/NETWORK"
          ]
        },
        {
          "evidence_id": "O28272",
          "source_obs_ids": [
            28272
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T07:28:26.628Z",
          "session_id": "d4a7bce4-fb66-4f17-86c2-4148009186b8",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "WebSocket connection stability regression after zone preset refactor Connection drops immediately after REST calls despite delays, but REST operations still function.",
          "excerpt_chars": 166,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "CONTROL/NETWORK",
            "UI/UX"
          ]
        },
        {
          "evidence_id": "O28228",
          "source_obs_ids": [
            28228
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T21:40:37.612Z",
          "session_id": "33d05f53-bb8a-4af0-a123-c3db740ce647",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Bloom Parity Effect Complete Implementation Full implementation of Sensory Bridge Bloom transport with exact pipeline ordering and subpixel advection mechanics The BloomParityEffect.cpp provides complete implementation of Sensory Bridge's Bloom visual mode transport system.",
          "excerpt_chars": 274,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28120",
          "source_obs_ids": [
            28120
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T14:56:40.299Z",
          "session_id": "dfdba9aa-ffa6-4c82-9db5-bf3d8af7a43f",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Architected Complete Oscillator Field System Integration Pattern Designed three-layer architecture with PSRAM-backed OscillatorField physics engine, abstract OscillatorFieldEffect base, and concrete effect implementations.",
          "excerpt_chars": 222,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28022",
          "source_obs_ids": [
            28022
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T13:21:52.047Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "BeatPulseBloomEffect uses subpixel advection with stateful frame persistence for liquid animation Header documents Effect ID 121 implementing Bloom-style transport via fractional frame advancement and centre injection Examined BeatPulseBloomEffect header revealing distinctive stateful animation approach contrasting wi\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27965",
          "source_obs_ids": [
            27965
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T12:01:55.769Z",
          "session_id": "c3c8a9fc-f4fb-402d-a4ee-5e6742c7343a",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Fixed ESBeatClock Initialization: Anchors Phase to Audio Frame Time Instead of Render Time ESBeatClock initialization now anchors m_lastTickT to latest.t enabling age-based phase advancement from audio-time to render-time Second surgical patch applied to EsBeatClock.cpp addressing the phase anchoring bug in the initia\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        }
      ],
      "origin": "theme",
      "theme_id": "decision_control_plane_portable_mode"
    },
    {
      "decision_id": "decision_006",
      "statement": "Device control contracts use REST for commands and WebSocket for streaming/state.",
      "type": "decision",
      "status": "current",
      "confidence": "high",
      "date_range": {
        "first_seen": "2025-10-05T21:55:54.785000Z",
        "last_seen": "2026-02-09T15:59:51.150000Z"
      },
      "rationale": "No supporting excerpts found.",
      "alternatives_rejected": "No supporting excerpts found.",
      "primary_citation_count": 548,
      "supplemental_citation_count": 74,
      "session_count": 101,
      "citations": [
        {
          "evidence_id": "O28423",
          "source_obs_ids": [
            28423
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T15:59:51.150Z",
          "session_id": "d4a7bce4-fb66-4f17-86c2-4148009186b8",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Firmware implements serial command interface for effect selection via keyboard main.cpp serial handler maps keys a-k to effects 10-20 while reserving command letters for system functions.",
          "excerpt_chars": 187,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28394",
          "source_obs_ids": [
            28394
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T15:21:47.057Z",
          "session_id": "669ecadb-8086-47e4-ad1f-2aff39253d69",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Bloom Injection Switched from Multi-Lookup Summation to Single Centroid-Based Palette Lookup Fixed palette color corruption by computing weighted chroma centroid for single palette lookup instead of summing twelve lookups The Bloom injection color computation was fundamentally restructured to fix palette color corrupt\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX",
            "CONTROL/NETWORK"
          ]
        },
        {
          "evidence_id": "O28376",
          "source_obs_ids": [
            28376
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T15:08:19.742Z",
          "session_id": "d4a7bce4-fb66-4f17-86c2-4148009186b8",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "RendererActor logs audio pipeline health check every 2 seconds RendererActor.cpp logs audio frame sequence, RMS, flux, and ES backend metrics at 2-second intervals.",
          "excerpt_chars": 164,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28338",
          "source_obs_ids": [
            28338
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T14:34:00.302Z",
          "session_id": "d4a7bce4-fb66-4f17-86c2-4148009186b8",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "RendererActor runs at 120 FPS on ESP32 Core 1 with tight frame budget RendererActor implementation shows 8.33ms frame budget with 2-4ms render time and 2ms LED driver overhead.",
          "excerpt_chars": 176,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28327",
          "source_obs_ids": [
            28327
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T14:31:03.742Z",
          "session_id": "d4a7bce4-fb66-4f17-86c2-4148009186b8",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Firmware stream subscription handling via WebSocket commands Firmware uses WS commands audio.subscribe and ledStream.subscribe with UDP port negotiation or WS fallback.",
          "excerpt_chars": 168,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "CONTROL/NETWORK"
          ]
        },
        {
          "evidence_id": "O28313",
          "source_obs_ids": [
            28313
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T07:42:20.815Z",
          "session_id": "d4a7bce4-fb66-4f17-86c2-4148009186b8",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Firmware LED stream broadcaster implements aggressive back-pressure limiting WebSocket frames dropped when queue exceeds 1 pending message to prevent heap exhaustion.",
          "excerpt_chars": 166,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "CONTROL/NETWORK"
          ]
        },
        {
          "evidence_id": "O28272",
          "source_obs_ids": [
            28272
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T07:28:26.628Z",
          "session_id": "d4a7bce4-fb66-4f17-86c2-4148009186b8",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "WebSocket connection stability regression after zone preset refactor Connection drops immediately after REST calls despite delays, but REST operations still function.",
          "excerpt_chars": 166,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "CONTROL/NETWORK",
            "UI/UX"
          ]
        },
        {
          "evidence_id": "O28137",
          "source_obs_ids": [
            28137
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T17:34:17.620Z",
          "session_id": "d4a7bce4-fb66-4f17-86c2-4148009186b8",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "EffectPresetHandlers Fully Implemented with Complete CRUD Operations All effect preset REST endpoints implemented using EffectPresetManager with proper validation and error handling EffectPresetHandlers.cpp reveals fully-implemented REST API handlers for effect presets, contradicting the stubbed PresetHandlers.cpp fou\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX",
            "CONTROL/NETWORK",
            "UI/UX"
          ]
        },
        {
          "evidence_id": "O28136",
          "source_obs_ids": [
            28136
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T17:34:04.290Z",
          "session_id": "d4a7bce4-fb66-4f17-86c2-4148009186b8",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "ZonePresetManager Fully Implemented with NVS Storage Complete zone preset manager with save, load, list, remove and ZoneComposer integration ZonePresetManager header reveals a fully-designed zone preset system matching the capability of EffectPresetManager.",
          "excerpt_chars": 257,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX",
            "UI/UX"
          ]
        },
        {
          "evidence_id": "O27933",
          "source_obs_ids": [
            27933
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T11:56:02.004Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "MAX_EFFECTS Single Source of Truth Architecture with Compile-Time Validation Effect count limit (121) defined once in config/limits.h and validated across 15+ subsystems via static assertions and bounds checking The grep search reveals LightwaveOS implements rigorous **single source of truth** architecture for the eff\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        }
      ],
      "origin": "theme",
      "theme_id": "decision_control_plane_rest_ws"
    },
    {
      "decision_id": "decision_014",
      "statement": "Hardware topology and modularity boundaries separate device, hub, and tooling responsibilities.",
      "type": "decision",
      "status": "contested",
      "confidence": "high",
      "date_range": {
        "first_seen": "2025-10-06T04:05:43.072000Z",
        "last_seen": "2026-02-07T18:49:28.799000Z"
      },
      "rationale": "No supporting excerpts found.",
      "alternatives_rejected": "decided to move all backup/archive directories to an external location rather than delete them, preserving historical references while cleaning the working directory",
      "primary_citation_count": 413,
      "supplemental_citation_count": 69,
      "session_count": 108,
      "citations": [
        {
          "evidence_id": "O27569",
          "source_obs_ids": [
            27569
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T18:49:28.799Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Professional Audio-Visual Synchronization Systems - SMPTE Timecode and DMX Control VJ software uses SMPTE timecode and BPM information for perfect sync; wired audio taps preferred over microphones to minimize latency.",
          "excerpt_chars": 217,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP"
          ]
        },
        {
          "evidence_id": "O27304",
          "source_obs_ids": [
            27304
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T13:39:00.571Z",
          "session_id": "3aa8af33-db01-45f6-b446-6235943e5033",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Comprehensive Stash Analysis Shows No UI Mockup HTML Files in Any Stash All 10 stashes contain only tracked source code files with no docs/ui-mockups HTML files present Comprehensive analysis of all 10 git stashes definitively proves that no UI mockup HTML files from docs/ui-mockups/ were captured in any stash entry.",
          "excerpt_chars": 318,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "UI/UX"
          ]
        },
        {
          "evidence_id": "O27288",
          "source_obs_ids": [
            27288
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T13:34:49.380Z",
          "session_id": "3aa8af33-db01-45f6-b446-6235943e5033",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Recent File Deletion History Reveals Major Cleanup Operations Four major deletion commits removed web UI assets, Tab5 components, lightwave-simple app, and dashboard docs Git deletion history reveals several major cleanup operations that removed deprecated web assets, UI components, and documentation.",
          "excerpt_chars": 302,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "UI/UX"
          ]
        },
        {
          "evidence_id": "O27133",
          "source_obs_ids": [
            27133
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T17:34:26.610Z",
          "session_id": "f3ff038f-9d06-4165-99cb-b3bf8c4ef2f7",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "ConnectionManager Implements Actor-Based Connection State Machine with Swift 6 Strict Concurrency Actor-isolated connection management with 7 connection states, delegate pattern for ready state, and async event stream consumption.",
          "excerpt_chars": 230,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27031",
          "source_obs_ids": [
            27031
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T16:59:46.762Z",
          "session_id": "f3ff038f-9d06-4165-99cb-b3bf8c4ef2f7",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Comprehensive Snapshot Testing and Quality Infrastructure Implementation Plan 174-second planning session produced detailed test architecture with SnapshotTesting integration, token enforcement, accessibility validation, and CI workflows.",
          "excerpt_chars": 238,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": []
        },
        {
          "evidence_id": "O27014",
          "source_obs_ids": [
            27014
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T16:56:43.594Z",
          "session_id": "83352572-8ddc-428c-a07c-67179fdb2b62",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "iOS preset system implementation plan defines complete architecture for effect and zone preset management Specialist agent created comprehensive plan with 8 new files, REST API contract, data models using @Observable pattern, and PresetsView rewrite.",
          "excerpt_chars": 250,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX",
            "CONTROL/NETWORK",
            "UI/UX"
          ]
        },
        {
          "evidence_id": "O26974",
          "source_obs_ids": [
            26974
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T16:55:00.377Z",
          "session_id": "83352572-8ddc-428c-a07c-67179fdb2b62",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "RendererActor is 770-line core visual engine running at 120 FPS on dedicated core with audio sync Actor owns LED buffer exclusively, executes effects on Core 1 at highest priority, integrates zones, transitions, color correction, and audio-reactive rendering.",
          "excerpt_chars": 259,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O26545",
          "source_obs_ids": [
            26545
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T14:43:51.534Z",
          "session_id": "f3ff038f-9d06-4165-99cb-b3bf8c4ef2f7",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "network_config.h Defines WiFi and WebSocket Configuration Constants Network configuration header documents WS_MAX_CLIENTS = 4, 15-second ping interval, 20-second WiFi timeout, and multi-network fallback support PRIMARY session read complete network_config.h (163 lines) revealing WiFi and WebSocket configuration consta\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "CONTROL/NETWORK"
          ]
        },
        {
          "evidence_id": "O26339",
          "source_obs_ids": [
            26339
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T11:48:52.849Z",
          "session_id": "83352572-8ddc-428c-a07c-67179fdb2b62",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "WebServer UDP Streamer Network Recovery Logic WebServer.cpp implements UDP streamer suspension/restart on network state changes with AP mode protection to avoid disrupting AP clients.",
          "excerpt_chars": 183,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "CONTROL/NETWORK"
          ]
        },
        {
          "evidence_id": "O26300",
          "source_obs_ids": [
            26300
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T07:22:30.393Z",
          "session_id": "83352572-8ddc-428c-a07c-67179fdb2b62",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "High-fidelity BPM ring with 12-layer VFX stack and spring physics animation created Advanced component demonstrates production-grade multi-layer rendering with radial masks, conic gradients, backdrop blur, and beat burst effects.",
          "excerpt_chars": 229,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        }
      ],
      "origin": "theme",
      "theme_id": "decision_hardware_modularity"
    },
    {
      "decision_id": "decision_007",
      "statement": "Connectivity strategy keeps AP/STA fallback behaviour for resilience.",
      "type": "decision",
      "status": "current",
      "confidence": "high",
      "date_range": {
        "first_seen": "2025-10-05T21:15:32.413000Z",
        "last_seen": "2026-02-09T14:35:25.424000Z"
      },
      "rationale": "No supporting excerpts found.",
      "alternatives_rejected": "No supporting excerpts found.",
      "primary_citation_count": 393,
      "supplemental_citation_count": 69,
      "session_count": 101,
      "citations": [
        {
          "evidence_id": "O28339",
          "source_obs_ids": [
            28339
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T14:35:25.424Z",
          "session_id": "d4a7bce4-fb66-4f17-86c2-4148009186b8",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Firmware implements clock spine render timing diagnostics with 2-second logging intervals RendererActor.cpp tracks audio frame age, render intervals, and beat clock integration with detailed performance metrics.",
          "excerpt_chars": 211,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28327",
          "source_obs_ids": [
            28327
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T14:31:03.742Z",
          "session_id": "d4a7bce4-fb66-4f17-86c2-4148009186b8",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Firmware stream subscription handling via WebSocket commands Firmware uses WS commands audio.subscribe and ledStream.subscribe with UDP port negotiation or WS fallback.",
          "excerpt_chars": 168,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "CONTROL/NETWORK"
          ]
        },
        {
          "evidence_id": "O28326",
          "source_obs_ids": [
            28326
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T14:30:47.110Z",
          "session_id": "d4a7bce4-fb66-4f17-86c2-4148009186b8",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "ConnectionManager WebSocket event stream has single consumer architecture AppViewModel is sole consumer of WebSocket events; must call notifyWebSocketDisconnected() to trigger reconnection.",
          "excerpt_chars": 189,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "CONTROL/NETWORK"
          ]
        },
        {
          "evidence_id": "O28272",
          "source_obs_ids": [
            28272
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T07:28:26.628Z",
          "session_id": "d4a7bce4-fb66-4f17-86c2-4148009186b8",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "WebSocket connection stability regression after zone preset refactor Connection drops immediately after REST calls despite delays, but REST operations still function.",
          "excerpt_chars": 166,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "CONTROL/NETWORK",
            "UI/UX"
          ]
        },
        {
          "evidence_id": "O28228",
          "source_obs_ids": [
            28228
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T21:40:37.612Z",
          "session_id": "33d05f53-bb8a-4af0-a123-c3db740ce647",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Bloom Parity Effect Complete Implementation Full implementation of Sensory Bridge Bloom transport with exact pipeline ordering and subpixel advection mechanics The BloomParityEffect.cpp provides complete implementation of Sensory Bridge's Bloom visual mode transport system.",
          "excerpt_chars": 274,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28120",
          "source_obs_ids": [
            28120
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T14:56:40.299Z",
          "session_id": "dfdba9aa-ffa6-4c82-9db5-bf3d8af7a43f",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Architected Complete Oscillator Field System Integration Pattern Designed three-layer architecture with PSRAM-backed OscillatorField physics engine, abstract OscillatorFieldEffect base, and concrete effect implementations.",
          "excerpt_chars": 222,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28055",
          "source_obs_ids": [
            28055
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T13:35:32.828Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "LightwaveOS Clock Spine Architecture Validated on Hardware Three-domain timing system running live with EsBeatClock, renderer at 120 FPS, and ES audio backend User observed live hardware telemetry from LightwaveOS firmware showing the clock spine architecture functioning correctly across three timing domains.",
          "excerpt_chars": 310,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28022",
          "source_obs_ids": [
            28022
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T13:21:52.047Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "BeatPulseBloomEffect uses subpixel advection with stateful frame persistence for liquid animation Header documents Effect ID 121 implementing Bloom-style transport via fractional frame advancement and centre injection Examined BeatPulseBloomEffect header revealing distinctive stateful animation approach contrasting wi\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27965",
          "source_obs_ids": [
            27965
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T12:01:55.769Z",
          "session_id": "c3c8a9fc-f4fb-402d-a4ee-5e6742c7343a",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Fixed ESBeatClock Initialization: Anchors Phase to Audio Frame Time Instead of Render Time ESBeatClock initialization now anchors m_lastTickT to latest.t enabling age-based phase advancement from audio-time to render-time Second surgical patch applied to EsBeatClock.cpp addressing the phase anchoring bug in the initia\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27939",
          "source_obs_ids": [
            27939
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T11:57:53.349Z",
          "session_id": "c3c8a9fc-f4fb-402d-a4ee-5e6742c7343a",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "EsBeatClock Phase Integration Architecture Using Sample-Index Timebase Beat clock integrates phase at render cadence by computing sample delta between render_now and m_lastTickT, converting to seconds for phase advancement calculation The primary session examined EsBeatClock.cpp to understand how beat phase tracking i\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        }
      ],
      "origin": "theme",
      "theme_id": "decision_ap_sta_fallback"
    },
    {
      "decision_id": "decision_011",
      "statement": "Zone/segment boundaries are fixed with explicit composer/state contracts.",
      "type": "decision",
      "status": "current",
      "confidence": "high",
      "date_range": {
        "first_seen": "2025-10-16T11:29:27.406000Z",
        "last_seen": "2026-02-09T14:34:00.302000Z"
      },
      "rationale": "No supporting excerpts found.",
      "alternatives_rejected": "No supporting excerpts found.",
      "primary_citation_count": 225,
      "supplemental_citation_count": 10,
      "session_count": 36,
      "citations": [
        {
          "evidence_id": "O28338",
          "source_obs_ids": [
            28338
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T14:34:00.302Z",
          "session_id": "d4a7bce4-fb66-4f17-86c2-4148009186b8",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "RendererActor runs at 120 FPS on ESP32 Core 1 with tight frame budget RendererActor implementation shows 8.33ms frame budget with 2-4ms render time and 2ms LED driver overhead.",
          "excerpt_chars": 176,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28239",
          "source_obs_ids": [
            28239
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T21:43:06.938Z",
          "session_id": "33d05f53-bb8a-4af0-a123-c3db740ce647",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "BeatPulseBloomEffect Design Philosophy Existing Beat Pulse Bloom at ID 121 uses stateful subpixel advection with center injection, distinct from stateless BeatPulse variants BeatPulseBloomEffect at ID 121 already implements a form of bloom transport using subpixel advection - moving the previous frame forward by fract\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28136",
          "source_obs_ids": [
            28136
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T17:34:04.290Z",
          "session_id": "d4a7bce4-fb66-4f17-86c2-4148009186b8",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "ZonePresetManager Fully Implemented with NVS Storage Complete zone preset manager with save, load, list, remove and ZoneComposer integration ZonePresetManager header reveals a fully-designed zone preset system matching the capability of EffectPresetManager.",
          "excerpt_chars": 257,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX",
            "UI/UX"
          ]
        },
        {
          "evidence_id": "O28101",
          "source_obs_ids": [
            28101
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T14:36:04.926Z",
          "session_id": "dfdba9aa-ffa6-4c82-9db5-bf3d8af7a43f",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Root Cause Analysis: Double Brightness Scaling and Missing Parameter Initialization Engineering analysis identifies three critical issues causing BeatPulseBloom to appear flat: brightness squaring, double silence gating, and missing mood/fadeAmount initialization.",
          "excerpt_chars": 264,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28084",
          "source_obs_ids": [
            28084
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T13:59:10.701Z",
          "session_id": "dfdba9aa-ffa6-4c82-9db5-bf3d8af7a43f",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "BeatPulseBloomEffect Header Interface and Design Philosophy Effect interface defines per-zone state management with lazy initialization for ZoneComposer compatibility.",
          "excerpt_chars": 167,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28068",
          "source_obs_ids": [
            28068
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T13:46:48.619Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Global Mode zoneId Handling Fixed in BeatPulseBloomEffect Added explicit 0xFF check treating global non-zone mode as zone 0 preventing out-of-bounds array access in transport state.",
          "excerpt_chars": 181,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28067",
          "source_obs_ids": [
            28067
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T13:46:08.502Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "BeatPulseBloomEffect Debug Output Shows Zone 3 Despite Single-Zone Mode Debug telemetry reporting zone 3 activity when system is not in multi-zone mode, revealing unexpected zone ID behavior User discovered unexpected behavior where BeatPulseBloomEffect debug telemetry reports zone 3 activity despite the system operat\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28022",
          "source_obs_ids": [
            28022
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T13:21:52.047Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "BeatPulseBloomEffect uses subpixel advection with stateful frame persistence for liquid animation Header documents Effect ID 121 implementing Bloom-style transport via fractional frame advancement and centre injection Examined BeatPulseBloomEffect header revealing distinctive stateful animation approach contrasting wi\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27916",
          "source_obs_ids": [
            27916
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T10:29:09.739Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "User requesting core architecture file paths for effect system components Request for IEffect interface, zone/renderer composition, SmoothingEngine, SubpixelRenderer, and effect registry/instantiation logic locations User requested comprehensive file path listing for core effect system architecture components followin\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27713",
          "source_obs_ids": [
            27713
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T21:19:55.535Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Center Point Architecture Uses LEDs 79/80 as Physical Origin Codebase consistently defines center origin at LED indices 79 (CENTER_LEFT) and 80 (CENTER_RIGHT) across all center-origin effects PRIMARY session searched for all references to center point 79 to understand the center-origin architecture before implementing\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "RENDER/FX"
          ]
        }
      ],
      "origin": "theme",
      "theme_id": "decision_zone_boundaries"
    },
    {
      "decision_id": "decision_018",
      "statement": "Storage/persistence decisions lock in LittleFS and recovery paths.",
      "type": "decision",
      "status": "current",
      "confidence": "high",
      "date_range": {
        "first_seen": "2025-10-10T11:00:26.531000Z",
        "last_seen": "2026-02-09T15:21:59.709000Z"
      },
      "rationale": "No supporting excerpts found.",
      "alternatives_rejected": "No supporting excerpts found.",
      "primary_citation_count": 179,
      "supplemental_citation_count": 22,
      "session_count": 84,
      "citations": [
        {
          "evidence_id": "O28395",
          "source_obs_ids": [
            28395
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T15:21:59.709Z",
          "session_id": "669ecadb-8086-47e4-ad1f-2aff39253d69",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Firmware Build Completed with Runtime Parameter Control and Palette-Driven Bloom Successfully compiled esp32dev_audio_esv11 firmware with externalized tunables, palette injection system, and keyboard control infrastructure The firmware build successfully compiled with major architectural changes to the Bloom effect sy\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28136",
          "source_obs_ids": [
            28136
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T17:34:04.290Z",
          "session_id": "d4a7bce4-fb66-4f17-86c2-4148009186b8",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "ZonePresetManager Fully Implemented with NVS Storage Complete zone preset manager with save, load, list, remove and ZoneComposer integration ZonePresetManager header reveals a fully-designed zone preset system matching the capability of EffectPresetManager.",
          "excerpt_chars": 257,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX",
            "UI/UX"
          ]
        },
        {
          "evidence_id": "O27538",
          "source_obs_ids": [
            27538
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T18:40:58.097Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "ESP32-S3 Memory Architecture and Allocation Constraints for LED Effects 320 KB internal SRAM for DMA/WiFi with 8 MB PSRAM for large buffers; critical threshold at 8 KB triggers WiFi crashes.",
          "excerpt_chars": 190,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27199",
          "source_obs_ids": [
            27199
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T10:39:42.696Z",
          "session_id": "0c54afa3-962d-4177-92f2-611596e6d0d7",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "RendererActor Defines Authoritative MAX_EFFECTS = 113 Constant Core rendering actor sets MAX_EFFECTS at 113 matching current effect count, serving as source of truth for effect limits.",
          "excerpt_chars": 184,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27056",
          "source_obs_ids": [
            27056
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T17:04:43.808Z",
          "session_id": "500d7985-4741-46fa-b727-1011beb21be2",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Persistence layer directory search confirms zero preset manager implementations exist in firmware/v2/src/core/persistence/ Glob search returned empty results confirming EffectPresetManager and ZonePresetManager classes completely unimplemented despite architecture specification.",
          "excerpt_chars": 279,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX",
            "UI/UX"
          ]
        },
        {
          "evidence_id": "O27016",
          "source_obs_ids": [
            27016
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T16:56:51.191Z",
          "session_id": "83352572-8ddc-428c-a07c-67179fdb2b62",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Comprehensive preset system architecture planned with dual-layer NVS storage managers Design specifies EffectPresetManager (16 presets, 48 bytes each) and ZonePresetManager (8 presets, 200 bytes each) with CRC32 validation.",
          "excerpt_chars": 223,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX",
            "UI/UX"
          ]
        },
        {
          "evidence_id": "O26986",
          "source_obs_ids": [
            26986
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T16:55:13.154Z",
          "session_id": "83352572-8ddc-428c-a07c-67179fdb2b62",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "PresetManager Class Does Not Exist in Firmware Glob search for PresetManager source files in firmware returned zero results, confirming class is forward-declared but never implemented.",
          "excerpt_chars": 184,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "UI/UX"
          ]
        },
        {
          "evidence_id": "O26913",
          "source_obs_ids": [
            26913
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T16:54:18.015Z",
          "session_id": "83352572-8ddc-428c-a07c-67179fdb2b62",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Firmware Zone Persistence System with Version Migration and 5 Built-in Presets ZoneConfigManager handles NVS storage with CRC32 validation, V1\u2192V2 migration, and presets: Unified, Dual Split, Dual Glow, Dual Pulse, LGP Duo.",
          "excerpt_chars": 222,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "OPTICS/LGP",
            "UI/UX"
          ]
        },
        {
          "evidence_id": "O26875",
          "source_obs_ids": [
            26875
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T16:53:51.074Z",
          "session_id": "83352572-8ddc-428c-a07c-67179fdb2b62",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Zone Configuration Persistence System with 5 Built-in Presets ZoneConfigManager.h defines NVS-based persistence for 4-zone configurations with CRC32 validation, system state storage, and 5 built-in presets.",
          "excerpt_chars": 206,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "UI/UX"
          ]
        },
        {
          "evidence_id": "O26855",
          "source_obs_ids": [
            26855
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T16:53:35.296Z",
          "session_id": "83352572-8ddc-428c-a07c-67179fdb2b62",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Audio Tuning Preset Persistence System Exists in Firmware AudioTuningManager provides NVS-backed persistence for 10 named audio tuning presets with CRC32 validation and thread-safe operations.",
          "excerpt_chars": 192,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "UI/UX"
          ]
        }
      ],
      "origin": "theme",
      "theme_id": "decision_storage_persistence"
    },
    {
      "decision_id": "decision_019",
      "statement": "Palette/preset control decisions are enforced through API handlers with validation.",
      "type": "decision",
      "status": "contested",
      "confidence": "high",
      "date_range": {
        "first_seen": "2025-10-05T21:55:54.785000Z",
        "last_seen": "2026-02-09T15:33:08.292000Z"
      },
      "rationale": "No supporting excerpts found.",
      "alternatives_rejected": "No supporting excerpts found.",
      "primary_citation_count": 160,
      "supplemental_citation_count": 26,
      "session_count": 47,
      "citations": [
        {
          "evidence_id": "O28399",
          "source_obs_ids": [
            28399
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T15:33:08.292Z",
          "session_id": "669ecadb-8086-47e4-ad1f-2aff39253d69",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Refactored Bloom injection to grayscale-only transport, deferring palette mapping to output stage computeInjection() now returns grayscale intensity values, eliminating color corruption by moving palette lookups to final LED output.",
          "excerpt_chars": 232,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28398",
          "source_obs_ids": [
            28398
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T15:31:51.123Z",
          "session_id": "669ecadb-8086-47e4-ad1f-2aff39253d69",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Bloom Mode Injection Algorithm Requires Complete Redesign Current weighted centroid approach still produces oversaturated visuals requiring fundamental rethink of color injection strategy After implementing a weighted centroid voting algorithm to replace the RGB accumulation loop in BloomParityEffect.cpp's computeInje\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28395",
          "source_obs_ids": [
            28395
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T15:21:59.709Z",
          "session_id": "669ecadb-8086-47e4-ad1f-2aff39253d69",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Firmware Build Completed with Runtime Parameter Control and Palette-Driven Bloom Successfully compiled esp32dev_audio_esv11 firmware with externalized tunables, palette injection system, and keyboard control infrastructure The firmware build successfully compiled with major architectural changes to the Bloom effect sy\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28394",
          "source_obs_ids": [
            28394
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T15:21:47.057Z",
          "session_id": "669ecadb-8086-47e4-ad1f-2aff39253d69",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Bloom Injection Switched from Multi-Lookup Summation to Single Centroid-Based Palette Lookup Fixed palette color corruption by computing weighted chroma centroid for single palette lookup instead of summing twelve lookups The Bloom injection color computation was fundamentally restructured to fix palette color corrupt\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX",
            "CONTROL/NETWORK"
          ]
        },
        {
          "evidence_id": "O28371",
          "source_obs_ids": [
            28371
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T15:06:39.797Z",
          "session_id": "669ecadb-8086-47e4-ad1f-2aff39253d69",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Bloom Injection Refactored to Palette-Driven Color System Replaced HSV color summation with direct palette sampling, mapping 12 chroma bins to palette positions for dynamic color vocabulary The Bloom injection computation was completely refactored from HSV-based color summation to a palette-driven system.",
          "excerpt_chars": 306,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28364",
          "source_obs_ids": [
            28364
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T14:58:51.218Z",
          "session_id": "669ecadb-8086-47e4-ad1f-2aff39253d69",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Bloom Injection Switched from HSV to Palette-Driven Color Model Replaced FastLED HSV rainbow wheel with direct palette sampling enabling 75 palettes instead of single chromatic scheme The Bloom injection computation was fundamentally refactored from an HSV-based color model to a palette-driven approach.",
          "excerpt_chars": 304,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28358",
          "source_obs_ids": [
            28358
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T14:56:27.180Z",
          "session_id": "669ecadb-8086-47e4-ad1f-2aff39253d69",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "User Requests Prism Opacity Uncapping and Palette-Based Color System Two enhancement requests: remove 1.0 prism opacity cap for extreme ghosting effects, replace HSV with palette-driven color User provided feedback on Bloom parity implementation, confirming the prism effect's ghost layering behavior works as designed\u2026",
          "excerpt_chars": 319,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28272",
          "source_obs_ids": [
            28272
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T07:28:26.628Z",
          "session_id": "d4a7bce4-fb66-4f17-86c2-4148009186b8",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "WebSocket connection stability regression after zone preset refactor Connection drops immediately after REST calls despite delays, but REST operations still function.",
          "excerpt_chars": 166,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "CONTROL/NETWORK",
            "UI/UX"
          ]
        },
        {
          "evidence_id": "O28238",
          "source_obs_ids": [
            28238
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T21:43:02.979Z",
          "session_id": "33d05f53-bb8a-4af0-a123-c3db740ce647",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Effect Registration Ends at ID 122 with Validation Registration sequence concludes with Kuramoto Transport at ID 122 followed by count validation against limits::MAX_EFFECTS The effect registration concludes with Kuramoto Transport at ID 122, followed by validation logic that compares the actual registration count aga\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28235",
          "source_obs_ids": [
            28235
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T21:42:04.041Z",
          "session_id": "33d05f53-bb8a-4af0-a123-c3db740ce647",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Effect Registration Pattern Using Static Instances CoreEffects.cpp registers effects via static instances with renderer->registerEffect() pattern, ID 98 currently occupied by SnapwaveLinearEffect The effect registration system in CoreEffects.cpp uses a static instance pattern where each effect is declared as a static\u2026",
          "excerpt_chars": 319,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "RENDER/FX"
          ]
        }
      ],
      "origin": "theme",
      "theme_id": "decision_palette_parity"
    },
    {
      "decision_id": "decision_001",
      "statement": "Centre-origin propagation from LEDs 79/80 is locked as a rendering invariant.",
      "type": "decision",
      "status": "current",
      "confidence": "high",
      "date_range": {
        "first_seen": "2025-06-23T23:54:39Z",
        "last_seen": "2026-02-08T21:42:04.041000Z"
      },
      "rationale": "No supporting excerpts found.",
      "alternatives_rejected": "No supporting excerpts found.",
      "primary_citation_count": 145,
      "supplemental_citation_count": 5,
      "session_count": 39,
      "citations": [
        {
          "evidence_id": "O28235",
          "source_obs_ids": [
            28235
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T21:42:04.041Z",
          "session_id": "33d05f53-bb8a-4af0-a123-c3db740ce647",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Effect Registration Pattern Using Static Instances CoreEffects.cpp registers effects via static instances with renderer->registerEffect() pattern, ID 98 currently occupied by SnapwaveLinearEffect The effect registration system in CoreEffects.cpp uses a static instance pattern where each effect is declared as a static\u2026",
          "excerpt_chars": 319,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28119",
          "source_obs_ids": [
            28119
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T14:55:46.369Z",
          "session_id": "dfdba9aa-ffa6-4c82-9db5-bf3d8af7a43f",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Kuramoto Oscillator Field Rendering Architecture Design Phase-to-color rendering system using coherence metrics, center-origin mirroring, and audio-reactive coupling for visualizing synchronized oscillator dynamics.",
          "excerpt_chars": 215,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27713",
          "source_obs_ids": [
            27713
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T21:19:55.535Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Center Point Architecture Uses LEDs 79/80 as Physical Origin Codebase consistently defines center origin at LED indices 79 (CENTER_LEFT) and 80 (CENTER_RIGHT) across all center-origin effects PRIMARY session searched for all references to center point 79 to understand the center-origin architecture before implementing\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27650",
          "source_obs_ids": [
            27650
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T19:21:41.689Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Centre-Origin Architecture Documentation and Phase Convention Found Documentation establishes outward motion convention sin(k*dist - phase) and inward sin(k*dist + phase) with Audio_Reactive_Motion_Phase_Analysis.md cataloging 45+ outward effects and 8 inward effects.",
          "excerpt_chars": 268,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27647",
          "source_obs_ids": [
            27647
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T19:21:32.569Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Motion Direction Conventions Research - Comprehensive Standards Found Extensive documentation exists for outward/inward motion, phase sign conventions, and centre-origin requirements with 3 bugs identified The subagent research uncovered extensive motion direction conventions across multiple documentation files.",
          "excerpt_chars": 313,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27642",
          "source_obs_ids": [
            27642
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T19:20:53.134Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "IMPLEMENTATION_PATTERNS.md - Effect Development Guidelines Comprehensive documentation of proven patterns for audio-reactive effects, centre-origin rendering, and phase accumulation The primary session discovered comprehensive implementation pattern documentation providing proven recipes for common effect development\u2026",
          "excerpt_chars": 319,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27630",
          "source_obs_ids": [
            27630
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T19:20:13.770Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "TransitionEngine Centre-Origin Architecture with PSRAM Buffer Allocation TransitionEngine implements centre-origin compliant transitions using PSRAM-allocated buffers (3x TOTAL_LEDS + dissolve order) with graceful internal SRAM fallback.",
          "excerpt_chars": 237,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27579",
          "source_obs_ids": [
            27579
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T18:52:26.628Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "RGBIC LED Color Theory Specialist Research - Gamut, Gamma, and Power Considerations WS2812 LEDs produce bluish white at (255,255,255), require gamma 2.2-2.5 correction, consume 60mA per LED at full white creating 96W total load for 320 LEDs.",
          "excerpt_chars": 241,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER"
          ]
        },
        {
          "evidence_id": "O27577",
          "source_obs_ids": [
            27577
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T18:51:28.049Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "LightwaveOS Architecture Fundamentals and Critical Design Invariants Examined architecture quick reference documenting centre-origin rendering requirement, no-malloc constraint, defensive bounds checking pattern, and 120 FPS performance targets.",
          "excerpt_chars": 245,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27564",
          "source_obs_ids": [
            27564
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T18:47:51.083Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "System Constraints Document - Performance, Memory, and Power Budgets [\"Frame budget is 8.33ms for 120 FPS with effect calculation limited to 2ms max (typical 1.2ms) before FastLED.show() consumes 2.5ms\",\"ESP32-S3 has 320KB SRAM with 280KB available after boot; LED buffer is 960 bytes (320 LEDs \u00d7 3 RGB), transition buf\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "RENDER/FX"
          ]
        }
      ],
      "origin": "theme",
      "theme_id": "decision_centre_origin"
    },
    {
      "decision_id": "decision_010",
      "statement": "RendererActor scheduling and buffer ownership decisions are locked for Core 1 execution.",
      "type": "decision",
      "status": "current",
      "confidence": "high",
      "date_range": {
        "first_seen": "2025-10-16T11:24:43.113000Z",
        "last_seen": "2026-02-09T14:34:00.302000Z"
      },
      "rationale": "No supporting excerpts found.",
      "alternatives_rejected": "No supporting excerpts found.",
      "primary_citation_count": 142,
      "supplemental_citation_count": 13,
      "session_count": 43,
      "citations": [
        {
          "evidence_id": "O28338",
          "source_obs_ids": [
            28338
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T14:34:00.302Z",
          "session_id": "d4a7bce4-fb66-4f17-86c2-4148009186b8",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "RendererActor runs at 120 FPS on ESP32 Core 1 with tight frame budget RendererActor implementation shows 8.33ms frame budget with 2-4ms render time and 2ms LED driver overhead.",
          "excerpt_chars": 176,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28068",
          "source_obs_ids": [
            28068
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T13:46:48.619Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Global Mode zoneId Handling Fixed in BeatPulseBloomEffect Added explicit 0xFF check treating global non-zone mode as zone 0 preventing out-of-bounds array access in transport state.",
          "excerpt_chars": 181,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28056",
          "source_obs_ids": [
            28056
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T13:35:42.420Z",
          "session_id": "c3c8a9fc-f4fb-402d-a4ee-5e6742c7343a",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Clock Spine Fix Validated on Hardware with Live Serial Output Analysis Debug logs confirm END-OF-HOP semantics working correctly with consistent timing across AudioActor, EsBeatClock, and RendererActor at runtime The primary session successfully validated the clock spine fix implementation on live hardware by analyzin\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27641",
          "source_obs_ids": [
            27641
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T19:20:47.595Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "System Architecture Constraints Drive Beat Pulse Simplicity Requirements Watchdog timeout risk, 2ms render budget, memory limits, and multi-stage pipeline necessitate minimal effect complexity for stability ESP32 watchdog timer management emerges as critical system stability constraint requiring aggressive prevention\u2026",
          "excerpt_chars": 319,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27609",
          "source_obs_ids": [
            27609
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T19:15:54.809Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Post-Processor Usage Points Identified Post-processor used in three locations: construction, frame processing, and effect change reset The primary session investigated post-processor integration points in RendererActor.cpp to understand its scope.",
          "excerpt_chars": 247,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27577",
          "source_obs_ids": [
            27577
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T18:51:28.049Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "LightwaveOS Architecture Fundamentals and Critical Design Invariants Examined architecture quick reference documenting centre-origin rendering requirement, no-malloc constraint, defensive bounds checking pattern, and 120 FPS performance targets.",
          "excerpt_chars": 245,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27573",
          "source_obs_ids": [
            27573
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T18:50:51.764Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Critical Memory Architecture and PSRAM Allocation Strategy for Embedded System Stability The memory allocation architecture documentation was examined to understand the critical constraints that Beat Pulse effects operate within, particularly why dynamic allocation is forbidden in render paths and how PSRAM vs interna\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27564",
          "source_obs_ids": [
            27564
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T18:47:51.083Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "System Constraints Document - Performance, Memory, and Power Budgets [\"Frame budget is 8.33ms for 120 FPS with effect calculation limited to 2ms max (typical 1.2ms) before FastLED.show() consumes 2.5ms\",\"ESP32-S3 has 320KB SRAM with 280KB available after boot; LED buffer is 960 bytes (320 LEDs \u00d7 3 RGB), transition buf\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27561",
          "source_obs_ids": [
            27561
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T18:46:37.937Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "RendererActor 120 FPS LED Rendering Architecture on Core 1 Deterministic LED buffer management with 8333\u03bcs frame budget, exclusive buffer ownership, and post-processing pipeline integration.",
          "excerpt_chars": 190,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27544",
          "source_obs_ids": [
            27544
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T18:42:26.268Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "System Constraints and Performance Budget for Effect Development Examined hard limits including 2ms effect calculation budget, 120 FPS target, centre-origin rendering requirement, and power safety constraints.",
          "excerpt_chars": 209,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "RENDER/FX"
          ]
        }
      ],
      "origin": "theme",
      "theme_id": "decision_render_priority_budget"
    },
    {
      "decision_id": "decision_008",
      "statement": "IP-first discovery with mDNS as hint/fallback is favoured for deterministic connection.",
      "type": "decision",
      "status": "current",
      "confidence": "high",
      "date_range": {
        "first_seen": "2025-10-10T11:00:26.531000Z",
        "last_seen": "2026-02-07T18:50:51.764000Z"
      },
      "rationale": "No supporting excerpts found.",
      "alternatives_rejected": "No supporting excerpts found.",
      "primary_citation_count": 130,
      "supplemental_citation_count": 15,
      "session_count": 36,
      "citations": [
        {
          "evidence_id": "O27573",
          "source_obs_ids": [
            27573
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T18:50:51.764Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Critical Memory Architecture and PSRAM Allocation Strategy for Embedded System Stability The memory allocation architecture documentation was examined to understand the critical constraints that Beat Pulse effects operate within, particularly why dynamic allocation is forbidden in render paths and how PSRAM vs interna\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27133",
          "source_obs_ids": [
            27133
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T17:34:26.610Z",
          "session_id": "f3ff038f-9d06-4165-99cb-b3bf8c4ef2f7",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "ConnectionManager Implements Actor-Based Connection State Machine with Swift 6 Strict Concurrency Actor-isolated connection management with 7 connection states, delegate pattern for ready state, and async event stream consumption.",
          "excerpt_chars": 230,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O26726",
          "source_obs_ids": [
            26726
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T15:57:15.186Z",
          "session_id": "f3ff038f-9d06-4165-99cb-b3bf8c4ef2f7",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "WiFi Scan and mDNS Discovery - Multiple Dynamic Allocation Sources WiFiManager performs network scanning with results stored in std::vector, mDNS peer discovery tracks discovered devices, both creating dynamic allocations The grep search for WiFi scanning and mDNS discovery revealed two additional sources of dynamic m\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "CONTROL/NETWORK"
          ]
        },
        {
          "evidence_id": "O26545",
          "source_obs_ids": [
            26545
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T14:43:51.534Z",
          "session_id": "f3ff038f-9d06-4165-99cb-b3bf8c4ef2f7",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "network_config.h Defines WiFi and WebSocket Configuration Constants Network configuration header documents WS_MAX_CLIENTS = 4, 15-second ping interval, 20-second WiFi timeout, and multi-network fallback support PRIMARY session read complete network_config.h (163 lines) revealing WiFi and WebSocket configuration consta\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "CONTROL/NETWORK"
          ]
        },
        {
          "evidence_id": "O26121",
          "source_obs_ids": [
            26121
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-05T23:30:55.042Z",
          "session_id": "74301159-27f5-406c-b560-d7baa018b169",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "DeviceDiscoveryService Actor - Bonjour + HTTP Probe with AsyncStream Pattern Actor-based mDNS discovery using NWBrowser with fallback HTTP probing and reactive device updates via AsyncStream.",
          "excerpt_chars": 191,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX",
            "CONTROL/NETWORK"
          ]
        },
        {
          "evidence_id": "O26096",
          "source_obs_ids": [
            26096
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-05T23:06:27.887Z",
          "session_id": "74301159-27f5-406c-b560-d7baa018b169",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "ContentView Connection Sheet Trigger Updated for .idle and .failed States Auto-show logic migrated from single .disconnected check to dual .idle/.failed pattern matching with connection sheet on both states The ContentView connection sheet trigger logic received complete state enum migration updating the onChange hand\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O26009",
          "source_obs_ids": [
            26009
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-05T22:56:05.031Z",
          "session_id": "74301159-27f5-406c-b560-d7baa018b169",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "DeviceInfo Model Requires UUID Field Addition for Identity Verification Current model uses IP address as identifier lacking stable device UUID for identity verification across network changes The existing DeviceInfo model exhibits a critical architectural flaw: it uses IP address as the primary identifier (id property\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "CONTROL/NETWORK"
          ]
        },
        {
          "evidence_id": "O25989",
          "source_obs_ids": [
            25989
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-05T22:48:41.194Z",
          "session_id": "74301159-27f5-406c-b560-d7baa018b169",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Pre-Implementation Audit Required: Identify All Touch Points Before Replacement Code replacement phase gated on mapping all existing function injection points, dependencies, and call sites preventing zombie code and broken connections A critical pre-implementation gate was established requiring comprehensive audit of\u2026",
          "excerpt_chars": 319,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": []
        },
        {
          "evidence_id": "O25983",
          "source_obs_ids": [
            25983
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-05T22:47:45.883Z",
          "session_id": "74301159-27f5-406c-b560-d7baa018b169",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Firmware Logging Uses LW_LOG Macros with Tag-Based Categories Network code implements structured logging via LW_LOGI/LOGW/LOGE/LOGD macros with LW_LOG_TAG defining component categories like \"ApiKey\" and \"WiFi\" The ESP32 firmware implements structured logging throughout the network stack using LW_LOG macro family provi\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "CONTROL/NETWORK"
          ]
        },
        {
          "evidence_id": "O25954",
          "source_obs_ids": [
            25954
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-05T22:44:26.066Z",
          "session_id": "74301159-27f5-406c-b560-d7baa018b169",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Current iOS Device Discovery Implementation Uses Bonjour with HTTP Probe Fallback DeviceDiscoveryService implements actor-based mDNS discovery via _http._tcp with 5-second timeout fallback to HTTP probing 192.168.4.1 The current iOS device discovery implementation in DeviceDiscoveryService.swift uses an actor-based ar\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "CONTROL/NETWORK",
            "UI/UX"
          ]
        }
      ],
      "origin": "theme",
      "theme_id": "decision_ip_first_discovery"
    },
    {
      "decision_id": "decision_016",
      "statement": "Audio capture chain decisions nail mic/interface selection and hop/latency budgets.",
      "type": "decision",
      "status": "current",
      "confidence": "high",
      "date_range": {
        "first_seen": "2025-10-06T20:37:48.926000Z",
        "last_seen": "2026-02-08T13:44:11.715000Z"
      },
      "rationale": "No supporting excerpts found.",
      "alternatives_rejected": "No supporting excerpts found.",
      "primary_citation_count": 108,
      "supplemental_citation_count": 35,
      "session_count": 38,
      "citations": [
        {
          "evidence_id": "O28063",
          "source_obs_ids": [
            28063
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T13:44:11.715Z",
          "session_id": "c3c8a9fc-f4fb-402d-a4ee-5e6742c7343a",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Clock Spine Fix Validated: Metrics Confirm Correct Operation with FPS Optimization Recommendation External specialist confirms clock spine fix working correctly with 1-2ms latency; identifies vTaskDelay overhead and WS2812 physics as FPS limiters External specialist provided comprehensive validation of the clock spine\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "AUDIO/DSP"
          ]
        },
        {
          "evidence_id": "O28056",
          "source_obs_ids": [
            28056
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T13:35:42.420Z",
          "session_id": "c3c8a9fc-f4fb-402d-a4ee-5e6742c7343a",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Clock Spine Fix Validated on Hardware with Live Serial Output Analysis Debug logs confirm END-OF-HOP semantics working correctly with consistent timing across AudioActor, EsBeatClock, and RendererActor at runtime The primary session successfully validated the clock spine fix implementation on live hardware by analyzin\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28055",
          "source_obs_ids": [
            28055
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T13:35:32.828Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "LightwaveOS Clock Spine Architecture Validated on Hardware Three-domain timing system running live with EsBeatClock, renderer at 120 FPS, and ES audio backend User observed live hardware telemetry from LightwaveOS firmware showing the clock spine architecture functioning correctly across three timing domains.",
          "excerpt_chars": 310,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27938",
          "source_obs_ids": [
            27938
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T11:57:42.110Z",
          "session_id": "c3c8a9fc-f4fb-402d-a4ee-5e6742c7343a",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "External Specialist Audit Identifies Clock Spine Architecture as Root Cause of Audio-Visual Lag Specialist analysis reveals renderer anchors to frame-arrival time instead of audio-event time, causing systematic visual delay and phase lag External specialist conducted comprehensive audit of AUDIO_VISUAL_TIMING_ARCHITEC\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27890",
          "source_obs_ids": [
            27890
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T10:06:17.875Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Audio chunk size analysis recommends 128-sample hop for 50% latency reduction Reducing HOP_SIZE from 256 to 128 samples achieves 8ms latency with negligible CPU overhead Audio chunk size analysis document provides comprehensive evaluation of reducing hop size from 256 to 128 samples, concluding with strong recommendat\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP"
          ]
        },
        {
          "evidence_id": "O27867",
          "source_obs_ids": [
            27867
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T06:01:26.799Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "AudioActor Goertzel Analysis: 8-Band and 64-Bin Spectrum Processing with Tempo Tracking Audio pipeline uses dual-resolution Goertzel analysis with perceptual weighting, spectral flux novelty detection, and tempo tracker integration Primary session examined AudioActor's Goertzel analysis implementation revealing sophis\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP"
          ]
        },
        {
          "evidence_id": "O27642",
          "source_obs_ids": [
            27642
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T19:20:53.134Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "IMPLEMENTATION_PATTERNS.md - Effect Development Guidelines Comprehensive documentation of proven patterns for audio-reactive effects, centre-origin rendering, and phase accumulation The primary session discovered comprehensive implementation pattern documentation providing proven recipes for common effect development\u2026",
          "excerpt_chars": 319,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27569",
          "source_obs_ids": [
            27569
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T18:49:28.799Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Professional Audio-Visual Synchronization Systems - SMPTE Timecode and DMX Control VJ software uses SMPTE timecode and BPM information for perfect sync; wired audio taps preferred over microphones to minimize latency.",
          "excerpt_chars": 217,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP"
          ]
        },
        {
          "evidence_id": "O27150",
          "source_obs_ids": [
            27150
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T21:05:41.400Z",
          "session_id": "f3ff038f-9d06-4165-99cb-b3bf8c4ef2f7",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "AudioViewModel Implements Comprehensive Beat Tracking with Haptic Feedback and Telemetry Polling @Observable @MainActor ViewModel manages real-time audio metrics, 8-band spectrum, BPM detection, haptic feedback, and HTTP fallback polling at 548 lines.",
          "excerpt_chars": 251,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP"
          ]
        },
        {
          "evidence_id": "O26549",
          "source_obs_ids": [
            26549
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T14:45:20.916Z",
          "session_id": "f3ff038f-9d06-4165-99cb-b3bf8c4ef2f7",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "AudioCapture.h Reveals Platform-Specific DMA Buffer Allocations ESP32-S3 uses 1,280-byte stereo DMA buffer (HOP_SIZE\u00d72\u00d74 bytes), ESP32-P4 uses 512-byte mono buffer (HOP_SIZE\u00d72 bytes) PRIMARY session read AudioCapture.h (143 lines) revealing platform-specific audio capture memory architecture and DMA buffer sizing.",
          "excerpt_chars": 315,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP"
          ]
        }
      ],
      "origin": "theme",
      "theme_id": "decision_audio_capture_chain"
    },
    {
      "decision_id": "decision_012",
      "statement": "Watchdog-related timing guardrails are treated as mandatory stability constraints.",
      "type": "decision",
      "status": "current",
      "confidence": "high",
      "date_range": {
        "first_seen": "2025-10-16T19:15:31.146000Z",
        "last_seen": "2026-02-07T19:20:47.595000Z"
      },
      "rationale": "No supporting excerpts found.",
      "alternatives_rejected": "No supporting excerpts found.",
      "primary_citation_count": 53,
      "supplemental_citation_count": 13,
      "session_count": 15,
      "citations": [
        {
          "evidence_id": "O27641",
          "source_obs_ids": [
            27641
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T19:20:47.595Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "System Architecture Constraints Drive Beat Pulse Simplicity Requirements Watchdog timeout risk, 2ms render budget, memory limits, and multi-stage pipeline necessitate minimal effect complexity for stability ESP32 watchdog timer management emerges as critical system stability constraint requiring aggressive prevention\u2026",
          "excerpt_chars": 319,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O26219",
          "source_obs_ids": [
            26219
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T05:40:46.986Z",
          "session_id": "74301159-27f5-406c-b560-d7baa018b169",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "ESP32-S3 Task Watchdog Crash Fixed by Replacing taskYIELD with vTaskDelay Replaced taskYIELD with vTaskDelay(1) in AudioActor to allow IDLE0 task scheduling on Core 0.",
          "excerpt_chars": 167,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP"
          ]
        },
        {
          "evidence_id": "O26214",
          "source_obs_ids": [
            26214
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T05:35:37.199Z",
          "session_id": "74301159-27f5-406c-b560-d7baa018b169",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "ESP32 Watchdog Timer Feed Fix in AudioActor Replaced taskYIELD() with vTaskDelay(1) to allow IDLE0 task to feed watchdog timer.",
          "excerpt_chars": 127,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP"
          ]
        },
        {
          "evidence_id": "O26196",
          "source_obs_ids": [
            26196
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T04:39:01.257Z",
          "session_id": "74301159-27f5-406c-b560-d7baa018b169",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Task Watchdog crash root cause identified: taskYIELD() insufficient for IDLE task scheduling Embedded engineer investigation reveals taskYIELD() cannot yield to lower-priority IDLE0 task, causing watchdog starvation on Core 0 A comprehensive embedded systems investigation diagnosed the critical Task Watchdog Timer (TW\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": []
        },
        {
          "evidence_id": "O26192",
          "source_obs_ids": [
            26192
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T04:38:05.466Z",
          "session_id": "74301159-27f5-406c-b560-d7baa018b169",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "AudioActor Configuration - ESV11 Self-Clocked Mode vs LWLS Periodic Tick ESV11 backend uses tickInterval=0 for self-clocked blocking I2S reads while LWLS uses 10ms periodic ticks.",
          "excerpt_chars": 179,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP"
          ]
        },
        {
          "evidence_id": "O26188",
          "source_obs_ids": [
            26188
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T04:37:50.618Z",
          "session_id": "74301159-27f5-406c-b560-d7baa018b169",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "WebSocketService Missing Task Cancellation Checks in Receive Loop WebSocketService.receiveMessages() infinite loop never checks Task.isCancelled, preventing cooperative cancellation as identified in forensic audit The WebSocketService actor's receiveMessages() method runs an infinite loop to process incoming WebSocket\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "CONTROL/NETWORK"
          ]
        },
        {
          "evidence_id": "O26183",
          "source_obs_ids": [
            26183
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T04:37:41.687Z",
          "session_id": "74301159-27f5-406c-b560-d7baa018b169",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Root Cause Analysis - Dual WebSocket Connect Storm and CPU0 Starvation iOS app creates 6 WebSocket connections in 12 seconds while ESP32 Audio task starves IDLE0 causing watchdog reset.",
          "excerpt_chars": 185,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "CONTROL/NETWORK",
            "UI/UX"
          ]
        },
        {
          "evidence_id": "O26180",
          "source_obs_ids": [
            26180
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T04:18:37.590Z",
          "session_id": "74301159-27f5-406c-b560-d7baa018b169",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "ESP32 watchdog starvation fix with FreeRTOS task yielding Added taskYIELD() calls to AudioActor to prevent Core 0 IDLE task starvation during WebSocket streaming Fixed critical watchdog timer starvation issue in ESP32 firmware audio processing.",
          "excerpt_chars": 244,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "CONTROL/NETWORK"
          ]
        },
        {
          "evidence_id": "O26121",
          "source_obs_ids": [
            26121
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-05T23:30:55.042Z",
          "session_id": "74301159-27f5-406c-b560-d7baa018b169",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "DeviceDiscoveryService Actor - Bonjour + HTTP Probe with AsyncStream Pattern Actor-based mDNS discovery using NWBrowser with fallback HTTP probing and reactive device updates via AsyncStream.",
          "excerpt_chars": 191,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX",
            "CONTROL/NETWORK"
          ]
        },
        {
          "evidence_id": "O25954",
          "source_obs_ids": [
            25954
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-05T22:44:26.066Z",
          "session_id": "74301159-27f5-406c-b560-d7baa018b169",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Current iOS Device Discovery Implementation Uses Bonjour with HTTP Probe Fallback DeviceDiscoveryService implements actor-based mDNS discovery via _http._tcp with 5-second timeout fallback to HTTP probing 192.168.4.1 The current iOS device discovery implementation in DeviceDiscoveryService.swift uses an actor-based ar\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "CONTROL/NETWORK",
            "UI/UX"
          ]
        }
      ],
      "origin": "theme",
      "theme_id": "decision_watchdog_guardrails"
    },
    {
      "decision_id": "decision_004",
      "statement": "Renderer cadence and effect code are budgeted around 120 FPS operation.",
      "type": "decision",
      "status": "current",
      "confidence": "high",
      "date_range": {
        "first_seen": "2025-10-16T11:24:43.113000Z",
        "last_seen": "2026-02-09T14:34:00.302000Z"
      },
      "rationale": "No supporting excerpts found.",
      "alternatives_rejected": "No supporting excerpts found.",
      "primary_citation_count": 36,
      "supplemental_citation_count": 0,
      "session_count": 19,
      "citations": [
        {
          "evidence_id": "O28338",
          "source_obs_ids": [
            28338
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T14:34:00.302Z",
          "session_id": "d4a7bce4-fb66-4f17-86c2-4148009186b8",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "RendererActor runs at 120 FPS on ESP32 Core 1 with tight frame budget RendererActor implementation shows 8.33ms frame budget with 2-4ms render time and 2ms LED driver overhead.",
          "excerpt_chars": 176,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28118",
          "source_obs_ids": [
            28118
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T14:54:32.369Z",
          "session_id": "dfdba9aa-ffa6-4c82-9db5-bf3d8af7a43f",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Designed dt-Correct Coupled Oscillator System for LED Effects Architected frame-rate independent Kuramoto oscillator implementation using semi-implicit Euler integration with O(N) local coupling and Gaussian perturbation support.",
          "excerpt_chars": 229,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28056",
          "source_obs_ids": [
            28056
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T13:35:42.420Z",
          "session_id": "c3c8a9fc-f4fb-402d-a4ee-5e6742c7343a",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Clock Spine Fix Validated on Hardware with Live Serial Output Analysis Debug logs confirm END-OF-HOP semantics working correctly with consistent timing across AudioActor, EsBeatClock, and RendererActor at runtime The primary session successfully validated the clock spine fix implementation on live hardware by analyzin\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27900",
          "source_obs_ids": [
            27900
          ],
          "project": "v2",
          "timestamp": "2026-02-08T10:19:49.323Z",
          "session_id": "6b059617-7d88-41ea-8def-0c2326364071",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Effects Documentation Reveals Rendering Techniques and Performance Requirements Documentation describes effect categories, temporal blending, supersampling, and 120 FPS performance budget with 8.3ms frame time limit.",
          "excerpt_chars": 216,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27641",
          "source_obs_ids": [
            27641
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T19:20:47.595Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "System Architecture Constraints Drive Beat Pulse Simplicity Requirements Watchdog timeout risk, 2ms render budget, memory limits, and multi-stage pipeline necessitate minimal effect complexity for stability ESP32 watchdog timer management emerges as critical system stability constraint requiring aggressive prevention\u2026",
          "excerpt_chars": 319,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27577",
          "source_obs_ids": [
            27577
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T18:51:28.049Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "LightwaveOS Architecture Fundamentals and Critical Design Invariants Examined architecture quick reference documenting centre-origin rendering requirement, no-malloc constraint, defensive bounds checking pattern, and 120 FPS performance targets.",
          "excerpt_chars": 245,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27564",
          "source_obs_ids": [
            27564
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T18:47:51.083Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "System Constraints Document - Performance, Memory, and Power Budgets [\"Frame budget is 8.33ms for 120 FPS with effect calculation limited to 2ms max (typical 1.2ms) before FastLED.show() consumes 2.5ms\",\"ESP32-S3 has 320KB SRAM with 280KB available after boot; LED buffer is 960 bytes (320 LEDs \u00d7 3 RGB), transition buf\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27561",
          "source_obs_ids": [
            27561
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T18:46:37.937Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "RendererActor 120 FPS LED Rendering Architecture on Core 1 Deterministic LED buffer management with 8333\u03bcs frame budget, exclusive buffer ownership, and post-processing pipeline integration.",
          "excerpt_chars": 190,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27544",
          "source_obs_ids": [
            27544
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T18:42:26.268Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "System Constraints and Performance Budget for Effect Development Examined hard limits including 2ms effect calculation budget, 120 FPS target, centre-origin rendering requirement, and power safety constraints.",
          "excerpt_chars": 209,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O26974",
          "source_obs_ids": [
            26974
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T16:55:00.377Z",
          "session_id": "83352572-8ddc-428c-a07c-67179fdb2b62",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "RendererActor is 770-line core visual engine running at 120 FPS on dedicated core with audio sync Actor owns LED buffer exclusively, executes effects on Core 1 at highest priority, integrates zones, transitions, color correction, and audio-reactive rendering.",
          "excerpt_chars": 259,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        }
      ],
      "origin": "theme",
      "theme_id": "decision_120fps_budget"
    },
    {
      "decision_id": "decision_002",
      "statement": "Rainbow cycling and full hue-wheel sweeps are intentionally excluded.",
      "type": "decision",
      "status": "current",
      "confidence": "high",
      "date_range": {
        "first_seen": "2025-06-23T23:54:39Z",
        "last_seen": "2026-02-09T15:06:39.797000Z"
      },
      "rationale": "No supporting excerpts found.",
      "alternatives_rejected": "No supporting excerpts found.",
      "primary_citation_count": 32,
      "supplemental_citation_count": 5,
      "session_count": 11,
      "citations": [
        {
          "evidence_id": "O28371",
          "source_obs_ids": [
            28371
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T15:06:39.797Z",
          "session_id": "669ecadb-8086-47e4-ad1f-2aff39253d69",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Bloom Injection Refactored to Palette-Driven Color System Replaced HSV color summation with direct palette sampling, mapping 12 chroma bins to palette positions for dynamic color vocabulary The Bloom injection computation was completely refactored from HSV-based color summation to a palette-driven system.",
          "excerpt_chars": 306,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28358",
          "source_obs_ids": [
            28358
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T14:56:27.180Z",
          "session_id": "669ecadb-8086-47e4-ad1f-2aff39253d69",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "User Requests Prism Opacity Uncapping and Palette-Based Color System Two enhancement requests: remove 1.0 prism opacity cap for extreme ghosting effects, replace HSV with palette-driven color User provided feedback on Bloom parity implementation, confirming the prism effect's ghost layering behavior works as designed\u2026",
          "excerpt_chars": 319,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27650",
          "source_obs_ids": [
            27650
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T19:21:41.689Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Centre-Origin Architecture Documentation and Phase Convention Found Documentation establishes outward motion convention sin(k*dist - phase) and inward sin(k*dist + phase) with Audio_Reactive_Motion_Phase_Analysis.md cataloging 45+ outward effects and 8 inward effects.",
          "excerpt_chars": 268,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27577",
          "source_obs_ids": [
            27577
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T18:51:28.049Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "LightwaveOS Architecture Fundamentals and Critical Design Invariants Examined architecture quick reference documenting centre-origin rendering requirement, no-malloc constraint, defensive bounds checking pattern, and 120 FPS performance targets.",
          "excerpt_chars": 245,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27553",
          "source_obs_ids": [
            27553
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T18:44:07.505Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "FastLED Optimization Utilities for Fixed-Point Math and Timing Functions Wrapper functions provide normalized float results from sin16/cos16, saturating arithmetic, BPM-driven oscillators, and hue wrapping compliance.",
          "excerpt_chars": 217,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": []
        },
        {
          "evidence_id": "O27163",
          "source_obs_ids": [
            27163
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T10:02:42.189Z",
          "session_id": "f3ff038f-9d06-4165-99cb-b3bf8c4ef2f7",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Engineering Audit Identifies Critical Performance and Visual Quality Issues in Liquid Glass Implementation Expert review flagged GrainOverlay performance trap, GlowStack toy aesthetic risk, AnyView type-erasure overhead, and token enforcement gaps requiring immediate fixes.",
          "excerpt_chars": 274,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": []
        },
        {
          "evidence_id": "O26893",
          "source_obs_ids": [
            26893
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T16:54:03.496Z",
          "session_id": "f3ff038f-9d06-4165-99cb-b3bf8c4ef2f7",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "LightwaveOS iOS v2.5 \"Liquid Glass\" Visual System Architecture Comprehensive optical rendering engine specification for premium dark-mode SwiftUI components with deterministic multi-layer glass effects.",
          "excerpt_chars": 202,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX",
            "UI/UX"
          ]
        },
        {
          "evidence_id": "S26374-26375-26376-26377",
          "source_obs_ids": [
            26374,
            26375,
            26376,
            26377,
            26382
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T12:10:33.595Z",
          "session_id": "f3ff038f-9d06-4165-99cb-b3bf8c4ef2f7",
          "source_tier": "primary",
          "stitched": true,
          "excerpt": "PSRAM Diagnostic Code Exists But Is Conditionally Compiled [] PSRAM Hardware Requirement Added to README.md Prerequisites README.md now explicitly requires ESP32-S3 N16R8 variant with 8MB PSRAM as hardware prerequisite for building firmware.",
          "excerpt_chars": 241,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": []
        },
        {
          "evidence_id": "O26305",
          "source_obs_ids": [
            26305
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T08:43:18.619Z",
          "session_id": "83352572-8ddc-428c-a07c-67179fdb2b62",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "SwiftUI Implementation Strategy for Liquid Glass Visual System Engineering brief defines production-ready SwiftUI component library with 8-layer optical stack architecture and strict visual constraints.",
          "excerpt_chars": 202,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": []
        },
        {
          "evidence_id": "O12156",
          "source_obs_ids": [
            12156
          ],
          "project": "v2",
          "timestamp": "2026-01-06T22:42:54.746Z",
          "session_id": "1bf93c26-66d1-48f5-8dd5-f0543d729894",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "LightwaveOS Repository CLAUDE.md Agent Protocol Documentation Comprehensive AI-assisted development framework with mandatory agent selection protocol, 28 specialized skills, and 10 specialist agents The LightwaveOS repository implements a sophisticated AI-assisted development framework through CLAUDE.md protocol versi\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": []
        }
      ],
      "origin": "theme",
      "theme_id": "decision_no_rainbow"
    },
    {
      "decision_id": "decision_015",
      "statement": "LED silicon choice and dual-channel brightness caps are locked for current HW.",
      "type": "decision",
      "status": "current",
      "confidence": "high",
      "date_range": {
        "first_seen": "2025-10-05T21:55:54.785000Z",
        "last_seen": "2026-02-07T18:52:26.628000Z"
      },
      "rationale": "No supporting excerpts found.",
      "alternatives_rejected": "No supporting excerpts found.",
      "primary_citation_count": 30,
      "supplemental_citation_count": 7,
      "session_count": 17,
      "citations": [
        {
          "evidence_id": "O27579",
          "source_obs_ids": [
            27579
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T18:52:26.628Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "RGBIC LED Color Theory Specialist Research - Gamut, Gamma, and Power Considerations WS2812 LEDs produce bluish white at (255,255,255), require gamma 2.2-2.5 correction, consume 60mA per LED at full white creating 96W total load for 320 LEDs.",
          "excerpt_chars": 241,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER"
          ]
        },
        {
          "evidence_id": "O27577",
          "source_obs_ids": [
            27577
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T18:51:28.049Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "LightwaveOS Architecture Fundamentals and Critical Design Invariants Examined architecture quick reference documenting centre-origin rendering requirement, no-malloc constraint, defensive bounds checking pattern, and 120 FPS performance targets.",
          "excerpt_chars": 245,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27565",
          "source_obs_ids": [
            27565
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T18:47:54.030Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "FastLED Power Management and Hardware Initialization Architecture Examined FastLED driver initialization revealing setMaxPowerInVoltsAndMilliamps power limiting and dual-strip addLeds configuration across ESP32-S3 and ESP32-P4 platforms.",
          "excerpt_chars": 237,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER"
          ]
        },
        {
          "evidence_id": "O27564",
          "source_obs_ids": [
            27564
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T18:47:51.083Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "System Constraints Document - Performance, Memory, and Power Budgets [\"Frame budget is 8.33ms for 120 FPS with effect calculation limited to 2ms max (typical 1.2ms) before FastLED.show() consumes 2.5ms\",\"ESP32-S3 has 320KB SRAM with 280KB available after boot; LED buffer is 960 bytes (320 LEDs \u00d7 3 RGB), transition buf\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27561",
          "source_obs_ids": [
            27561
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T18:46:37.937Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "RendererActor 120 FPS LED Rendering Architecture on Core 1 Deterministic LED buffer management with 8333\u03bcs frame budget, exclusive buffer ownership, and post-processing pipeline integration.",
          "excerpt_chars": 190,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27559",
          "source_obs_ids": [
            27559
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T18:45:55.490Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "FastLED Hardware Abstraction Layer and Dual-Strip Buffer Architecture Examined FastLedDriver HAL providing unified 320-LED buffer mapped to dual physical WS2812 strips with thread-safe FreeRTOS mutex and performance tracking.",
          "excerpt_chars": 225,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER"
          ]
        },
        {
          "evidence_id": "O27544",
          "source_obs_ids": [
            27544
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T18:42:26.268Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "System Constraints and Performance Budget for Effect Development Examined hard limits including 2ms effect calculation budget, 120 FPS target, centre-origin rendering requirement, and power safety constraints.",
          "excerpt_chars": 209,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O26974",
          "source_obs_ids": [
            26974
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T16:55:00.377Z",
          "session_id": "83352572-8ddc-428c-a07c-67179fdb2b62",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "RendererActor is 770-line core visual engine running at 120 FPS on dedicated core with audio sync Actor owns LED buffer exclusively, executes effects on Core 1 at highest priority, integrates zones, transitions, color correction, and audio-reactive rendering.",
          "excerpt_chars": 259,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O26000",
          "source_obs_ids": [
            26000
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-05T22:50:57.623Z",
          "session_id": "402f25ca-9bb8-4560-9985-6d6c69e85d51",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "WLED Open-Source LED Controller Interface Design Patterns ESP32/ESP8266 webserver implementation with modern UI featuring segment-based control, color wheels, 100+ effects, preset/playlist system, and multi-platform access WLED represents the open-source community-driven approach to LED control, achieving remarkable f\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "RENDER/FX",
            "UI/UX"
          ]
        },
        {
          "evidence_id": "O24647",
          "source_obs_ids": [
            24647
          ],
          "project": "lightwave-controller",
          "timestamp": "2026-02-01T00:35:37.944Z",
          "session_id": "5328d46c-ccae-4c0e-9537-a30237e73a0a",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "LightwaveOS API v1 Documentation Defines Complete REST and WebSocket Interface Comprehensive API reference covering 47 effects, multi-zone composition, transitions, batch operations, and CENTER ORIGIN constraint for dual 160-LED strips The api-v1.md documentation provides exhaustive REST and WebSocket API reference fo\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "RENDER/FX",
            "CONTROL/NETWORK"
          ]
        }
      ],
      "origin": "theme",
      "theme_id": "decision_led_topology_constraints"
    },
    {
      "decision_id": "decision_005",
      "statement": "Render-path heap allocation is prohibited in favour of static buffers.",
      "type": "decision",
      "status": "current",
      "confidence": "high",
      "date_range": {
        "first_seen": "2025-10-05T21:55:54.785000Z",
        "last_seen": "2026-02-07T19:20:47.595000Z"
      },
      "rationale": "No supporting excerpts found.",
      "alternatives_rejected": "No supporting excerpts found.",
      "primary_citation_count": 26,
      "supplemental_citation_count": 7,
      "session_count": 16,
      "citations": [
        {
          "evidence_id": "O27641",
          "source_obs_ids": [
            27641
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T19:20:47.595Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "System Architecture Constraints Drive Beat Pulse Simplicity Requirements Watchdog timeout risk, 2ms render budget, memory limits, and multi-stage pipeline necessitate minimal effect complexity for stability ESP32 watchdog timer management emerges as critical system stability constraint requiring aggressive prevention\u2026",
          "excerpt_chars": 319,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27564",
          "source_obs_ids": [
            27564
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T18:47:51.083Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "System Constraints Document - Performance, Memory, and Power Budgets [\"Frame budget is 8.33ms for 120 FPS with effect calculation limited to 2ms max (typical 1.2ms) before FastLED.show() consumes 2.5ms\",\"ESP32-S3 has 320KB SRAM with 280KB available after boot; LED buffer is 960 bytes (320 LEDs \u00d7 3 RGB), transition buf\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27544",
          "source_obs_ids": [
            27544
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T18:42:26.268Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "System Constraints and Performance Budget for Effect Development Examined hard limits including 2ms effect calculation budget, 120 FPS target, centre-origin rendering requirement, and power safety constraints.",
          "excerpt_chars": 209,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O26771",
          "source_obs_ids": [
            26771
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T16:12:08.751Z",
          "session_id": "f3ff038f-9d06-4165-99cb-b3bf8c4ef2f7",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "WsOtaCommands Base64 Decode Buffer Malloc Confirmed - Uncapped Dynamic Allocation handleOtaChunk line 613 allocates decode buffer using malloc from internal SRAM with size based on base64 input length without explicit cap Reading WsOtaCommands.cpp lines 590-670 confirmed the base64 decode buffer allocation pattern ide\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O26764",
          "source_obs_ids": [
            26764
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T16:08:24.778Z",
          "session_id": "f3ff038f-9d06-4165-99cb-b3bf8c4ef2f7",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "WebSocket Callback Stack Pressure Implementation Plan Created Comprehensive plan addresses 4672 bytes total stack savings across WsEffectsCommands and WsGateway with exact code replacements.",
          "excerpt_chars": 190,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX",
            "CONTROL/NETWORK"
          ]
        },
        {
          "evidence_id": "O26760",
          "source_obs_ids": [
            26760
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T16:07:22.000Z",
          "session_id": "f3ff038f-9d06-4165-99cb-b3bf8c4ef2f7",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Implementation Plan Created for StaticAssetRoutes Stack Overflow Fix Plan analyzes 3KB stack allocation issue and proposes static buffer solution with thread safety considerations.",
          "excerpt_chars": 180,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": []
        },
        {
          "evidence_id": "O26750",
          "source_obs_ids": [
            26750
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T16:03:20.058Z",
          "session_id": "f3ff038f-9d06-4165-99cb-b3bf8c4ef2f7",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "AudioBenchmarkRing Lock-Free Ring Buffer - 2KB Fixed Array for Cross-Core Sample Transfer Lock-free SPSC ring buffer uses atomic operations and fixed 64-sample array totaling 2KB for safe cross-core benchmark data transfer without mutexes Reading AudioBenchmarkRing.h revealed another excellent example of fixed-size, l\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP"
          ]
        },
        {
          "evidence_id": "O26749",
          "source_obs_ids": [
            26749
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T16:02:52.360Z",
          "session_id": "f3ff038f-9d06-4165-99cb-b3bf8c4ef2f7",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "LGPCrystallineGrowthEffect Fixed Crystal Arrays - Zero Dynamic Allocation in Render Path Effect implementation uses compile-time sized arrays for 10 crystal states totaling 30 bytes avoiding per-frame allocations during rendering Reading LGPCrystallineGrowthEffect.cpp demonstrated the render-path zero-allocation princ\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O26743",
          "source_obs_ids": [
            26743
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T16:00:42.841Z",
          "session_id": "f3ff038f-9d06-4165-99cb-b3bf8c4ef2f7",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Memory Allocation Documentation - Comprehensive Component Budget Guidelines MEMORY_ALLOCATION.md documents internal SRAM vs PSRAM usage rules with component-specific budgets and allocation patterns [\"Documentation shows FreeRTOS task stacks totaling ~96KB in internal SRAM across all actors\",\"WiFi/lwIP buffers document\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O23418",
          "source_obs_ids": [
            23418
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-01-30T01:48:33.036Z",
          "session_id": "ca55311f-8596-49e1-afc3-99ba576e2000",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "DeviceRegistry Header Defines Multi-Device Interface with WiFi-Disabled Stub DeviceRegistry.h provides 396-line interface for 8-device management with DeviceInfo struct, thread-safe API, and complete no-op stub for WiFi-disabled builds.",
          "excerpt_chars": 236,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "CONTROL/NETWORK"
          ]
        }
      ],
      "origin": "theme",
      "theme_id": "decision_no_heap_render"
    },
    {
      "decision_id": "decision_003",
      "statement": "PSRAM-enabled builds are required to avoid runtime memory failures.",
      "type": "decision",
      "status": "current",
      "confidence": "high",
      "date_range": {
        "first_seen": "2025-10-16T15:19:24.418000Z",
        "last_seen": "2026-02-07T19:20:47.595000Z"
      },
      "rationale": "No supporting excerpts found.",
      "alternatives_rejected": "No supporting excerpts found.",
      "primary_citation_count": 25,
      "supplemental_citation_count": 2,
      "session_count": 7,
      "citations": [
        {
          "evidence_id": "O27641",
          "source_obs_ids": [
            27641
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T19:20:47.595Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "System Architecture Constraints Drive Beat Pulse Simplicity Requirements Watchdog timeout risk, 2ms render budget, memory limits, and multi-stage pipeline necessitate minimal effect complexity for stability ESP32 watchdog timer management emerges as critical system stability constraint requiring aggressive prevention\u2026",
          "excerpt_chars": 319,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O26767",
          "source_obs_ids": [
            26767
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T16:09:22.349Z",
          "session_id": "f3ff038f-9d06-4165-99cb-b3bf8c4ef2f7",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Frame Capture Deferred Allocation Analysis Complete - Not a Significant Problem Subagent analysis concluded 2.9KB PSRAM allocation for debug capture is acceptable design with proper failure handling already in place The PRIMARY session dispatched a specialized subagent task to analyze the frame capture \"deferred alloc\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": []
        },
        {
          "evidence_id": "O26531",
          "source_obs_ids": [
            26531
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T14:38:25.184Z",
          "session_id": "f3ff038f-9d06-4165-99cb-b3bf8c4ef2f7",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Complete platformio.ini Configuration Reveals Missing PSRAM Initialization in Default Environment Full 536-line build configuration confirms esp32dev_audio lacks board_build.psram_type = opi while other environments correctly configure PSRAM PRIMARY session read complete platformio.ini (536 lines) confirming the root\u2026",
          "excerpt_chars": 319,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP"
          ]
        },
        {
          "evidence_id": "O26517",
          "source_obs_ids": [
            26517
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T14:34:00.004Z",
          "session_id": "f3ff038f-9d06-4165-99cb-b3bf8c4ef2f7",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Historical Memory Investigation Documentation Retrieved from Claude-Mem Five key observations from January 30 session reveal previous PSRAM misconfiguration analysis and internal SRAM exhaustion diagnosis PRIMARY session retrieved five historical observations from Claude-Mem spanning January 30 to February 6, revealin\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": []
        },
        {
          "evidence_id": "O26496",
          "source_obs_ids": [
            26496
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T12:53:08.213Z",
          "session_id": "f3ff038f-9d06-4165-99cb-b3bf8c4ef2f7",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "PSRAM Hardware Initialization Fix Applied to platformio.ini Added missing board_build.psram_type = opi configuration line to enable 8MB PSRAM on ESP32-S3 hardware The ESP32-S3 firmware was crashing during WiFi initialization due to memory exhaustion in internal SRAM.",
          "excerpt_chars": 267,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": []
        },
        {
          "evidence_id": "S26374-26375-26376-26377",
          "source_obs_ids": [
            26374,
            26375,
            26376,
            26377,
            26382
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T12:10:33.595Z",
          "session_id": "f3ff038f-9d06-4165-99cb-b3bf8c4ef2f7",
          "source_tier": "primary",
          "stitched": true,
          "excerpt": "PSRAM Diagnostic Code Exists But Is Conditionally Compiled [] PSRAM Hardware Requirement Added to README.md Prerequisites README.md now explicitly requires ESP32-S3 N16R8 variant with 8MB PSRAM as hardware prerequisite for building firmware.",
          "excerpt_chars": 241,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": []
        },
        {
          "evidence_id": "O26375",
          "source_obs_ids": [
            26375
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T12:10:29.055Z",
          "session_id": "f3ff038f-9d06-4165-99cb-b3bf8c4ef2f7",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "PSRAM Hardware Requirement Added to README.md Prerequisites README.md now explicitly requires ESP32-S3 N16R8 variant with 8MB PSRAM as hardware prerequisite for building firmware.",
          "excerpt_chars": 179,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": []
        },
        {
          "evidence_id": "S26372-26373-26374-26375",
          "source_obs_ids": [
            26372,
            26373,
            26374,
            26375,
            26376
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T12:10:22.922Z",
          "session_id": "f3ff038f-9d06-4165-99cb-b3bf8c4ef2f7",
          "source_tier": "primary",
          "stitched": true,
          "excerpt": "Historical Fix: PSRAM Buffer Move Commit (d2acf781) - Evidence of Known Memory Issues [] PSRAM Mandatory Constraint Added to AGENTS.md Documentation now explicitly requires PSRAM enabled for all builds with technical justification and failure mode description.",
          "excerpt_chars": 260,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": []
        },
        {
          "evidence_id": "O26373",
          "source_obs_ids": [
            26373
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T12:10:13.068Z",
          "session_id": "f3ff038f-9d06-4165-99cb-b3bf8c4ef2f7",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "PSRAM Mandatory Constraint Added to AGENTS.md Documentation now explicitly requires PSRAM enabled for all builds with technical justification and failure mode description.",
          "excerpt_chars": 171,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": []
        },
        {
          "evidence_id": "S26369-26371-26372-26373",
          "source_obs_ids": [
            26369,
            26371,
            26372,
            26373,
            26374
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T12:10:03.438Z",
          "session_id": "f3ff038f-9d06-4165-99cb-b3bf8c4ef2f7",
          "source_tier": "primary",
          "stitched": true,
          "excerpt": "FreeRTOS Queue Allocations Contributing to Internal SRAM Usage [] PSRAM Mandatory for All Build Environments Project now requires PSRAM configuration for all ESP32-S3 builds due to memory requirements exceeding internal SRAM capacity.",
          "excerpt_chars": 234,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": []
        }
      ],
      "origin": "theme",
      "theme_id": "decision_psram_required"
    },
    {
      "decision_id": "decision_013",
      "statement": "System limits are maintained via single-source constants with validation checks.",
      "type": "decision",
      "status": "current",
      "confidence": "high",
      "date_range": {
        "first_seen": "2026-01-28T05:17:25.852000Z",
        "last_seen": "2026-02-08T21:43:02.979000Z"
      },
      "rationale": "No supporting excerpts found.",
      "alternatives_rejected": "No supporting excerpts found.",
      "primary_citation_count": 19,
      "supplemental_citation_count": 1,
      "session_count": 6,
      "citations": [
        {
          "evidence_id": "O28238",
          "source_obs_ids": [
            28238
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T21:43:02.979Z",
          "session_id": "33d05f53-bb8a-4af0-a123-c3db740ce647",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Effect Registration Ends at ID 122 with Validation Registration sequence concludes with Kuramoto Transport at ID 122 followed by count validation against limits::MAX_EFFECTS The effect registration concludes with Kuramoto Transport at ID 122, followed by validation logic that compares the actual registration count aga\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28028",
          "source_obs_ids": [
            28028
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T13:22:31.323Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "BeatPulseBloomEffect registration verification Grep confirms BeatPulseBloomEffect properly integrated into CoreEffects registration system at effect ID 121 Grep verification confirms BeatPulseBloomEffect properly integrated into effect registration system.",
          "excerpt_chars": 256,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27933",
          "source_obs_ids": [
            27933
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T11:56:02.004Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "MAX_EFFECTS Single Source of Truth Architecture with Compile-Time Validation Effect count limit (121) defined once in config/limits.h and validated across 15+ subsystems via static assertions and bounds checking The grep search reveals LightwaveOS implements rigorous **single source of truth** architecture for the eff\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27668",
          "source_obs_ids": [
            27668
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T19:28:35.094Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "System Limits Configuration Single Source of Truth limits.h defines MAX_EFFECTS=120, MAX_PALETTES=75, MAX_ZONES=8 as centralized constants with static assertion enforcement preventing component drift.",
          "excerpt_chars": 200,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27249",
          "source_obs_ids": [
            27249
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T10:50:28.604Z",
          "session_id": "3f16b4b8-d3a3-47c3-9f60-11bc4d22cb97",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "PluginManagerActor.h adds compile-time validation enforcing plugin buffer capacity Static assert added to PluginConfig ensuring MAX_EFFECTS buffer accommodates all registered effects from limits.h.",
          "excerpt_chars": 197,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27248",
          "source_obs_ids": [
            27248
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T10:50:14.104Z",
          "session_id": "3f16b4b8-d3a3-47c3-9f60-11bc4d22cb97",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "PluginManagerActor.h adds limits.h include for potential static assert Plugin manager header imports centralized limits preparing for compile-time validation enforcement.",
          "excerpt_chars": 170,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": []
        },
        {
          "evidence_id": "O27246",
          "source_obs_ids": [
            27246
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T10:49:49.622Z",
          "session_id": "3f16b4b8-d3a3-47c3-9f60-11bc4d22cb97",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "BuiltinEffectRegistry implements compile-time validation with detailed error message Static assert at line 32-33 enforces plugin buffer must accommodate all effects from limits.h.",
          "excerpt_chars": 179,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27245",
          "source_obs_ids": [
            27245
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T10:49:36.871Z",
          "session_id": "3f16b4b8-d3a3-47c3-9f60-11bc4d22cb97",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "BuiltinEffectRegistry.h contains compile-time assertion enforcing buffer headroom Static assert validates plugin system MAX_EFFECTS (128) is greater than or equal to limits::MAX_EFFECTS (113).",
          "excerpt_chars": 192,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27225",
          "source_obs_ids": [
            27225
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T10:45:15.665Z",
          "session_id": "3f16b4b8-d3a3-47c3-9f60-11bc4d22cb97",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Single source of truth limits.h created to prevent effect count drift Centralized header defines MAX_EFFECTS = 113 with comprehensive documentation and compile-time enforcement strategy.",
          "excerpt_chars": 186,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27220",
          "source_obs_ids": [
            27220
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T10:43:52.466Z",
          "session_id": "0c54afa3-962d-4177-92f2-611596e6d0d7",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "BuiltinEffectRegistry.h Updated with Static Assert Enforcing Capacity Constraint Added compile-time assertion ensuring BuiltinEffectRegistry MAX_EFFECTS (128) >= limits::MAX_EFFECTS preventing capacity underflow.",
          "excerpt_chars": 212,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        }
      ],
      "origin": "theme",
      "theme_id": "decision_limits_single_source"
    },
    {
      "decision_id": "decision_009",
      "statement": "Actor boundaries and explicit state ownership are the primary concurrency model.",
      "type": "decision",
      "status": "current",
      "confidence": "high",
      "date_range": {
        "first_seen": "2025-10-10T11:00:26.531000Z",
        "last_seen": "2026-02-06T17:34:26.610000Z"
      },
      "rationale": "No supporting excerpts found.",
      "alternatives_rejected": "No supporting excerpts found.",
      "primary_citation_count": 13,
      "supplemental_citation_count": 0,
      "session_count": 11,
      "citations": [
        {
          "evidence_id": "O27133",
          "source_obs_ids": [
            27133
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T17:34:26.610Z",
          "session_id": "f3ff038f-9d06-4165-99cb-b3bf8c4ef2f7",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "ConnectionManager Implements Actor-Based Connection State Machine with Swift 6 Strict Concurrency Actor-isolated connection management with 7 connection states, delegate pattern for ready state, and async event stream consumption.",
          "excerpt_chars": 230,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O26087",
          "source_obs_ids": [
            26087
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-05T23:04:35.088Z",
          "session_id": "402f25ca-9bb8-4560-9985-6d6c69e85d51",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "ZoneViewModel State Management Implementation @Observable ViewModel with 150ms debouncing, optimistic updates, WebSocket-preferred networking, centre-origin symmetric boundary calculations, and pending state tracking for echo prevention The ZoneViewModel implementation reveals sophisticated state management patterns a\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX",
            "CONTROL/NETWORK"
          ]
        },
        {
          "evidence_id": "O24122",
          "source_obs_ids": [
            24122
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-01-31T14:46:15.037Z",
          "session_id": "4148d590-a4e8-4429-a57c-dc4750f73741",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "WebServer.cpp shows firmware v2 architecture with Actor System integration Firmware implements REST and WebSocket APIs with NodeOrchestrator for thread-safe state management.",
          "excerpt_chars": 174,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "CONTROL/NETWORK"
          ]
        },
        {
          "evidence_id": "O23265",
          "source_obs_ids": [
            23265
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-01-30T00:37:56.269Z",
          "session_id": "ca55311f-8596-49e1-afc3-99ba576e2000",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "ActorSystem orchestrates lifecycle management for renderer, show director, and audio actors Singleton coordinator creates actors in dependency order with RendererActor first, then ShowDirectorActor and AudioActor.",
          "excerpt_chars": 213,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O12313",
          "source_obs_ids": [
            12313
          ],
          "project": "v2",
          "timestamp": "2026-01-07T22:31:45.792Z",
          "session_id": "5aa19d7f-c4ac-4a36-a587-e254d53325c2",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "WebServer Architecture and Subscription Infrastructure Examined complete WebServer class showing actor system integration, subscription management, and cached state patterns for thread-safe operation.",
          "excerpt_chars": 200,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O12261",
          "source_obs_ids": [
            12261
          ],
          "project": "v2",
          "timestamp": "2026-01-07T22:12:29.408Z",
          "session_id": "5aa19d7f-c4ac-4a36-a587-e254d53325c2",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "WebServer.cpp Architecture and Component Integration WebServer implements REST API and WebSocket server with modular handlers, broadcasters, and thread-safe renderer state caching.",
          "excerpt_chars": 180,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX",
            "CONTROL/NETWORK"
          ]
        },
        {
          "evidence_id": "O10766",
          "source_obs_ids": [
            10766
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-01-02T14:11:44.802Z",
          "session_id": "b2fd26dd-7767-4256-8528-a7ff31ee0f5b",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Tab5.encoder firmware regression identified - dual encoder test code replaced production architecture Main.cpp reverted to hardware test harness, bypassing EncoderService abstraction layer and leaving new modular code unintegrated.",
          "excerpt_chars": 231,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "UI/UX"
          ]
        },
        {
          "evidence_id": "O6730",
          "source_obs_ids": [
            6730
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2025-12-29T06:13:47.837Z",
          "session_id": "4c464bef-e749-4a3f-84c3-bc9dc1928f8f",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "RendererActor Saturation Mutation Point Single write location for saturation state in handleSetSaturation message handler The search for saturation write operations reveals the Actor pattern's disciplined state management.",
          "excerpt_chars": 222,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O3844",
          "source_obs_ids": [
            3844
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2025-12-27T07:08:03.863Z",
          "session_id": "9c4d14d4-502d-47e6-87c4-10abc0aa8798",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "ActorSystem Singleton Orchestration and Lifecycle Management Manages actor creation, startup ordering, and provides centralized access to RendererActor and ShowDirectorActor The ActorSystem is the central orchestrator that provides WebServer with access to actors via getRenderer().",
          "excerpt_chars": 282,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O1661",
          "source_obs_ids": [
            1661
          ],
          "project": "v2",
          "timestamp": "2025-12-21T11:31:59.124Z",
          "session_id": "a819e442-68f9-49f5-88f1-45dd71614aa0",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "WebServer Architecture and API Structure WebServer provides dual REST APIs (legacy + v1) and WebSocket with actor-based thread-safe state management.",
          "excerpt_chars": 149,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "CONTROL/NETWORK"
          ]
        }
      ],
      "origin": "theme",
      "theme_id": "decision_actor_state_ownership"
    }
  ],
  "included_decisions": [
    {
      "decision_id": "decision_017",
      "statement": "Control plane choices keep AP/STA, IP-first discovery, and portable-mode recoveries deterministic.",
      "type": "decision",
      "status": "contested",
      "confidence": "high",
      "date_range": {
        "first_seen": "2025-10-06T09:46:33.868000Z",
        "last_seen": "2026-02-09T15:08:19.742000Z"
      },
      "rationale": "No supporting excerpts found.",
      "alternatives_rejected": "No supporting excerpts found.",
      "primary_citation_count": 842,
      "supplemental_citation_count": 132,
      "session_count": 124,
      "citations": [
        {
          "evidence_id": "O28376",
          "source_obs_ids": [
            28376
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T15:08:19.742Z",
          "session_id": "d4a7bce4-fb66-4f17-86c2-4148009186b8",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "RendererActor logs audio pipeline health check every 2 seconds RendererActor.cpp logs audio frame sequence, RMS, flux, and ES backend metrics at 2-second intervals.",
          "excerpt_chars": 164,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28339",
          "source_obs_ids": [
            28339
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T14:35:25.424Z",
          "session_id": "d4a7bce4-fb66-4f17-86c2-4148009186b8",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Firmware implements clock spine render timing diagnostics with 2-second logging intervals RendererActor.cpp tracks audio frame age, render intervals, and beat clock integration with detailed performance metrics.",
          "excerpt_chars": 211,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28327",
          "source_obs_ids": [
            28327
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T14:31:03.742Z",
          "session_id": "d4a7bce4-fb66-4f17-86c2-4148009186b8",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Firmware stream subscription handling via WebSocket commands Firmware uses WS commands audio.subscribe and ledStream.subscribe with UDP port negotiation or WS fallback.",
          "excerpt_chars": 168,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "CONTROL/NETWORK"
          ]
        },
        {
          "evidence_id": "O28326",
          "source_obs_ids": [
            28326
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T14:30:47.110Z",
          "session_id": "d4a7bce4-fb66-4f17-86c2-4148009186b8",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "ConnectionManager WebSocket event stream has single consumer architecture AppViewModel is sole consumer of WebSocket events; must call notifyWebSocketDisconnected() to trigger reconnection.",
          "excerpt_chars": 189,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "CONTROL/NETWORK"
          ]
        },
        {
          "evidence_id": "O28313",
          "source_obs_ids": [
            28313
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T07:42:20.815Z",
          "session_id": "d4a7bce4-fb66-4f17-86c2-4148009186b8",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Firmware LED stream broadcaster implements aggressive back-pressure limiting WebSocket frames dropped when queue exceeds 1 pending message to prevent heap exhaustion.",
          "excerpt_chars": 166,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "CONTROL/NETWORK"
          ]
        },
        {
          "evidence_id": "O28272",
          "source_obs_ids": [
            28272
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T07:28:26.628Z",
          "session_id": "d4a7bce4-fb66-4f17-86c2-4148009186b8",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "WebSocket connection stability regression after zone preset refactor Connection drops immediately after REST calls despite delays, but REST operations still function.",
          "excerpt_chars": 166,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "CONTROL/NETWORK",
            "UI/UX"
          ]
        },
        {
          "evidence_id": "O28228",
          "source_obs_ids": [
            28228
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T21:40:37.612Z",
          "session_id": "33d05f53-bb8a-4af0-a123-c3db740ce647",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Bloom Parity Effect Complete Implementation Full implementation of Sensory Bridge Bloom transport with exact pipeline ordering and subpixel advection mechanics The BloomParityEffect.cpp provides complete implementation of Sensory Bridge's Bloom visual mode transport system.",
          "excerpt_chars": 274,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28120",
          "source_obs_ids": [
            28120
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T14:56:40.299Z",
          "session_id": "dfdba9aa-ffa6-4c82-9db5-bf3d8af7a43f",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Architected Complete Oscillator Field System Integration Pattern Designed three-layer architecture with PSRAM-backed OscillatorField physics engine, abstract OscillatorFieldEffect base, and concrete effect implementations.",
          "excerpt_chars": 222,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28022",
          "source_obs_ids": [
            28022
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T13:21:52.047Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "BeatPulseBloomEffect uses subpixel advection with stateful frame persistence for liquid animation Header documents Effect ID 121 implementing Bloom-style transport via fractional frame advancement and centre injection Examined BeatPulseBloomEffect header revealing distinctive stateful animation approach contrasting wi\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27965",
          "source_obs_ids": [
            27965
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T12:01:55.769Z",
          "session_id": "c3c8a9fc-f4fb-402d-a4ee-5e6742c7343a",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Fixed ESBeatClock Initialization: Anchors Phase to Audio Frame Time Instead of Render Time ESBeatClock initialization now anchors m_lastTickT to latest.t enabling age-based phase advancement from audio-time to render-time Second surgical patch applied to EsBeatClock.cpp addressing the phase anchoring bug in the initia\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        }
      ],
      "origin": "theme",
      "theme_id": "decision_control_plane_portable_mode"
    },
    {
      "decision_id": "decision_006",
      "statement": "Device control contracts use REST for commands and WebSocket for streaming/state.",
      "type": "decision",
      "status": "current",
      "confidence": "high",
      "date_range": {
        "first_seen": "2025-10-05T21:55:54.785000Z",
        "last_seen": "2026-02-09T15:59:51.150000Z"
      },
      "rationale": "No supporting excerpts found.",
      "alternatives_rejected": "No supporting excerpts found.",
      "primary_citation_count": 548,
      "supplemental_citation_count": 74,
      "session_count": 101,
      "citations": [
        {
          "evidence_id": "O28423",
          "source_obs_ids": [
            28423
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T15:59:51.150Z",
          "session_id": "d4a7bce4-fb66-4f17-86c2-4148009186b8",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Firmware implements serial command interface for effect selection via keyboard main.cpp serial handler maps keys a-k to effects 10-20 while reserving command letters for system functions.",
          "excerpt_chars": 187,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28394",
          "source_obs_ids": [
            28394
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T15:21:47.057Z",
          "session_id": "669ecadb-8086-47e4-ad1f-2aff39253d69",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Bloom Injection Switched from Multi-Lookup Summation to Single Centroid-Based Palette Lookup Fixed palette color corruption by computing weighted chroma centroid for single palette lookup instead of summing twelve lookups The Bloom injection color computation was fundamentally restructured to fix palette color corrupt\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX",
            "CONTROL/NETWORK"
          ]
        },
        {
          "evidence_id": "O28376",
          "source_obs_ids": [
            28376
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T15:08:19.742Z",
          "session_id": "d4a7bce4-fb66-4f17-86c2-4148009186b8",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "RendererActor logs audio pipeline health check every 2 seconds RendererActor.cpp logs audio frame sequence, RMS, flux, and ES backend metrics at 2-second intervals.",
          "excerpt_chars": 164,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28338",
          "source_obs_ids": [
            28338
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T14:34:00.302Z",
          "session_id": "d4a7bce4-fb66-4f17-86c2-4148009186b8",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "RendererActor runs at 120 FPS on ESP32 Core 1 with tight frame budget RendererActor implementation shows 8.33ms frame budget with 2-4ms render time and 2ms LED driver overhead.",
          "excerpt_chars": 176,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28327",
          "source_obs_ids": [
            28327
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T14:31:03.742Z",
          "session_id": "d4a7bce4-fb66-4f17-86c2-4148009186b8",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Firmware stream subscription handling via WebSocket commands Firmware uses WS commands audio.subscribe and ledStream.subscribe with UDP port negotiation or WS fallback.",
          "excerpt_chars": 168,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "CONTROL/NETWORK"
          ]
        },
        {
          "evidence_id": "O28313",
          "source_obs_ids": [
            28313
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T07:42:20.815Z",
          "session_id": "d4a7bce4-fb66-4f17-86c2-4148009186b8",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Firmware LED stream broadcaster implements aggressive back-pressure limiting WebSocket frames dropped when queue exceeds 1 pending message to prevent heap exhaustion.",
          "excerpt_chars": 166,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "CONTROL/NETWORK"
          ]
        },
        {
          "evidence_id": "O28272",
          "source_obs_ids": [
            28272
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T07:28:26.628Z",
          "session_id": "d4a7bce4-fb66-4f17-86c2-4148009186b8",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "WebSocket connection stability regression after zone preset refactor Connection drops immediately after REST calls despite delays, but REST operations still function.",
          "excerpt_chars": 166,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "CONTROL/NETWORK",
            "UI/UX"
          ]
        },
        {
          "evidence_id": "O28137",
          "source_obs_ids": [
            28137
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T17:34:17.620Z",
          "session_id": "d4a7bce4-fb66-4f17-86c2-4148009186b8",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "EffectPresetHandlers Fully Implemented with Complete CRUD Operations All effect preset REST endpoints implemented using EffectPresetManager with proper validation and error handling EffectPresetHandlers.cpp reveals fully-implemented REST API handlers for effect presets, contradicting the stubbed PresetHandlers.cpp fou\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX",
            "CONTROL/NETWORK",
            "UI/UX"
          ]
        },
        {
          "evidence_id": "O28136",
          "source_obs_ids": [
            28136
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T17:34:04.290Z",
          "session_id": "d4a7bce4-fb66-4f17-86c2-4148009186b8",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "ZonePresetManager Fully Implemented with NVS Storage Complete zone preset manager with save, load, list, remove and ZoneComposer integration ZonePresetManager header reveals a fully-designed zone preset system matching the capability of EffectPresetManager.",
          "excerpt_chars": 257,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX",
            "UI/UX"
          ]
        },
        {
          "evidence_id": "O27933",
          "source_obs_ids": [
            27933
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T11:56:02.004Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "MAX_EFFECTS Single Source of Truth Architecture with Compile-Time Validation Effect count limit (121) defined once in config/limits.h and validated across 15+ subsystems via static assertions and bounds checking The grep search reveals LightwaveOS implements rigorous **single source of truth** architecture for the eff\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        }
      ],
      "origin": "theme",
      "theme_id": "decision_control_plane_rest_ws"
    },
    {
      "decision_id": "decision_014",
      "statement": "Hardware topology and modularity boundaries separate device, hub, and tooling responsibilities.",
      "type": "decision",
      "status": "contested",
      "confidence": "high",
      "date_range": {
        "first_seen": "2025-10-06T04:05:43.072000Z",
        "last_seen": "2026-02-07T18:49:28.799000Z"
      },
      "rationale": "No supporting excerpts found.",
      "alternatives_rejected": "decided to move all backup/archive directories to an external location rather than delete them, preserving historical references while cleaning the working directory",
      "primary_citation_count": 413,
      "supplemental_citation_count": 69,
      "session_count": 108,
      "citations": [
        {
          "evidence_id": "O27569",
          "source_obs_ids": [
            27569
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T18:49:28.799Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Professional Audio-Visual Synchronization Systems - SMPTE Timecode and DMX Control VJ software uses SMPTE timecode and BPM information for perfect sync; wired audio taps preferred over microphones to minimize latency.",
          "excerpt_chars": 217,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP"
          ]
        },
        {
          "evidence_id": "O27304",
          "source_obs_ids": [
            27304
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T13:39:00.571Z",
          "session_id": "3aa8af33-db01-45f6-b446-6235943e5033",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Comprehensive Stash Analysis Shows No UI Mockup HTML Files in Any Stash All 10 stashes contain only tracked source code files with no docs/ui-mockups HTML files present Comprehensive analysis of all 10 git stashes definitively proves that no UI mockup HTML files from docs/ui-mockups/ were captured in any stash entry.",
          "excerpt_chars": 318,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "UI/UX"
          ]
        },
        {
          "evidence_id": "O27288",
          "source_obs_ids": [
            27288
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T13:34:49.380Z",
          "session_id": "3aa8af33-db01-45f6-b446-6235943e5033",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Recent File Deletion History Reveals Major Cleanup Operations Four major deletion commits removed web UI assets, Tab5 components, lightwave-simple app, and dashboard docs Git deletion history reveals several major cleanup operations that removed deprecated web assets, UI components, and documentation.",
          "excerpt_chars": 302,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "UI/UX"
          ]
        },
        {
          "evidence_id": "O27133",
          "source_obs_ids": [
            27133
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T17:34:26.610Z",
          "session_id": "f3ff038f-9d06-4165-99cb-b3bf8c4ef2f7",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "ConnectionManager Implements Actor-Based Connection State Machine with Swift 6 Strict Concurrency Actor-isolated connection management with 7 connection states, delegate pattern for ready state, and async event stream consumption.",
          "excerpt_chars": 230,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27031",
          "source_obs_ids": [
            27031
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T16:59:46.762Z",
          "session_id": "f3ff038f-9d06-4165-99cb-b3bf8c4ef2f7",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Comprehensive Snapshot Testing and Quality Infrastructure Implementation Plan 174-second planning session produced detailed test architecture with SnapshotTesting integration, token enforcement, accessibility validation, and CI workflows.",
          "excerpt_chars": 238,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": []
        },
        {
          "evidence_id": "O27014",
          "source_obs_ids": [
            27014
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T16:56:43.594Z",
          "session_id": "83352572-8ddc-428c-a07c-67179fdb2b62",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "iOS preset system implementation plan defines complete architecture for effect and zone preset management Specialist agent created comprehensive plan with 8 new files, REST API contract, data models using @Observable pattern, and PresetsView rewrite.",
          "excerpt_chars": 250,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX",
            "CONTROL/NETWORK",
            "UI/UX"
          ]
        },
        {
          "evidence_id": "O26974",
          "source_obs_ids": [
            26974
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T16:55:00.377Z",
          "session_id": "83352572-8ddc-428c-a07c-67179fdb2b62",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "RendererActor is 770-line core visual engine running at 120 FPS on dedicated core with audio sync Actor owns LED buffer exclusively, executes effects on Core 1 at highest priority, integrates zones, transitions, color correction, and audio-reactive rendering.",
          "excerpt_chars": 259,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O26545",
          "source_obs_ids": [
            26545
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T14:43:51.534Z",
          "session_id": "f3ff038f-9d06-4165-99cb-b3bf8c4ef2f7",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "network_config.h Defines WiFi and WebSocket Configuration Constants Network configuration header documents WS_MAX_CLIENTS = 4, 15-second ping interval, 20-second WiFi timeout, and multi-network fallback support PRIMARY session read complete network_config.h (163 lines) revealing WiFi and WebSocket configuration consta\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "CONTROL/NETWORK"
          ]
        },
        {
          "evidence_id": "O26339",
          "source_obs_ids": [
            26339
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T11:48:52.849Z",
          "session_id": "83352572-8ddc-428c-a07c-67179fdb2b62",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "WebServer UDP Streamer Network Recovery Logic WebServer.cpp implements UDP streamer suspension/restart on network state changes with AP mode protection to avoid disrupting AP clients.",
          "excerpt_chars": 183,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "CONTROL/NETWORK"
          ]
        },
        {
          "evidence_id": "O26300",
          "source_obs_ids": [
            26300
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T07:22:30.393Z",
          "session_id": "83352572-8ddc-428c-a07c-67179fdb2b62",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "High-fidelity BPM ring with 12-layer VFX stack and spring physics animation created Advanced component demonstrates production-grade multi-layer rendering with radial masks, conic gradients, backdrop blur, and beat burst effects.",
          "excerpt_chars": 229,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        }
      ],
      "origin": "theme",
      "theme_id": "decision_hardware_modularity"
    },
    {
      "decision_id": "decision_007",
      "statement": "Connectivity strategy keeps AP/STA fallback behaviour for resilience.",
      "type": "decision",
      "status": "current",
      "confidence": "high",
      "date_range": {
        "first_seen": "2025-10-05T21:15:32.413000Z",
        "last_seen": "2026-02-09T14:35:25.424000Z"
      },
      "rationale": "No supporting excerpts found.",
      "alternatives_rejected": "No supporting excerpts found.",
      "primary_citation_count": 393,
      "supplemental_citation_count": 69,
      "session_count": 101,
      "citations": [
        {
          "evidence_id": "O28339",
          "source_obs_ids": [
            28339
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T14:35:25.424Z",
          "session_id": "d4a7bce4-fb66-4f17-86c2-4148009186b8",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Firmware implements clock spine render timing diagnostics with 2-second logging intervals RendererActor.cpp tracks audio frame age, render intervals, and beat clock integration with detailed performance metrics.",
          "excerpt_chars": 211,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28327",
          "source_obs_ids": [
            28327
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T14:31:03.742Z",
          "session_id": "d4a7bce4-fb66-4f17-86c2-4148009186b8",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Firmware stream subscription handling via WebSocket commands Firmware uses WS commands audio.subscribe and ledStream.subscribe with UDP port negotiation or WS fallback.",
          "excerpt_chars": 168,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "CONTROL/NETWORK"
          ]
        },
        {
          "evidence_id": "O28326",
          "source_obs_ids": [
            28326
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T14:30:47.110Z",
          "session_id": "d4a7bce4-fb66-4f17-86c2-4148009186b8",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "ConnectionManager WebSocket event stream has single consumer architecture AppViewModel is sole consumer of WebSocket events; must call notifyWebSocketDisconnected() to trigger reconnection.",
          "excerpt_chars": 189,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "CONTROL/NETWORK"
          ]
        },
        {
          "evidence_id": "O28272",
          "source_obs_ids": [
            28272
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T07:28:26.628Z",
          "session_id": "d4a7bce4-fb66-4f17-86c2-4148009186b8",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "WebSocket connection stability regression after zone preset refactor Connection drops immediately after REST calls despite delays, but REST operations still function.",
          "excerpt_chars": 166,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "CONTROL/NETWORK",
            "UI/UX"
          ]
        },
        {
          "evidence_id": "O28228",
          "source_obs_ids": [
            28228
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T21:40:37.612Z",
          "session_id": "33d05f53-bb8a-4af0-a123-c3db740ce647",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Bloom Parity Effect Complete Implementation Full implementation of Sensory Bridge Bloom transport with exact pipeline ordering and subpixel advection mechanics The BloomParityEffect.cpp provides complete implementation of Sensory Bridge's Bloom visual mode transport system.",
          "excerpt_chars": 274,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28120",
          "source_obs_ids": [
            28120
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T14:56:40.299Z",
          "session_id": "dfdba9aa-ffa6-4c82-9db5-bf3d8af7a43f",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Architected Complete Oscillator Field System Integration Pattern Designed three-layer architecture with PSRAM-backed OscillatorField physics engine, abstract OscillatorFieldEffect base, and concrete effect implementations.",
          "excerpt_chars": 222,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28055",
          "source_obs_ids": [
            28055
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T13:35:32.828Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "LightwaveOS Clock Spine Architecture Validated on Hardware Three-domain timing system running live with EsBeatClock, renderer at 120 FPS, and ES audio backend User observed live hardware telemetry from LightwaveOS firmware showing the clock spine architecture functioning correctly across three timing domains.",
          "excerpt_chars": 310,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28022",
          "source_obs_ids": [
            28022
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T13:21:52.047Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "BeatPulseBloomEffect uses subpixel advection with stateful frame persistence for liquid animation Header documents Effect ID 121 implementing Bloom-style transport via fractional frame advancement and centre injection Examined BeatPulseBloomEffect header revealing distinctive stateful animation approach contrasting wi\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27965",
          "source_obs_ids": [
            27965
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T12:01:55.769Z",
          "session_id": "c3c8a9fc-f4fb-402d-a4ee-5e6742c7343a",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Fixed ESBeatClock Initialization: Anchors Phase to Audio Frame Time Instead of Render Time ESBeatClock initialization now anchors m_lastTickT to latest.t enabling age-based phase advancement from audio-time to render-time Second surgical patch applied to EsBeatClock.cpp addressing the phase anchoring bug in the initia\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27939",
          "source_obs_ids": [
            27939
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T11:57:53.349Z",
          "session_id": "c3c8a9fc-f4fb-402d-a4ee-5e6742c7343a",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "EsBeatClock Phase Integration Architecture Using Sample-Index Timebase Beat clock integrates phase at render cadence by computing sample delta between render_now and m_lastTickT, converting to seconds for phase advancement calculation The primary session examined EsBeatClock.cpp to understand how beat phase tracking i\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        }
      ],
      "origin": "theme",
      "theme_id": "decision_ap_sta_fallback"
    },
    {
      "decision_id": "decision_011",
      "statement": "Zone/segment boundaries are fixed with explicit composer/state contracts.",
      "type": "decision",
      "status": "current",
      "confidence": "high",
      "date_range": {
        "first_seen": "2025-10-16T11:29:27.406000Z",
        "last_seen": "2026-02-09T14:34:00.302000Z"
      },
      "rationale": "No supporting excerpts found.",
      "alternatives_rejected": "No supporting excerpts found.",
      "primary_citation_count": 225,
      "supplemental_citation_count": 10,
      "session_count": 36,
      "citations": [
        {
          "evidence_id": "O28338",
          "source_obs_ids": [
            28338
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T14:34:00.302Z",
          "session_id": "d4a7bce4-fb66-4f17-86c2-4148009186b8",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "RendererActor runs at 120 FPS on ESP32 Core 1 with tight frame budget RendererActor implementation shows 8.33ms frame budget with 2-4ms render time and 2ms LED driver overhead.",
          "excerpt_chars": 176,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28239",
          "source_obs_ids": [
            28239
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T21:43:06.938Z",
          "session_id": "33d05f53-bb8a-4af0-a123-c3db740ce647",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "BeatPulseBloomEffect Design Philosophy Existing Beat Pulse Bloom at ID 121 uses stateful subpixel advection with center injection, distinct from stateless BeatPulse variants BeatPulseBloomEffect at ID 121 already implements a form of bloom transport using subpixel advection - moving the previous frame forward by fract\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28136",
          "source_obs_ids": [
            28136
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T17:34:04.290Z",
          "session_id": "d4a7bce4-fb66-4f17-86c2-4148009186b8",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "ZonePresetManager Fully Implemented with NVS Storage Complete zone preset manager with save, load, list, remove and ZoneComposer integration ZonePresetManager header reveals a fully-designed zone preset system matching the capability of EffectPresetManager.",
          "excerpt_chars": 257,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX",
            "UI/UX"
          ]
        },
        {
          "evidence_id": "O28101",
          "source_obs_ids": [
            28101
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T14:36:04.926Z",
          "session_id": "dfdba9aa-ffa6-4c82-9db5-bf3d8af7a43f",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Root Cause Analysis: Double Brightness Scaling and Missing Parameter Initialization Engineering analysis identifies three critical issues causing BeatPulseBloom to appear flat: brightness squaring, double silence gating, and missing mood/fadeAmount initialization.",
          "excerpt_chars": 264,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28084",
          "source_obs_ids": [
            28084
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T13:59:10.701Z",
          "session_id": "dfdba9aa-ffa6-4c82-9db5-bf3d8af7a43f",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "BeatPulseBloomEffect Header Interface and Design Philosophy Effect interface defines per-zone state management with lazy initialization for ZoneComposer compatibility.",
          "excerpt_chars": 167,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28068",
          "source_obs_ids": [
            28068
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T13:46:48.619Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Global Mode zoneId Handling Fixed in BeatPulseBloomEffect Added explicit 0xFF check treating global non-zone mode as zone 0 preventing out-of-bounds array access in transport state.",
          "excerpt_chars": 181,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28067",
          "source_obs_ids": [
            28067
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T13:46:08.502Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "BeatPulseBloomEffect Debug Output Shows Zone 3 Despite Single-Zone Mode Debug telemetry reporting zone 3 activity when system is not in multi-zone mode, revealing unexpected zone ID behavior User discovered unexpected behavior where BeatPulseBloomEffect debug telemetry reports zone 3 activity despite the system operat\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28022",
          "source_obs_ids": [
            28022
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T13:21:52.047Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "BeatPulseBloomEffect uses subpixel advection with stateful frame persistence for liquid animation Header documents Effect ID 121 implementing Bloom-style transport via fractional frame advancement and centre injection Examined BeatPulseBloomEffect header revealing distinctive stateful animation approach contrasting wi\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27916",
          "source_obs_ids": [
            27916
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T10:29:09.739Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "User requesting core architecture file paths for effect system components Request for IEffect interface, zone/renderer composition, SmoothingEngine, SubpixelRenderer, and effect registry/instantiation logic locations User requested comprehensive file path listing for core effect system architecture components followin\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27713",
          "source_obs_ids": [
            27713
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T21:19:55.535Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Center Point Architecture Uses LEDs 79/80 as Physical Origin Codebase consistently defines center origin at LED indices 79 (CENTER_LEFT) and 80 (CENTER_RIGHT) across all center-origin effects PRIMARY session searched for all references to center point 79 to understand the center-origin architecture before implementing\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "RENDER/FX"
          ]
        }
      ],
      "origin": "theme",
      "theme_id": "decision_zone_boundaries"
    },
    {
      "decision_id": "decision_018",
      "statement": "Storage/persistence decisions lock in LittleFS and recovery paths.",
      "type": "decision",
      "status": "current",
      "confidence": "high",
      "date_range": {
        "first_seen": "2025-10-10T11:00:26.531000Z",
        "last_seen": "2026-02-09T15:21:59.709000Z"
      },
      "rationale": "No supporting excerpts found.",
      "alternatives_rejected": "No supporting excerpts found.",
      "primary_citation_count": 179,
      "supplemental_citation_count": 22,
      "session_count": 84,
      "citations": [
        {
          "evidence_id": "O28395",
          "source_obs_ids": [
            28395
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T15:21:59.709Z",
          "session_id": "669ecadb-8086-47e4-ad1f-2aff39253d69",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Firmware Build Completed with Runtime Parameter Control and Palette-Driven Bloom Successfully compiled esp32dev_audio_esv11 firmware with externalized tunables, palette injection system, and keyboard control infrastructure The firmware build successfully compiled with major architectural changes to the Bloom effect sy\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28136",
          "source_obs_ids": [
            28136
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T17:34:04.290Z",
          "session_id": "d4a7bce4-fb66-4f17-86c2-4148009186b8",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "ZonePresetManager Fully Implemented with NVS Storage Complete zone preset manager with save, load, list, remove and ZoneComposer integration ZonePresetManager header reveals a fully-designed zone preset system matching the capability of EffectPresetManager.",
          "excerpt_chars": 257,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX",
            "UI/UX"
          ]
        },
        {
          "evidence_id": "O27538",
          "source_obs_ids": [
            27538
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T18:40:58.097Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "ESP32-S3 Memory Architecture and Allocation Constraints for LED Effects 320 KB internal SRAM for DMA/WiFi with 8 MB PSRAM for large buffers; critical threshold at 8 KB triggers WiFi crashes.",
          "excerpt_chars": 190,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27199",
          "source_obs_ids": [
            27199
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T10:39:42.696Z",
          "session_id": "0c54afa3-962d-4177-92f2-611596e6d0d7",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "RendererActor Defines Authoritative MAX_EFFECTS = 113 Constant Core rendering actor sets MAX_EFFECTS at 113 matching current effect count, serving as source of truth for effect limits.",
          "excerpt_chars": 184,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27056",
          "source_obs_ids": [
            27056
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T17:04:43.808Z",
          "session_id": "500d7985-4741-46fa-b727-1011beb21be2",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Persistence layer directory search confirms zero preset manager implementations exist in firmware/v2/src/core/persistence/ Glob search returned empty results confirming EffectPresetManager and ZonePresetManager classes completely unimplemented despite architecture specification.",
          "excerpt_chars": 279,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX",
            "UI/UX"
          ]
        },
        {
          "evidence_id": "O27016",
          "source_obs_ids": [
            27016
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T16:56:51.191Z",
          "session_id": "83352572-8ddc-428c-a07c-67179fdb2b62",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Comprehensive preset system architecture planned with dual-layer NVS storage managers Design specifies EffectPresetManager (16 presets, 48 bytes each) and ZonePresetManager (8 presets, 200 bytes each) with CRC32 validation.",
          "excerpt_chars": 223,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX",
            "UI/UX"
          ]
        },
        {
          "evidence_id": "O26986",
          "source_obs_ids": [
            26986
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T16:55:13.154Z",
          "session_id": "83352572-8ddc-428c-a07c-67179fdb2b62",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "PresetManager Class Does Not Exist in Firmware Glob search for PresetManager source files in firmware returned zero results, confirming class is forward-declared but never implemented.",
          "excerpt_chars": 184,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "UI/UX"
          ]
        },
        {
          "evidence_id": "O26913",
          "source_obs_ids": [
            26913
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T16:54:18.015Z",
          "session_id": "83352572-8ddc-428c-a07c-67179fdb2b62",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Firmware Zone Persistence System with Version Migration and 5 Built-in Presets ZoneConfigManager handles NVS storage with CRC32 validation, V1\u2192V2 migration, and presets: Unified, Dual Split, Dual Glow, Dual Pulse, LGP Duo.",
          "excerpt_chars": 222,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "OPTICS/LGP",
            "UI/UX"
          ]
        },
        {
          "evidence_id": "O26875",
          "source_obs_ids": [
            26875
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T16:53:51.074Z",
          "session_id": "83352572-8ddc-428c-a07c-67179fdb2b62",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Zone Configuration Persistence System with 5 Built-in Presets ZoneConfigManager.h defines NVS-based persistence for 4-zone configurations with CRC32 validation, system state storage, and 5 built-in presets.",
          "excerpt_chars": 206,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "UI/UX"
          ]
        },
        {
          "evidence_id": "O26855",
          "source_obs_ids": [
            26855
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T16:53:35.296Z",
          "session_id": "83352572-8ddc-428c-a07c-67179fdb2b62",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Audio Tuning Preset Persistence System Exists in Firmware AudioTuningManager provides NVS-backed persistence for 10 named audio tuning presets with CRC32 validation and thread-safe operations.",
          "excerpt_chars": 192,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "UI/UX"
          ]
        }
      ],
      "origin": "theme",
      "theme_id": "decision_storage_persistence"
    },
    {
      "decision_id": "decision_019",
      "statement": "Palette/preset control decisions are enforced through API handlers with validation.",
      "type": "decision",
      "status": "contested",
      "confidence": "high",
      "date_range": {
        "first_seen": "2025-10-05T21:55:54.785000Z",
        "last_seen": "2026-02-09T15:33:08.292000Z"
      },
      "rationale": "No supporting excerpts found.",
      "alternatives_rejected": "No supporting excerpts found.",
      "primary_citation_count": 160,
      "supplemental_citation_count": 26,
      "session_count": 47,
      "citations": [
        {
          "evidence_id": "O28399",
          "source_obs_ids": [
            28399
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T15:33:08.292Z",
          "session_id": "669ecadb-8086-47e4-ad1f-2aff39253d69",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Refactored Bloom injection to grayscale-only transport, deferring palette mapping to output stage computeInjection() now returns grayscale intensity values, eliminating color corruption by moving palette lookups to final LED output.",
          "excerpt_chars": 232,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28398",
          "source_obs_ids": [
            28398
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T15:31:51.123Z",
          "session_id": "669ecadb-8086-47e4-ad1f-2aff39253d69",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Bloom Mode Injection Algorithm Requires Complete Redesign Current weighted centroid approach still produces oversaturated visuals requiring fundamental rethink of color injection strategy After implementing a weighted centroid voting algorithm to replace the RGB accumulation loop in BloomParityEffect.cpp's computeInje\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28395",
          "source_obs_ids": [
            28395
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T15:21:59.709Z",
          "session_id": "669ecadb-8086-47e4-ad1f-2aff39253d69",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Firmware Build Completed with Runtime Parameter Control and Palette-Driven Bloom Successfully compiled esp32dev_audio_esv11 firmware with externalized tunables, palette injection system, and keyboard control infrastructure The firmware build successfully compiled with major architectural changes to the Bloom effect sy\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28394",
          "source_obs_ids": [
            28394
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T15:21:47.057Z",
          "session_id": "669ecadb-8086-47e4-ad1f-2aff39253d69",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Bloom Injection Switched from Multi-Lookup Summation to Single Centroid-Based Palette Lookup Fixed palette color corruption by computing weighted chroma centroid for single palette lookup instead of summing twelve lookups The Bloom injection color computation was fundamentally restructured to fix palette color corrupt\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX",
            "CONTROL/NETWORK"
          ]
        },
        {
          "evidence_id": "O28371",
          "source_obs_ids": [
            28371
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T15:06:39.797Z",
          "session_id": "669ecadb-8086-47e4-ad1f-2aff39253d69",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Bloom Injection Refactored to Palette-Driven Color System Replaced HSV color summation with direct palette sampling, mapping 12 chroma bins to palette positions for dynamic color vocabulary The Bloom injection computation was completely refactored from HSV-based color summation to a palette-driven system.",
          "excerpt_chars": 306,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28364",
          "source_obs_ids": [
            28364
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T14:58:51.218Z",
          "session_id": "669ecadb-8086-47e4-ad1f-2aff39253d69",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Bloom Injection Switched from HSV to Palette-Driven Color Model Replaced FastLED HSV rainbow wheel with direct palette sampling enabling 75 palettes instead of single chromatic scheme The Bloom injection computation was fundamentally refactored from an HSV-based color model to a palette-driven approach.",
          "excerpt_chars": 304,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28358",
          "source_obs_ids": [
            28358
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T14:56:27.180Z",
          "session_id": "669ecadb-8086-47e4-ad1f-2aff39253d69",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "User Requests Prism Opacity Uncapping and Palette-Based Color System Two enhancement requests: remove 1.0 prism opacity cap for extreme ghosting effects, replace HSV with palette-driven color User provided feedback on Bloom parity implementation, confirming the prism effect's ghost layering behavior works as designed\u2026",
          "excerpt_chars": 319,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28272",
          "source_obs_ids": [
            28272
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T07:28:26.628Z",
          "session_id": "d4a7bce4-fb66-4f17-86c2-4148009186b8",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "WebSocket connection stability regression after zone preset refactor Connection drops immediately after REST calls despite delays, but REST operations still function.",
          "excerpt_chars": 166,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "CONTROL/NETWORK",
            "UI/UX"
          ]
        },
        {
          "evidence_id": "O28238",
          "source_obs_ids": [
            28238
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T21:43:02.979Z",
          "session_id": "33d05f53-bb8a-4af0-a123-c3db740ce647",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Effect Registration Ends at ID 122 with Validation Registration sequence concludes with Kuramoto Transport at ID 122 followed by count validation against limits::MAX_EFFECTS The effect registration concludes with Kuramoto Transport at ID 122, followed by validation logic that compares the actual registration count aga\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28235",
          "source_obs_ids": [
            28235
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T21:42:04.041Z",
          "session_id": "33d05f53-bb8a-4af0-a123-c3db740ce647",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Effect Registration Pattern Using Static Instances CoreEffects.cpp registers effects via static instances with renderer->registerEffect() pattern, ID 98 currently occupied by SnapwaveLinearEffect The effect registration system in CoreEffects.cpp uses a static instance pattern where each effect is declared as a static\u2026",
          "excerpt_chars": 319,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "RENDER/FX"
          ]
        }
      ],
      "origin": "theme",
      "theme_id": "decision_palette_parity"
    },
    {
      "decision_id": "decision_001",
      "statement": "Centre-origin propagation from LEDs 79/80 is locked as a rendering invariant.",
      "type": "decision",
      "status": "current",
      "confidence": "high",
      "date_range": {
        "first_seen": "2025-06-23T23:54:39Z",
        "last_seen": "2026-02-08T21:42:04.041000Z"
      },
      "rationale": "No supporting excerpts found.",
      "alternatives_rejected": "No supporting excerpts found.",
      "primary_citation_count": 145,
      "supplemental_citation_count": 5,
      "session_count": 39,
      "citations": [
        {
          "evidence_id": "O28235",
          "source_obs_ids": [
            28235
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T21:42:04.041Z",
          "session_id": "33d05f53-bb8a-4af0-a123-c3db740ce647",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Effect Registration Pattern Using Static Instances CoreEffects.cpp registers effects via static instances with renderer->registerEffect() pattern, ID 98 currently occupied by SnapwaveLinearEffect The effect registration system in CoreEffects.cpp uses a static instance pattern where each effect is declared as a static\u2026",
          "excerpt_chars": 319,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28119",
          "source_obs_ids": [
            28119
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T14:55:46.369Z",
          "session_id": "dfdba9aa-ffa6-4c82-9db5-bf3d8af7a43f",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Kuramoto Oscillator Field Rendering Architecture Design Phase-to-color rendering system using coherence metrics, center-origin mirroring, and audio-reactive coupling for visualizing synchronized oscillator dynamics.",
          "excerpt_chars": 215,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27713",
          "source_obs_ids": [
            27713
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T21:19:55.535Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Center Point Architecture Uses LEDs 79/80 as Physical Origin Codebase consistently defines center origin at LED indices 79 (CENTER_LEFT) and 80 (CENTER_RIGHT) across all center-origin effects PRIMARY session searched for all references to center point 79 to understand the center-origin architecture before implementing\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27650",
          "source_obs_ids": [
            27650
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T19:21:41.689Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Centre-Origin Architecture Documentation and Phase Convention Found Documentation establishes outward motion convention sin(k*dist - phase) and inward sin(k*dist + phase) with Audio_Reactive_Motion_Phase_Analysis.md cataloging 45+ outward effects and 8 inward effects.",
          "excerpt_chars": 268,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27647",
          "source_obs_ids": [
            27647
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T19:21:32.569Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Motion Direction Conventions Research - Comprehensive Standards Found Extensive documentation exists for outward/inward motion, phase sign conventions, and centre-origin requirements with 3 bugs identified The subagent research uncovered extensive motion direction conventions across multiple documentation files.",
          "excerpt_chars": 313,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27642",
          "source_obs_ids": [
            27642
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T19:20:53.134Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "IMPLEMENTATION_PATTERNS.md - Effect Development Guidelines Comprehensive documentation of proven patterns for audio-reactive effects, centre-origin rendering, and phase accumulation The primary session discovered comprehensive implementation pattern documentation providing proven recipes for common effect development\u2026",
          "excerpt_chars": 319,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27630",
          "source_obs_ids": [
            27630
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T19:20:13.770Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "TransitionEngine Centre-Origin Architecture with PSRAM Buffer Allocation TransitionEngine implements centre-origin compliant transitions using PSRAM-allocated buffers (3x TOTAL_LEDS + dissolve order) with graceful internal SRAM fallback.",
          "excerpt_chars": 237,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27579",
          "source_obs_ids": [
            27579
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T18:52:26.628Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "RGBIC LED Color Theory Specialist Research - Gamut, Gamma, and Power Considerations WS2812 LEDs produce bluish white at (255,255,255), require gamma 2.2-2.5 correction, consume 60mA per LED at full white creating 96W total load for 320 LEDs.",
          "excerpt_chars": 241,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER"
          ]
        },
        {
          "evidence_id": "O27577",
          "source_obs_ids": [
            27577
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T18:51:28.049Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "LightwaveOS Architecture Fundamentals and Critical Design Invariants Examined architecture quick reference documenting centre-origin rendering requirement, no-malloc constraint, defensive bounds checking pattern, and 120 FPS performance targets.",
          "excerpt_chars": 245,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27564",
          "source_obs_ids": [
            27564
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T18:47:51.083Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "System Constraints Document - Performance, Memory, and Power Budgets [\"Frame budget is 8.33ms for 120 FPS with effect calculation limited to 2ms max (typical 1.2ms) before FastLED.show() consumes 2.5ms\",\"ESP32-S3 has 320KB SRAM with 280KB available after boot; LED buffer is 960 bytes (320 LEDs \u00d7 3 RGB), transition buf\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "RENDER/FX"
          ]
        }
      ],
      "origin": "theme",
      "theme_id": "decision_centre_origin"
    },
    {
      "decision_id": "decision_010",
      "statement": "RendererActor scheduling and buffer ownership decisions are locked for Core 1 execution.",
      "type": "decision",
      "status": "current",
      "confidence": "high",
      "date_range": {
        "first_seen": "2025-10-16T11:24:43.113000Z",
        "last_seen": "2026-02-09T14:34:00.302000Z"
      },
      "rationale": "No supporting excerpts found.",
      "alternatives_rejected": "No supporting excerpts found.",
      "primary_citation_count": 142,
      "supplemental_citation_count": 13,
      "session_count": 43,
      "citations": [
        {
          "evidence_id": "O28338",
          "source_obs_ids": [
            28338
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T14:34:00.302Z",
          "session_id": "d4a7bce4-fb66-4f17-86c2-4148009186b8",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "RendererActor runs at 120 FPS on ESP32 Core 1 with tight frame budget RendererActor implementation shows 8.33ms frame budget with 2-4ms render time and 2ms LED driver overhead.",
          "excerpt_chars": 176,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28068",
          "source_obs_ids": [
            28068
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T13:46:48.619Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Global Mode zoneId Handling Fixed in BeatPulseBloomEffect Added explicit 0xFF check treating global non-zone mode as zone 0 preventing out-of-bounds array access in transport state.",
          "excerpt_chars": 181,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28056",
          "source_obs_ids": [
            28056
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T13:35:42.420Z",
          "session_id": "c3c8a9fc-f4fb-402d-a4ee-5e6742c7343a",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Clock Spine Fix Validated on Hardware with Live Serial Output Analysis Debug logs confirm END-OF-HOP semantics working correctly with consistent timing across AudioActor, EsBeatClock, and RendererActor at runtime The primary session successfully validated the clock spine fix implementation on live hardware by analyzin\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27641",
          "source_obs_ids": [
            27641
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T19:20:47.595Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "System Architecture Constraints Drive Beat Pulse Simplicity Requirements Watchdog timeout risk, 2ms render budget, memory limits, and multi-stage pipeline necessitate minimal effect complexity for stability ESP32 watchdog timer management emerges as critical system stability constraint requiring aggressive prevention\u2026",
          "excerpt_chars": 319,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27609",
          "source_obs_ids": [
            27609
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T19:15:54.809Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Post-Processor Usage Points Identified Post-processor used in three locations: construction, frame processing, and effect change reset The primary session investigated post-processor integration points in RendererActor.cpp to understand its scope.",
          "excerpt_chars": 247,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27577",
          "source_obs_ids": [
            27577
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T18:51:28.049Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "LightwaveOS Architecture Fundamentals and Critical Design Invariants Examined architecture quick reference documenting centre-origin rendering requirement, no-malloc constraint, defensive bounds checking pattern, and 120 FPS performance targets.",
          "excerpt_chars": 245,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27573",
          "source_obs_ids": [
            27573
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T18:50:51.764Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Critical Memory Architecture and PSRAM Allocation Strategy for Embedded System Stability The memory allocation architecture documentation was examined to understand the critical constraints that Beat Pulse effects operate within, particularly why dynamic allocation is forbidden in render paths and how PSRAM vs interna\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27564",
          "source_obs_ids": [
            27564
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T18:47:51.083Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "System Constraints Document - Performance, Memory, and Power Budgets [\"Frame budget is 8.33ms for 120 FPS with effect calculation limited to 2ms max (typical 1.2ms) before FastLED.show() consumes 2.5ms\",\"ESP32-S3 has 320KB SRAM with 280KB available after boot; LED buffer is 960 bytes (320 LEDs \u00d7 3 RGB), transition buf\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27561",
          "source_obs_ids": [
            27561
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T18:46:37.937Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "RendererActor 120 FPS LED Rendering Architecture on Core 1 Deterministic LED buffer management with 8333\u03bcs frame budget, exclusive buffer ownership, and post-processing pipeline integration.",
          "excerpt_chars": 190,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27544",
          "source_obs_ids": [
            27544
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T18:42:26.268Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "System Constraints and Performance Budget for Effect Development Examined hard limits including 2ms effect calculation budget, 120 FPS target, centre-origin rendering requirement, and power safety constraints.",
          "excerpt_chars": 209,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "RENDER/FX"
          ]
        }
      ],
      "origin": "theme",
      "theme_id": "decision_render_priority_budget"
    },
    {
      "decision_id": "decision_008",
      "statement": "IP-first discovery with mDNS as hint/fallback is favoured for deterministic connection.",
      "type": "decision",
      "status": "current",
      "confidence": "high",
      "date_range": {
        "first_seen": "2025-10-10T11:00:26.531000Z",
        "last_seen": "2026-02-07T18:50:51.764000Z"
      },
      "rationale": "No supporting excerpts found.",
      "alternatives_rejected": "No supporting excerpts found.",
      "primary_citation_count": 130,
      "supplemental_citation_count": 15,
      "session_count": 36,
      "citations": [
        {
          "evidence_id": "O27573",
          "source_obs_ids": [
            27573
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T18:50:51.764Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Critical Memory Architecture and PSRAM Allocation Strategy for Embedded System Stability The memory allocation architecture documentation was examined to understand the critical constraints that Beat Pulse effects operate within, particularly why dynamic allocation is forbidden in render paths and how PSRAM vs interna\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27133",
          "source_obs_ids": [
            27133
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T17:34:26.610Z",
          "session_id": "f3ff038f-9d06-4165-99cb-b3bf8c4ef2f7",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "ConnectionManager Implements Actor-Based Connection State Machine with Swift 6 Strict Concurrency Actor-isolated connection management with 7 connection states, delegate pattern for ready state, and async event stream consumption.",
          "excerpt_chars": 230,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O26726",
          "source_obs_ids": [
            26726
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T15:57:15.186Z",
          "session_id": "f3ff038f-9d06-4165-99cb-b3bf8c4ef2f7",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "WiFi Scan and mDNS Discovery - Multiple Dynamic Allocation Sources WiFiManager performs network scanning with results stored in std::vector, mDNS peer discovery tracks discovered devices, both creating dynamic allocations The grep search for WiFi scanning and mDNS discovery revealed two additional sources of dynamic m\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "CONTROL/NETWORK"
          ]
        },
        {
          "evidence_id": "O26545",
          "source_obs_ids": [
            26545
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T14:43:51.534Z",
          "session_id": "f3ff038f-9d06-4165-99cb-b3bf8c4ef2f7",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "network_config.h Defines WiFi and WebSocket Configuration Constants Network configuration header documents WS_MAX_CLIENTS = 4, 15-second ping interval, 20-second WiFi timeout, and multi-network fallback support PRIMARY session read complete network_config.h (163 lines) revealing WiFi and WebSocket configuration consta\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "CONTROL/NETWORK"
          ]
        },
        {
          "evidence_id": "O26121",
          "source_obs_ids": [
            26121
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-05T23:30:55.042Z",
          "session_id": "74301159-27f5-406c-b560-d7baa018b169",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "DeviceDiscoveryService Actor - Bonjour + HTTP Probe with AsyncStream Pattern Actor-based mDNS discovery using NWBrowser with fallback HTTP probing and reactive device updates via AsyncStream.",
          "excerpt_chars": 191,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX",
            "CONTROL/NETWORK"
          ]
        },
        {
          "evidence_id": "O26096",
          "source_obs_ids": [
            26096
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-05T23:06:27.887Z",
          "session_id": "74301159-27f5-406c-b560-d7baa018b169",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "ContentView Connection Sheet Trigger Updated for .idle and .failed States Auto-show logic migrated from single .disconnected check to dual .idle/.failed pattern matching with connection sheet on both states The ContentView connection sheet trigger logic received complete state enum migration updating the onChange hand\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O26009",
          "source_obs_ids": [
            26009
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-05T22:56:05.031Z",
          "session_id": "74301159-27f5-406c-b560-d7baa018b169",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "DeviceInfo Model Requires UUID Field Addition for Identity Verification Current model uses IP address as identifier lacking stable device UUID for identity verification across network changes The existing DeviceInfo model exhibits a critical architectural flaw: it uses IP address as the primary identifier (id property\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "CONTROL/NETWORK"
          ]
        },
        {
          "evidence_id": "O25989",
          "source_obs_ids": [
            25989
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-05T22:48:41.194Z",
          "session_id": "74301159-27f5-406c-b560-d7baa018b169",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Pre-Implementation Audit Required: Identify All Touch Points Before Replacement Code replacement phase gated on mapping all existing function injection points, dependencies, and call sites preventing zombie code and broken connections A critical pre-implementation gate was established requiring comprehensive audit of\u2026",
          "excerpt_chars": 319,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": []
        },
        {
          "evidence_id": "O25983",
          "source_obs_ids": [
            25983
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-05T22:47:45.883Z",
          "session_id": "74301159-27f5-406c-b560-d7baa018b169",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Firmware Logging Uses LW_LOG Macros with Tag-Based Categories Network code implements structured logging via LW_LOGI/LOGW/LOGE/LOGD macros with LW_LOG_TAG defining component categories like \"ApiKey\" and \"WiFi\" The ESP32 firmware implements structured logging throughout the network stack using LW_LOG macro family provi\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "CONTROL/NETWORK"
          ]
        },
        {
          "evidence_id": "O25954",
          "source_obs_ids": [
            25954
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-05T22:44:26.066Z",
          "session_id": "74301159-27f5-406c-b560-d7baa018b169",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Current iOS Device Discovery Implementation Uses Bonjour with HTTP Probe Fallback DeviceDiscoveryService implements actor-based mDNS discovery via _http._tcp with 5-second timeout fallback to HTTP probing 192.168.4.1 The current iOS device discovery implementation in DeviceDiscoveryService.swift uses an actor-based ar\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "CONTROL/NETWORK",
            "UI/UX"
          ]
        }
      ],
      "origin": "theme",
      "theme_id": "decision_ip_first_discovery"
    },
    {
      "decision_id": "decision_016",
      "statement": "Audio capture chain decisions nail mic/interface selection and hop/latency budgets.",
      "type": "decision",
      "status": "current",
      "confidence": "high",
      "date_range": {
        "first_seen": "2025-10-06T20:37:48.926000Z",
        "last_seen": "2026-02-08T13:44:11.715000Z"
      },
      "rationale": "No supporting excerpts found.",
      "alternatives_rejected": "No supporting excerpts found.",
      "primary_citation_count": 108,
      "supplemental_citation_count": 35,
      "session_count": 38,
      "citations": [
        {
          "evidence_id": "O28063",
          "source_obs_ids": [
            28063
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T13:44:11.715Z",
          "session_id": "c3c8a9fc-f4fb-402d-a4ee-5e6742c7343a",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Clock Spine Fix Validated: Metrics Confirm Correct Operation with FPS Optimization Recommendation External specialist confirms clock spine fix working correctly with 1-2ms latency; identifies vTaskDelay overhead and WS2812 physics as FPS limiters External specialist provided comprehensive validation of the clock spine\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "AUDIO/DSP"
          ]
        },
        {
          "evidence_id": "O28056",
          "source_obs_ids": [
            28056
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T13:35:42.420Z",
          "session_id": "c3c8a9fc-f4fb-402d-a4ee-5e6742c7343a",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Clock Spine Fix Validated on Hardware with Live Serial Output Analysis Debug logs confirm END-OF-HOP semantics working correctly with consistent timing across AudioActor, EsBeatClock, and RendererActor at runtime The primary session successfully validated the clock spine fix implementation on live hardware by analyzin\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28055",
          "source_obs_ids": [
            28055
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T13:35:32.828Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "LightwaveOS Clock Spine Architecture Validated on Hardware Three-domain timing system running live with EsBeatClock, renderer at 120 FPS, and ES audio backend User observed live hardware telemetry from LightwaveOS firmware showing the clock spine architecture functioning correctly across three timing domains.",
          "excerpt_chars": 310,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27938",
          "source_obs_ids": [
            27938
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T11:57:42.110Z",
          "session_id": "c3c8a9fc-f4fb-402d-a4ee-5e6742c7343a",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "External Specialist Audit Identifies Clock Spine Architecture as Root Cause of Audio-Visual Lag Specialist analysis reveals renderer anchors to frame-arrival time instead of audio-event time, causing systematic visual delay and phase lag External specialist conducted comprehensive audit of AUDIO_VISUAL_TIMING_ARCHITEC\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27890",
          "source_obs_ids": [
            27890
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T10:06:17.875Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Audio chunk size analysis recommends 128-sample hop for 50% latency reduction Reducing HOP_SIZE from 256 to 128 samples achieves 8ms latency with negligible CPU overhead Audio chunk size analysis document provides comprehensive evaluation of reducing hop size from 256 to 128 samples, concluding with strong recommendat\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP"
          ]
        },
        {
          "evidence_id": "O27867",
          "source_obs_ids": [
            27867
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T06:01:26.799Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "AudioActor Goertzel Analysis: 8-Band and 64-Bin Spectrum Processing with Tempo Tracking Audio pipeline uses dual-resolution Goertzel analysis with perceptual weighting, spectral flux novelty detection, and tempo tracker integration Primary session examined AudioActor's Goertzel analysis implementation revealing sophis\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP"
          ]
        },
        {
          "evidence_id": "O27642",
          "source_obs_ids": [
            27642
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T19:20:53.134Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "IMPLEMENTATION_PATTERNS.md - Effect Development Guidelines Comprehensive documentation of proven patterns for audio-reactive effects, centre-origin rendering, and phase accumulation The primary session discovered comprehensive implementation pattern documentation providing proven recipes for common effect development\u2026",
          "excerpt_chars": 319,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27569",
          "source_obs_ids": [
            27569
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T18:49:28.799Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Professional Audio-Visual Synchronization Systems - SMPTE Timecode and DMX Control VJ software uses SMPTE timecode and BPM information for perfect sync; wired audio taps preferred over microphones to minimize latency.",
          "excerpt_chars": 217,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP"
          ]
        },
        {
          "evidence_id": "O27150",
          "source_obs_ids": [
            27150
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T21:05:41.400Z",
          "session_id": "f3ff038f-9d06-4165-99cb-b3bf8c4ef2f7",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "AudioViewModel Implements Comprehensive Beat Tracking with Haptic Feedback and Telemetry Polling @Observable @MainActor ViewModel manages real-time audio metrics, 8-band spectrum, BPM detection, haptic feedback, and HTTP fallback polling at 548 lines.",
          "excerpt_chars": 251,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP"
          ]
        },
        {
          "evidence_id": "O26549",
          "source_obs_ids": [
            26549
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T14:45:20.916Z",
          "session_id": "f3ff038f-9d06-4165-99cb-b3bf8c4ef2f7",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "AudioCapture.h Reveals Platform-Specific DMA Buffer Allocations ESP32-S3 uses 1,280-byte stereo DMA buffer (HOP_SIZE\u00d72\u00d74 bytes), ESP32-P4 uses 512-byte mono buffer (HOP_SIZE\u00d72 bytes) PRIMARY session read AudioCapture.h (143 lines) revealing platform-specific audio capture memory architecture and DMA buffer sizing.",
          "excerpt_chars": 315,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP"
          ]
        }
      ],
      "origin": "theme",
      "theme_id": "decision_audio_capture_chain"
    },
    {
      "decision_id": "decision_012",
      "statement": "Watchdog-related timing guardrails are treated as mandatory stability constraints.",
      "type": "decision",
      "status": "current",
      "confidence": "high",
      "date_range": {
        "first_seen": "2025-10-16T19:15:31.146000Z",
        "last_seen": "2026-02-07T19:20:47.595000Z"
      },
      "rationale": "No supporting excerpts found.",
      "alternatives_rejected": "No supporting excerpts found.",
      "primary_citation_count": 53,
      "supplemental_citation_count": 13,
      "session_count": 15,
      "citations": [
        {
          "evidence_id": "O27641",
          "source_obs_ids": [
            27641
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T19:20:47.595Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "System Architecture Constraints Drive Beat Pulse Simplicity Requirements Watchdog timeout risk, 2ms render budget, memory limits, and multi-stage pipeline necessitate minimal effect complexity for stability ESP32 watchdog timer management emerges as critical system stability constraint requiring aggressive prevention\u2026",
          "excerpt_chars": 319,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O26219",
          "source_obs_ids": [
            26219
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T05:40:46.986Z",
          "session_id": "74301159-27f5-406c-b560-d7baa018b169",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "ESP32-S3 Task Watchdog Crash Fixed by Replacing taskYIELD with vTaskDelay Replaced taskYIELD with vTaskDelay(1) in AudioActor to allow IDLE0 task scheduling on Core 0.",
          "excerpt_chars": 167,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP"
          ]
        },
        {
          "evidence_id": "O26214",
          "source_obs_ids": [
            26214
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T05:35:37.199Z",
          "session_id": "74301159-27f5-406c-b560-d7baa018b169",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "ESP32 Watchdog Timer Feed Fix in AudioActor Replaced taskYIELD() with vTaskDelay(1) to allow IDLE0 task to feed watchdog timer.",
          "excerpt_chars": 127,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP"
          ]
        },
        {
          "evidence_id": "O26196",
          "source_obs_ids": [
            26196
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T04:39:01.257Z",
          "session_id": "74301159-27f5-406c-b560-d7baa018b169",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Task Watchdog crash root cause identified: taskYIELD() insufficient for IDLE task scheduling Embedded engineer investigation reveals taskYIELD() cannot yield to lower-priority IDLE0 task, causing watchdog starvation on Core 0 A comprehensive embedded systems investigation diagnosed the critical Task Watchdog Timer (TW\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": []
        },
        {
          "evidence_id": "O26192",
          "source_obs_ids": [
            26192
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T04:38:05.466Z",
          "session_id": "74301159-27f5-406c-b560-d7baa018b169",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "AudioActor Configuration - ESV11 Self-Clocked Mode vs LWLS Periodic Tick ESV11 backend uses tickInterval=0 for self-clocked blocking I2S reads while LWLS uses 10ms periodic ticks.",
          "excerpt_chars": 179,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP"
          ]
        },
        {
          "evidence_id": "O26188",
          "source_obs_ids": [
            26188
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T04:37:50.618Z",
          "session_id": "74301159-27f5-406c-b560-d7baa018b169",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "WebSocketService Missing Task Cancellation Checks in Receive Loop WebSocketService.receiveMessages() infinite loop never checks Task.isCancelled, preventing cooperative cancellation as identified in forensic audit The WebSocketService actor's receiveMessages() method runs an infinite loop to process incoming WebSocket\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "CONTROL/NETWORK"
          ]
        },
        {
          "evidence_id": "O26183",
          "source_obs_ids": [
            26183
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T04:37:41.687Z",
          "session_id": "74301159-27f5-406c-b560-d7baa018b169",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Root Cause Analysis - Dual WebSocket Connect Storm and CPU0 Starvation iOS app creates 6 WebSocket connections in 12 seconds while ESP32 Audio task starves IDLE0 causing watchdog reset.",
          "excerpt_chars": 185,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "CONTROL/NETWORK",
            "UI/UX"
          ]
        },
        {
          "evidence_id": "O26180",
          "source_obs_ids": [
            26180
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T04:18:37.590Z",
          "session_id": "74301159-27f5-406c-b560-d7baa018b169",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "ESP32 watchdog starvation fix with FreeRTOS task yielding Added taskYIELD() calls to AudioActor to prevent Core 0 IDLE task starvation during WebSocket streaming Fixed critical watchdog timer starvation issue in ESP32 firmware audio processing.",
          "excerpt_chars": 244,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "CONTROL/NETWORK"
          ]
        },
        {
          "evidence_id": "O26121",
          "source_obs_ids": [
            26121
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-05T23:30:55.042Z",
          "session_id": "74301159-27f5-406c-b560-d7baa018b169",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "DeviceDiscoveryService Actor - Bonjour + HTTP Probe with AsyncStream Pattern Actor-based mDNS discovery using NWBrowser with fallback HTTP probing and reactive device updates via AsyncStream.",
          "excerpt_chars": 191,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX",
            "CONTROL/NETWORK"
          ]
        },
        {
          "evidence_id": "O25954",
          "source_obs_ids": [
            25954
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-05T22:44:26.066Z",
          "session_id": "74301159-27f5-406c-b560-d7baa018b169",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Current iOS Device Discovery Implementation Uses Bonjour with HTTP Probe Fallback DeviceDiscoveryService implements actor-based mDNS discovery via _http._tcp with 5-second timeout fallback to HTTP probing 192.168.4.1 The current iOS device discovery implementation in DeviceDiscoveryService.swift uses an actor-based ar\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "CONTROL/NETWORK",
            "UI/UX"
          ]
        }
      ],
      "origin": "theme",
      "theme_id": "decision_watchdog_guardrails"
    },
    {
      "decision_id": "decision_004",
      "statement": "Renderer cadence and effect code are budgeted around 120 FPS operation.",
      "type": "decision",
      "status": "current",
      "confidence": "high",
      "date_range": {
        "first_seen": "2025-10-16T11:24:43.113000Z",
        "last_seen": "2026-02-09T14:34:00.302000Z"
      },
      "rationale": "No supporting excerpts found.",
      "alternatives_rejected": "No supporting excerpts found.",
      "primary_citation_count": 36,
      "supplemental_citation_count": 0,
      "session_count": 19,
      "citations": [
        {
          "evidence_id": "O28338",
          "source_obs_ids": [
            28338
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T14:34:00.302Z",
          "session_id": "d4a7bce4-fb66-4f17-86c2-4148009186b8",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "RendererActor runs at 120 FPS on ESP32 Core 1 with tight frame budget RendererActor implementation shows 8.33ms frame budget with 2-4ms render time and 2ms LED driver overhead.",
          "excerpt_chars": 176,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28118",
          "source_obs_ids": [
            28118
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T14:54:32.369Z",
          "session_id": "dfdba9aa-ffa6-4c82-9db5-bf3d8af7a43f",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Designed dt-Correct Coupled Oscillator System for LED Effects Architected frame-rate independent Kuramoto oscillator implementation using semi-implicit Euler integration with O(N) local coupling and Gaussian perturbation support.",
          "excerpt_chars": 229,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28056",
          "source_obs_ids": [
            28056
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T13:35:42.420Z",
          "session_id": "c3c8a9fc-f4fb-402d-a4ee-5e6742c7343a",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Clock Spine Fix Validated on Hardware with Live Serial Output Analysis Debug logs confirm END-OF-HOP semantics working correctly with consistent timing across AudioActor, EsBeatClock, and RendererActor at runtime The primary session successfully validated the clock spine fix implementation on live hardware by analyzin\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27900",
          "source_obs_ids": [
            27900
          ],
          "project": "v2",
          "timestamp": "2026-02-08T10:19:49.323Z",
          "session_id": "6b059617-7d88-41ea-8def-0c2326364071",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Effects Documentation Reveals Rendering Techniques and Performance Requirements Documentation describes effect categories, temporal blending, supersampling, and 120 FPS performance budget with 8.3ms frame time limit.",
          "excerpt_chars": 216,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27641",
          "source_obs_ids": [
            27641
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T19:20:47.595Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "System Architecture Constraints Drive Beat Pulse Simplicity Requirements Watchdog timeout risk, 2ms render budget, memory limits, and multi-stage pipeline necessitate minimal effect complexity for stability ESP32 watchdog timer management emerges as critical system stability constraint requiring aggressive prevention\u2026",
          "excerpt_chars": 319,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27577",
          "source_obs_ids": [
            27577
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T18:51:28.049Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "LightwaveOS Architecture Fundamentals and Critical Design Invariants Examined architecture quick reference documenting centre-origin rendering requirement, no-malloc constraint, defensive bounds checking pattern, and 120 FPS performance targets.",
          "excerpt_chars": 245,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27564",
          "source_obs_ids": [
            27564
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T18:47:51.083Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "System Constraints Document - Performance, Memory, and Power Budgets [\"Frame budget is 8.33ms for 120 FPS with effect calculation limited to 2ms max (typical 1.2ms) before FastLED.show() consumes 2.5ms\",\"ESP32-S3 has 320KB SRAM with 280KB available after boot; LED buffer is 960 bytes (320 LEDs \u00d7 3 RGB), transition buf\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27561",
          "source_obs_ids": [
            27561
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T18:46:37.937Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "RendererActor 120 FPS LED Rendering Architecture on Core 1 Deterministic LED buffer management with 8333\u03bcs frame budget, exclusive buffer ownership, and post-processing pipeline integration.",
          "excerpt_chars": 190,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27544",
          "source_obs_ids": [
            27544
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T18:42:26.268Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "System Constraints and Performance Budget for Effect Development Examined hard limits including 2ms effect calculation budget, 120 FPS target, centre-origin rendering requirement, and power safety constraints.",
          "excerpt_chars": 209,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O26974",
          "source_obs_ids": [
            26974
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T16:55:00.377Z",
          "session_id": "83352572-8ddc-428c-a07c-67179fdb2b62",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "RendererActor is 770-line core visual engine running at 120 FPS on dedicated core with audio sync Actor owns LED buffer exclusively, executes effects on Core 1 at highest priority, integrates zones, transitions, color correction, and audio-reactive rendering.",
          "excerpt_chars": 259,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        }
      ],
      "origin": "theme",
      "theme_id": "decision_120fps_budget"
    },
    {
      "decision_id": "decision_002",
      "statement": "Rainbow cycling and full hue-wheel sweeps are intentionally excluded.",
      "type": "decision",
      "status": "current",
      "confidence": "high",
      "date_range": {
        "first_seen": "2025-06-23T23:54:39Z",
        "last_seen": "2026-02-09T15:06:39.797000Z"
      },
      "rationale": "No supporting excerpts found.",
      "alternatives_rejected": "No supporting excerpts found.",
      "primary_citation_count": 32,
      "supplemental_citation_count": 5,
      "session_count": 11,
      "citations": [
        {
          "evidence_id": "O28371",
          "source_obs_ids": [
            28371
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T15:06:39.797Z",
          "session_id": "669ecadb-8086-47e4-ad1f-2aff39253d69",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Bloom Injection Refactored to Palette-Driven Color System Replaced HSV color summation with direct palette sampling, mapping 12 chroma bins to palette positions for dynamic color vocabulary The Bloom injection computation was completely refactored from HSV-based color summation to a palette-driven system.",
          "excerpt_chars": 306,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28358",
          "source_obs_ids": [
            28358
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-09T14:56:27.180Z",
          "session_id": "669ecadb-8086-47e4-ad1f-2aff39253d69",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "User Requests Prism Opacity Uncapping and Palette-Based Color System Two enhancement requests: remove 1.0 prism opacity cap for extreme ghosting effects, replace HSV with palette-driven color User provided feedback on Bloom parity implementation, confirming the prism effect's ghost layering behavior works as designed\u2026",
          "excerpt_chars": 319,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27650",
          "source_obs_ids": [
            27650
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T19:21:41.689Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Centre-Origin Architecture Documentation and Phase Convention Found Documentation establishes outward motion convention sin(k*dist - phase) and inward sin(k*dist + phase) with Audio_Reactive_Motion_Phase_Analysis.md cataloging 45+ outward effects and 8 inward effects.",
          "excerpt_chars": 268,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27577",
          "source_obs_ids": [
            27577
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T18:51:28.049Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "LightwaveOS Architecture Fundamentals and Critical Design Invariants Examined architecture quick reference documenting centre-origin rendering requirement, no-malloc constraint, defensive bounds checking pattern, and 120 FPS performance targets.",
          "excerpt_chars": 245,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27553",
          "source_obs_ids": [
            27553
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T18:44:07.505Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "FastLED Optimization Utilities for Fixed-Point Math and Timing Functions Wrapper functions provide normalized float results from sin16/cos16, saturating arithmetic, BPM-driven oscillators, and hue wrapping compliance.",
          "excerpt_chars": 217,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": []
        },
        {
          "evidence_id": "O27163",
          "source_obs_ids": [
            27163
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T10:02:42.189Z",
          "session_id": "f3ff038f-9d06-4165-99cb-b3bf8c4ef2f7",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Engineering Audit Identifies Critical Performance and Visual Quality Issues in Liquid Glass Implementation Expert review flagged GrainOverlay performance trap, GlowStack toy aesthetic risk, AnyView type-erasure overhead, and token enforcement gaps requiring immediate fixes.",
          "excerpt_chars": 274,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": []
        },
        {
          "evidence_id": "O26893",
          "source_obs_ids": [
            26893
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T16:54:03.496Z",
          "session_id": "f3ff038f-9d06-4165-99cb-b3bf8c4ef2f7",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "LightwaveOS iOS v2.5 \"Liquid Glass\" Visual System Architecture Comprehensive optical rendering engine specification for premium dark-mode SwiftUI components with deterministic multi-layer glass effects.",
          "excerpt_chars": 202,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX",
            "UI/UX"
          ]
        },
        {
          "evidence_id": "S26374-26375-26376-26377",
          "source_obs_ids": [
            26374,
            26375,
            26376,
            26377,
            26382
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T12:10:33.595Z",
          "session_id": "f3ff038f-9d06-4165-99cb-b3bf8c4ef2f7",
          "source_tier": "primary",
          "stitched": true,
          "excerpt": "PSRAM Diagnostic Code Exists But Is Conditionally Compiled [] PSRAM Hardware Requirement Added to README.md Prerequisites README.md now explicitly requires ESP32-S3 N16R8 variant with 8MB PSRAM as hardware prerequisite for building firmware.",
          "excerpt_chars": 241,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": []
        },
        {
          "evidence_id": "O26305",
          "source_obs_ids": [
            26305
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T08:43:18.619Z",
          "session_id": "83352572-8ddc-428c-a07c-67179fdb2b62",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "SwiftUI Implementation Strategy for Liquid Glass Visual System Engineering brief defines production-ready SwiftUI component library with 8-layer optical stack architecture and strict visual constraints.",
          "excerpt_chars": 202,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": []
        },
        {
          "evidence_id": "O12156",
          "source_obs_ids": [
            12156
          ],
          "project": "v2",
          "timestamp": "2026-01-06T22:42:54.746Z",
          "session_id": "1bf93c26-66d1-48f5-8dd5-f0543d729894",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "LightwaveOS Repository CLAUDE.md Agent Protocol Documentation Comprehensive AI-assisted development framework with mandatory agent selection protocol, 28 specialized skills, and 10 specialist agents The LightwaveOS repository implements a sophisticated AI-assisted development framework through CLAUDE.md protocol versi\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": []
        }
      ],
      "origin": "theme",
      "theme_id": "decision_no_rainbow"
    },
    {
      "decision_id": "decision_015",
      "statement": "LED silicon choice and dual-channel brightness caps are locked for current HW.",
      "type": "decision",
      "status": "current",
      "confidence": "high",
      "date_range": {
        "first_seen": "2025-10-05T21:55:54.785000Z",
        "last_seen": "2026-02-07T18:52:26.628000Z"
      },
      "rationale": "No supporting excerpts found.",
      "alternatives_rejected": "No supporting excerpts found.",
      "primary_citation_count": 30,
      "supplemental_citation_count": 7,
      "session_count": 17,
      "citations": [
        {
          "evidence_id": "O27579",
          "source_obs_ids": [
            27579
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T18:52:26.628Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "RGBIC LED Color Theory Specialist Research - Gamut, Gamma, and Power Considerations WS2812 LEDs produce bluish white at (255,255,255), require gamma 2.2-2.5 correction, consume 60mA per LED at full white creating 96W total load for 320 LEDs.",
          "excerpt_chars": 241,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER"
          ]
        },
        {
          "evidence_id": "O27577",
          "source_obs_ids": [
            27577
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T18:51:28.049Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "LightwaveOS Architecture Fundamentals and Critical Design Invariants Examined architecture quick reference documenting centre-origin rendering requirement, no-malloc constraint, defensive bounds checking pattern, and 120 FPS performance targets.",
          "excerpt_chars": 245,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27565",
          "source_obs_ids": [
            27565
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T18:47:54.030Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "FastLED Power Management and Hardware Initialization Architecture Examined FastLED driver initialization revealing setMaxPowerInVoltsAndMilliamps power limiting and dual-strip addLeds configuration across ESP32-S3 and ESP32-P4 platforms.",
          "excerpt_chars": 237,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER"
          ]
        },
        {
          "evidence_id": "O27564",
          "source_obs_ids": [
            27564
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T18:47:51.083Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "System Constraints Document - Performance, Memory, and Power Budgets [\"Frame budget is 8.33ms for 120 FPS with effect calculation limited to 2ms max (typical 1.2ms) before FastLED.show() consumes 2.5ms\",\"ESP32-S3 has 320KB SRAM with 280KB available after boot; LED buffer is 960 bytes (320 LEDs \u00d7 3 RGB), transition buf\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27561",
          "source_obs_ids": [
            27561
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T18:46:37.937Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "RendererActor 120 FPS LED Rendering Architecture on Core 1 Deterministic LED buffer management with 8333\u03bcs frame budget, exclusive buffer ownership, and post-processing pipeline integration.",
          "excerpt_chars": 190,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27559",
          "source_obs_ids": [
            27559
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T18:45:55.490Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "FastLED Hardware Abstraction Layer and Dual-Strip Buffer Architecture Examined FastLedDriver HAL providing unified 320-LED buffer mapped to dual physical WS2812 strips with thread-safe FreeRTOS mutex and performance tracking.",
          "excerpt_chars": 225,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER"
          ]
        },
        {
          "evidence_id": "O27544",
          "source_obs_ids": [
            27544
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T18:42:26.268Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "System Constraints and Performance Budget for Effect Development Examined hard limits including 2ms effect calculation budget, 120 FPS target, centre-origin rendering requirement, and power safety constraints.",
          "excerpt_chars": 209,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O26974",
          "source_obs_ids": [
            26974
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T16:55:00.377Z",
          "session_id": "83352572-8ddc-428c-a07c-67179fdb2b62",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "RendererActor is 770-line core visual engine running at 120 FPS on dedicated core with audio sync Actor owns LED buffer exclusively, executes effects on Core 1 at highest priority, integrates zones, transitions, color correction, and audio-reactive rendering.",
          "excerpt_chars": 259,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O26000",
          "source_obs_ids": [
            26000
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-05T22:50:57.623Z",
          "session_id": "402f25ca-9bb8-4560-9985-6d6c69e85d51",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "WLED Open-Source LED Controller Interface Design Patterns ESP32/ESP8266 webserver implementation with modern UI featuring segment-based control, color wheels, 100+ effects, preset/playlist system, and multi-platform access WLED represents the open-source community-driven approach to LED control, achieving remarkable f\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "RENDER/FX",
            "UI/UX"
          ]
        },
        {
          "evidence_id": "O24647",
          "source_obs_ids": [
            24647
          ],
          "project": "lightwave-controller",
          "timestamp": "2026-02-01T00:35:37.944Z",
          "session_id": "5328d46c-ccae-4c0e-9537-a30237e73a0a",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "LightwaveOS API v1 Documentation Defines Complete REST and WebSocket Interface Comprehensive API reference covering 47 effects, multi-zone composition, transitions, batch operations, and CENTER ORIGIN constraint for dual 160-LED strips The api-v1.md documentation provides exhaustive REST and WebSocket API reference fo\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "RENDER/FX",
            "CONTROL/NETWORK"
          ]
        }
      ],
      "origin": "theme",
      "theme_id": "decision_led_topology_constraints"
    },
    {
      "decision_id": "decision_005",
      "statement": "Render-path heap allocation is prohibited in favour of static buffers.",
      "type": "decision",
      "status": "current",
      "confidence": "high",
      "date_range": {
        "first_seen": "2025-10-05T21:55:54.785000Z",
        "last_seen": "2026-02-07T19:20:47.595000Z"
      },
      "rationale": "No supporting excerpts found.",
      "alternatives_rejected": "No supporting excerpts found.",
      "primary_citation_count": 26,
      "supplemental_citation_count": 7,
      "session_count": 16,
      "citations": [
        {
          "evidence_id": "O27641",
          "source_obs_ids": [
            27641
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T19:20:47.595Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "System Architecture Constraints Drive Beat Pulse Simplicity Requirements Watchdog timeout risk, 2ms render budget, memory limits, and multi-stage pipeline necessitate minimal effect complexity for stability ESP32 watchdog timer management emerges as critical system stability constraint requiring aggressive prevention\u2026",
          "excerpt_chars": 319,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27564",
          "source_obs_ids": [
            27564
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T18:47:51.083Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "System Constraints Document - Performance, Memory, and Power Budgets [\"Frame budget is 8.33ms for 120 FPS with effect calculation limited to 2ms max (typical 1.2ms) before FastLED.show() consumes 2.5ms\",\"ESP32-S3 has 320KB SRAM with 280KB available after boot; LED buffer is 960 bytes (320 LEDs \u00d7 3 RGB), transition buf\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27544",
          "source_obs_ids": [
            27544
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T18:42:26.268Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "System Constraints and Performance Budget for Effect Development Examined hard limits including 2ms effect calculation budget, 120 FPS target, centre-origin rendering requirement, and power safety constraints.",
          "excerpt_chars": 209,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "LEDS/POWER",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O26771",
          "source_obs_ids": [
            26771
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T16:12:08.751Z",
          "session_id": "f3ff038f-9d06-4165-99cb-b3bf8c4ef2f7",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "WsOtaCommands Base64 Decode Buffer Malloc Confirmed - Uncapped Dynamic Allocation handleOtaChunk line 613 allocates decode buffer using malloc from internal SRAM with size based on base64 input length without explicit cap Reading WsOtaCommands.cpp lines 590-670 confirmed the base64 decode buffer allocation pattern ide\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O26764",
          "source_obs_ids": [
            26764
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T16:08:24.778Z",
          "session_id": "f3ff038f-9d06-4165-99cb-b3bf8c4ef2f7",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "WebSocket Callback Stack Pressure Implementation Plan Created Comprehensive plan addresses 4672 bytes total stack savings across WsEffectsCommands and WsGateway with exact code replacements.",
          "excerpt_chars": 190,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX",
            "CONTROL/NETWORK"
          ]
        },
        {
          "evidence_id": "O26760",
          "source_obs_ids": [
            26760
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T16:07:22.000Z",
          "session_id": "f3ff038f-9d06-4165-99cb-b3bf8c4ef2f7",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Implementation Plan Created for StaticAssetRoutes Stack Overflow Fix Plan analyzes 3KB stack allocation issue and proposes static buffer solution with thread safety considerations.",
          "excerpt_chars": 180,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": []
        },
        {
          "evidence_id": "O26750",
          "source_obs_ids": [
            26750
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T16:03:20.058Z",
          "session_id": "f3ff038f-9d06-4165-99cb-b3bf8c4ef2f7",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "AudioBenchmarkRing Lock-Free Ring Buffer - 2KB Fixed Array for Cross-Core Sample Transfer Lock-free SPSC ring buffer uses atomic operations and fixed 64-sample array totaling 2KB for safe cross-core benchmark data transfer without mutexes Reading AudioBenchmarkRing.h revealed another excellent example of fixed-size, l\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP"
          ]
        },
        {
          "evidence_id": "O26749",
          "source_obs_ids": [
            26749
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T16:02:52.360Z",
          "session_id": "f3ff038f-9d06-4165-99cb-b3bf8c4ef2f7",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "LGPCrystallineGrowthEffect Fixed Crystal Arrays - Zero Dynamic Allocation in Render Path Effect implementation uses compile-time sized arrays for 10 crystal states totaling 30 bytes avoiding per-frame allocations during rendering Reading LGPCrystallineGrowthEffect.cpp demonstrated the render-path zero-allocation princ\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O26743",
          "source_obs_ids": [
            26743
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T16:00:42.841Z",
          "session_id": "f3ff038f-9d06-4165-99cb-b3bf8c4ef2f7",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Memory Allocation Documentation - Comprehensive Component Budget Guidelines MEMORY_ALLOCATION.md documents internal SRAM vs PSRAM usage rules with component-specific budgets and allocation patterns [\"Documentation shows FreeRTOS task stacks totaling ~96KB in internal SRAM across all actors\",\"WiFi/lwIP buffers document\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O23418",
          "source_obs_ids": [
            23418
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-01-30T01:48:33.036Z",
          "session_id": "ca55311f-8596-49e1-afc3-99ba576e2000",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "DeviceRegistry Header Defines Multi-Device Interface with WiFi-Disabled Stub DeviceRegistry.h provides 396-line interface for 8-device management with DeviceInfo struct, thread-safe API, and complete no-op stub for WiFi-disabled builds.",
          "excerpt_chars": 236,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "CONTROL/NETWORK"
          ]
        }
      ],
      "origin": "theme",
      "theme_id": "decision_no_heap_render"
    },
    {
      "decision_id": "decision_003",
      "statement": "PSRAM-enabled builds are required to avoid runtime memory failures.",
      "type": "decision",
      "status": "current",
      "confidence": "high",
      "date_range": {
        "first_seen": "2025-10-16T15:19:24.418000Z",
        "last_seen": "2026-02-07T19:20:47.595000Z"
      },
      "rationale": "No supporting excerpts found.",
      "alternatives_rejected": "No supporting excerpts found.",
      "primary_citation_count": 25,
      "supplemental_citation_count": 2,
      "session_count": 7,
      "citations": [
        {
          "evidence_id": "O27641",
          "source_obs_ids": [
            27641
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T19:20:47.595Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "System Architecture Constraints Drive Beat Pulse Simplicity Requirements Watchdog timeout risk, 2ms render budget, memory limits, and multi-stage pipeline necessitate minimal effect complexity for stability ESP32 watchdog timer management emerges as critical system stability constraint requiring aggressive prevention\u2026",
          "excerpt_chars": 319,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O26767",
          "source_obs_ids": [
            26767
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T16:09:22.349Z",
          "session_id": "f3ff038f-9d06-4165-99cb-b3bf8c4ef2f7",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Frame Capture Deferred Allocation Analysis Complete - Not a Significant Problem Subagent analysis concluded 2.9KB PSRAM allocation for debug capture is acceptable design with proper failure handling already in place The PRIMARY session dispatched a specialized subagent task to analyze the frame capture \"deferred alloc\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": []
        },
        {
          "evidence_id": "O26531",
          "source_obs_ids": [
            26531
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T14:38:25.184Z",
          "session_id": "f3ff038f-9d06-4165-99cb-b3bf8c4ef2f7",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Complete platformio.ini Configuration Reveals Missing PSRAM Initialization in Default Environment Full 536-line build configuration confirms esp32dev_audio lacks board_build.psram_type = opi while other environments correctly configure PSRAM PRIMARY session read complete platformio.ini (536 lines) confirming the root\u2026",
          "excerpt_chars": 319,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP"
          ]
        },
        {
          "evidence_id": "O26517",
          "source_obs_ids": [
            26517
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T14:34:00.004Z",
          "session_id": "f3ff038f-9d06-4165-99cb-b3bf8c4ef2f7",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Historical Memory Investigation Documentation Retrieved from Claude-Mem Five key observations from January 30 session reveal previous PSRAM misconfiguration analysis and internal SRAM exhaustion diagnosis PRIMARY session retrieved five historical observations from Claude-Mem spanning January 30 to February 6, revealin\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": []
        },
        {
          "evidence_id": "O26496",
          "source_obs_ids": [
            26496
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T12:53:08.213Z",
          "session_id": "f3ff038f-9d06-4165-99cb-b3bf8c4ef2f7",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "PSRAM Hardware Initialization Fix Applied to platformio.ini Added missing board_build.psram_type = opi configuration line to enable 8MB PSRAM on ESP32-S3 hardware The ESP32-S3 firmware was crashing during WiFi initialization due to memory exhaustion in internal SRAM.",
          "excerpt_chars": 267,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": []
        },
        {
          "evidence_id": "S26374-26375-26376-26377",
          "source_obs_ids": [
            26374,
            26375,
            26376,
            26377,
            26382
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T12:10:33.595Z",
          "session_id": "f3ff038f-9d06-4165-99cb-b3bf8c4ef2f7",
          "source_tier": "primary",
          "stitched": true,
          "excerpt": "PSRAM Diagnostic Code Exists But Is Conditionally Compiled [] PSRAM Hardware Requirement Added to README.md Prerequisites README.md now explicitly requires ESP32-S3 N16R8 variant with 8MB PSRAM as hardware prerequisite for building firmware.",
          "excerpt_chars": 241,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": []
        },
        {
          "evidence_id": "O26375",
          "source_obs_ids": [
            26375
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T12:10:29.055Z",
          "session_id": "f3ff038f-9d06-4165-99cb-b3bf8c4ef2f7",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "PSRAM Hardware Requirement Added to README.md Prerequisites README.md now explicitly requires ESP32-S3 N16R8 variant with 8MB PSRAM as hardware prerequisite for building firmware.",
          "excerpt_chars": 179,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": []
        },
        {
          "evidence_id": "S26372-26373-26374-26375",
          "source_obs_ids": [
            26372,
            26373,
            26374,
            26375,
            26376
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T12:10:22.922Z",
          "session_id": "f3ff038f-9d06-4165-99cb-b3bf8c4ef2f7",
          "source_tier": "primary",
          "stitched": true,
          "excerpt": "Historical Fix: PSRAM Buffer Move Commit (d2acf781) - Evidence of Known Memory Issues [] PSRAM Mandatory Constraint Added to AGENTS.md Documentation now explicitly requires PSRAM enabled for all builds with technical justification and failure mode description.",
          "excerpt_chars": 260,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": []
        },
        {
          "evidence_id": "O26373",
          "source_obs_ids": [
            26373
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T12:10:13.068Z",
          "session_id": "f3ff038f-9d06-4165-99cb-b3bf8c4ef2f7",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "PSRAM Mandatory Constraint Added to AGENTS.md Documentation now explicitly requires PSRAM enabled for all builds with technical justification and failure mode description.",
          "excerpt_chars": 171,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": []
        },
        {
          "evidence_id": "S26369-26371-26372-26373",
          "source_obs_ids": [
            26369,
            26371,
            26372,
            26373,
            26374
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T12:10:03.438Z",
          "session_id": "f3ff038f-9d06-4165-99cb-b3bf8c4ef2f7",
          "source_tier": "primary",
          "stitched": true,
          "excerpt": "FreeRTOS Queue Allocations Contributing to Internal SRAM Usage [] PSRAM Mandatory for All Build Environments Project now requires PSRAM configuration for all ESP32-S3 builds due to memory requirements exceeding internal SRAM capacity.",
          "excerpt_chars": 234,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": []
        }
      ],
      "origin": "theme",
      "theme_id": "decision_psram_required"
    },
    {
      "decision_id": "decision_013",
      "statement": "System limits are maintained via single-source constants with validation checks.",
      "type": "decision",
      "status": "current",
      "confidence": "high",
      "date_range": {
        "first_seen": "2026-01-28T05:17:25.852000Z",
        "last_seen": "2026-02-08T21:43:02.979000Z"
      },
      "rationale": "No supporting excerpts found.",
      "alternatives_rejected": "No supporting excerpts found.",
      "primary_citation_count": 19,
      "supplemental_citation_count": 1,
      "session_count": 6,
      "citations": [
        {
          "evidence_id": "O28238",
          "source_obs_ids": [
            28238
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T21:43:02.979Z",
          "session_id": "33d05f53-bb8a-4af0-a123-c3db740ce647",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Effect Registration Ends at ID 122 with Validation Registration sequence concludes with Kuramoto Transport at ID 122 followed by count validation against limits::MAX_EFFECTS The effect registration concludes with Kuramoto Transport at ID 122, followed by validation logic that compares the actual registration count aga\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O28028",
          "source_obs_ids": [
            28028
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T13:22:31.323Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "BeatPulseBloomEffect registration verification Grep confirms BeatPulseBloomEffect properly integrated into CoreEffects registration system at effect ID 121 Grep verification confirms BeatPulseBloomEffect properly integrated into effect registration system.",
          "excerpt_chars": 256,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27933",
          "source_obs_ids": [
            27933
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-08T11:56:02.004Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "MAX_EFFECTS Single Source of Truth Architecture with Compile-Time Validation Effect count limit (121) defined once in config/limits.h and validated across 15+ subsystems via static assertions and bounds checking The grep search reveals LightwaveOS implements rigorous **single source of truth** architecture for the eff\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27668",
          "source_obs_ids": [
            27668
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T19:28:35.094Z",
          "session_id": "f201dce0-ef12-4a08-8f99-62e548d331f9",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "System Limits Configuration Single Source of Truth limits.h defines MAX_EFFECTS=120, MAX_PALETTES=75, MAX_ZONES=8 as centralized constants with static assertion enforcement preventing component drift.",
          "excerpt_chars": 200,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27249",
          "source_obs_ids": [
            27249
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T10:50:28.604Z",
          "session_id": "3f16b4b8-d3a3-47c3-9f60-11bc4d22cb97",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "PluginManagerActor.h adds compile-time validation enforcing plugin buffer capacity Static assert added to PluginConfig ensuring MAX_EFFECTS buffer accommodates all registered effects from limits.h.",
          "excerpt_chars": 197,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27248",
          "source_obs_ids": [
            27248
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T10:50:14.104Z",
          "session_id": "3f16b4b8-d3a3-47c3-9f60-11bc4d22cb97",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "PluginManagerActor.h adds limits.h include for potential static assert Plugin manager header imports centralized limits preparing for compile-time validation enforcement.",
          "excerpt_chars": 170,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": []
        },
        {
          "evidence_id": "O27246",
          "source_obs_ids": [
            27246
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T10:49:49.622Z",
          "session_id": "3f16b4b8-d3a3-47c3-9f60-11bc4d22cb97",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "BuiltinEffectRegistry implements compile-time validation with detailed error message Static assert at line 32-33 enforces plugin buffer must accommodate all effects from limits.h.",
          "excerpt_chars": 179,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27245",
          "source_obs_ids": [
            27245
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T10:49:36.871Z",
          "session_id": "3f16b4b8-d3a3-47c3-9f60-11bc4d22cb97",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "BuiltinEffectRegistry.h contains compile-time assertion enforcing buffer headroom Static assert validates plugin system MAX_EFFECTS (128) is greater than or equal to limits::MAX_EFFECTS (113).",
          "excerpt_chars": 192,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27225",
          "source_obs_ids": [
            27225
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T10:45:15.665Z",
          "session_id": "3f16b4b8-d3a3-47c3-9f60-11bc4d22cb97",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Single source of truth limits.h created to prevent effect count drift Centralized header defines MAX_EFFECTS = 113 with comprehensive documentation and compile-time enforcement strategy.",
          "excerpt_chars": 186,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O27220",
          "source_obs_ids": [
            27220
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-07T10:43:52.466Z",
          "session_id": "0c54afa3-962d-4177-92f2-611596e6d0d7",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "BuiltinEffectRegistry.h Updated with Static Assert Enforcing Capacity Constraint Added compile-time assertion ensuring BuiltinEffectRegistry MAX_EFFECTS (128) >= limits::MAX_EFFECTS preventing capacity underflow.",
          "excerpt_chars": 212,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        }
      ],
      "origin": "theme",
      "theme_id": "decision_limits_single_source"
    },
    {
      "decision_id": "decision_009",
      "statement": "Actor boundaries and explicit state ownership are the primary concurrency model.",
      "type": "decision",
      "status": "current",
      "confidence": "high",
      "date_range": {
        "first_seen": "2025-10-10T11:00:26.531000Z",
        "last_seen": "2026-02-06T17:34:26.610000Z"
      },
      "rationale": "No supporting excerpts found.",
      "alternatives_rejected": "No supporting excerpts found.",
      "primary_citation_count": 13,
      "supplemental_citation_count": 0,
      "session_count": 11,
      "citations": [
        {
          "evidence_id": "O27133",
          "source_obs_ids": [
            27133
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-06T17:34:26.610Z",
          "session_id": "f3ff038f-9d06-4165-99cb-b3bf8c4ef2f7",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "ConnectionManager Implements Actor-Based Connection State Machine with Swift 6 Strict Concurrency Actor-isolated connection management with 7 connection states, delegate pattern for ready state, and async event stream consumption.",
          "excerpt_chars": 230,
          "explicit_identifier": false,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O26087",
          "source_obs_ids": [
            26087
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-02-05T23:04:35.088Z",
          "session_id": "402f25ca-9bb8-4560-9985-6d6c69e85d51",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "ZoneViewModel State Management Implementation @Observable ViewModel with 150ms debouncing, optimistic updates, WebSocket-preferred networking, centre-origin symmetric boundary calculations, and pending state tracking for echo prevention The ZoneViewModel implementation reveals sophisticated state management patterns a\u2026",
          "excerpt_chars": 320,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX",
            "CONTROL/NETWORK"
          ]
        },
        {
          "evidence_id": "O24122",
          "source_obs_ids": [
            24122
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-01-31T14:46:15.037Z",
          "session_id": "4148d590-a4e8-4429-a57c-dc4750f73741",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "WebServer.cpp shows firmware v2 architecture with Actor System integration Firmware implements REST and WebSocket APIs with NodeOrchestrator for thread-safe state management.",
          "excerpt_chars": 174,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "CONTROL/NETWORK"
          ]
        },
        {
          "evidence_id": "O23265",
          "source_obs_ids": [
            23265
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-01-30T00:37:56.269Z",
          "session_id": "ca55311f-8596-49e1-afc3-99ba576e2000",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "ActorSystem orchestrates lifecycle management for renderer, show director, and audio actors Singleton coordinator creates actors in dependency order with RendererActor first, then ShowDirectorActor and AudioActor.",
          "excerpt_chars": 213,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "AUDIO/DSP",
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O12313",
          "source_obs_ids": [
            12313
          ],
          "project": "v2",
          "timestamp": "2026-01-07T22:31:45.792Z",
          "session_id": "5aa19d7f-c4ac-4a36-a587-e254d53325c2",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "WebServer Architecture and Subscription Infrastructure Examined complete WebServer class showing actor system integration, subscription management, and cached state patterns for thread-safe operation.",
          "excerpt_chars": 200,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O12261",
          "source_obs_ids": [
            12261
          ],
          "project": "v2",
          "timestamp": "2026-01-07T22:12:29.408Z",
          "session_id": "5aa19d7f-c4ac-4a36-a587-e254d53325c2",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "WebServer.cpp Architecture and Component Integration WebServer implements REST API and WebSocket server with modular handlers, broadcasters, and thread-safe renderer state caching.",
          "excerpt_chars": 180,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX",
            "CONTROL/NETWORK"
          ]
        },
        {
          "evidence_id": "O10766",
          "source_obs_ids": [
            10766
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2026-01-02T14:11:44.802Z",
          "session_id": "b2fd26dd-7767-4256-8528-a7ff31ee0f5b",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "Tab5.encoder firmware regression identified - dual encoder test code replaced production architecture Main.cpp reverted to hardware test harness, bypassing EncoderService abstraction layer and leaving new modular code unintegrated.",
          "excerpt_chars": 231,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "UI/UX"
          ]
        },
        {
          "evidence_id": "O6730",
          "source_obs_ids": [
            6730
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2025-12-29T06:13:47.837Z",
          "session_id": "4c464bef-e749-4a3f-84c3-bc9dc1928f8f",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "RendererActor Saturation Mutation Point Single write location for saturation state in handleSetSaturation message handler The search for saturation write operations reveals the Actor pattern's disciplined state management.",
          "excerpt_chars": 222,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O3844",
          "source_obs_ids": [
            3844
          ],
          "project": "Lightwave-Ledstrip",
          "timestamp": "2025-12-27T07:08:03.863Z",
          "session_id": "9c4d14d4-502d-47e6-87c4-10abc0aa8798",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "ActorSystem Singleton Orchestration and Lifecycle Management Manages actor creation, startup ordering, and provides centralized access to RendererActor and ShowDirectorActor The ActorSystem is the central orchestrator that provides WebServer with access to actors via getRenderer().",
          "excerpt_chars": 282,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "RENDER/FX"
          ]
        },
        {
          "evidence_id": "O1661",
          "source_obs_ids": [
            1661
          ],
          "project": "v2",
          "timestamp": "2025-12-21T11:31:59.124Z",
          "session_id": "a819e442-68f9-49f5-88f1-45dd71614aa0",
          "source_tier": "primary",
          "stitched": false,
          "excerpt": "WebServer Architecture and API Structure WebServer provides dual REST APIs (legacy + v1) and WebSocket with actor-based thread-safe state management.",
          "excerpt_chars": 149,
          "explicit_identifier": true,
          "citation_quality_pass": true,
          "domain_tags": [
            "CONTROL/NETWORK"
          ]
        }
      ],
      "origin": "theme",
      "theme_id": "decision_actor_state_ownership"
    }
  ]
}